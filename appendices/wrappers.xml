<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.28 $ -->
<!-- EN-Revision: 1.54 Maintainer: dams Status: ready -->
<appendix id="wrappers">
 <title>Liste des protocoles supportés</title>
 <para>
  Cette section recense une liste de protocolesw gérant les URL,
  qui sont intégrés dans les fonctions d'accès aux fichiers,
  dans &php;. Par exemple, les fonctions
  <function>fopen</function> et <function>copy</function>.
  Ces fonctionnalités sont compilées comme des gestionnaires externes,
  et à partir de &php; 4.3.0, vous pouvez créer vos propres
  gestionnaires, avec la fonction <function>stream_register_wrapper</function>.
 </para>

 <section id="wrappers.file">
  <title>Système de fichiers</title>
  <simpara>
   Toutes les versions de &php;.
   Explicitement avec le protocole <filename>file://</filename> depuis &php; 4.3.0.
  </simpara>

  <itemizedlist>
   <listitem><simpara><filename>/path/to/file.ext</filename></simpara></listitem>
   <listitem><simpara><filename>relative/path/to/file.ext</filename></simpara></listitem>
   <listitem><simpara><filename>fileInCwd.ext</filename></simpara></listitem>
   <listitem><simpara><filename>C:/path/to/winfile.ext</filename></simpara></listitem>
   <listitem><simpara><filename>C:\path\to\winfile.ext</filename></simpara></listitem>
   <listitem><simpara><filename>\\smbserver\share\path\to\winfile.ext</filename></simpara></listitem>
   <listitem><simpara><filename>file:///path/to/file.ext</filename></simpara></listitem>
  </itemizedlist>

  <simpara>
   <filename>file://</filename> est le gestionnaire par défaut de &php;
   et il représente les fichiers locaux. Lorsqu'un chemin relatif eest
   spécifié (un chemin qui ne commence pas par /, \, \\, ou une lettre de
   lecteur Windows), le chemin sera calculé relativement à la position courante.
   Dans de nombreux cas, c'est le dossier de résidence du script, à moins qu'il
   n'ait été modifié. En utilisant la version CLI, le chemin sera calculé
   par rapport au dossier d'appel du script.
  </simpara>

  <simpara>
   Avec certaines fonctions comme <function>fopen</function> et
   <function>file_get_contents</function>,
   <literal>include_path</literal> peut être scanné pour y trouver les
   fichiers, si un chemin relatif est fourni.
  </simpara>

  <para>
   <table>
    <title>Liste des gestionnaires</title>
    <tgroup cols="2">
     <thead>
      <row>
       <entry>Attribut</entry>
       <entry>Supporté</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>Restreint par <link linkend="ini.allow-url-fopen">allow_url_fopen</link>.</entry>
       <entry>Non</entry>
      </row>
      <row>
       <entry>Autorise les lectures</entry>
       <entry>Oui</entry>
      </row>
      <row>
       <entry>Autorise les écritures</entry>
       <entry>Oui</entry>
      </row>
      <row>
       <entry>Autorise l'ajout</entry>
       <entry>Oui</entry>
      </row>
      <row>
       <entry>Autorise simultanément les lectures et écritures</entry>
       <entry>Oui</entry>
      </row>
      <row>
       <entry>Supporte <function>stat</function></entry>
       <entry>Oui</entry>
      </row>
      <row>
       <entry>Supporte <function>unlink</function></entry>
       <entry>Oui</entry>
      </row>
      <row>
       <entry>Supporte <function>rename</function></entry>
       <entry>Oui</entry>
      </row>
      <row>
       <entry>Supporte <function>mkdir</function></entry>
       <entry>Oui</entry>
      </row>
      <row>
       <entry>Supporte <function>rmdir</function></entry>
       <entry>Oui</entry>
      </row>
     </tbody>
    </tgroup>
   </table>
  </para>
 </section>

 <section id="wrappers.socket">
  <title>Socket</title>
  <para>
   Cette section contient les options de contexte supportées par les gestionnaires
   qui travaillent via les sockets, comme <literal>tcp</literal>, <literal>http</literal>
   ou <literal>ftp</literal>.
  </para>
  <para>
   Depuis &php; 5.1.0, une seule option est supportée, <literal>bindto</literal>,
   qui peut être utilisée pour spécifier l'adresse IP (soit IPv4 ou IPv6) et/ou
   le numéro du port que &php; utilisera pour accéder au réseau. La syntaxe est
   <literal>ip:port</literal> (vous pouvez définir l'IP ou le numéro du port
   à &zero; si vous voulez laisser le choix au système).
  </para>
  <note>
   <para>
    Sachant que FTP crée deux sockets pendant une opération normale, vous ne
    pouvez pas spécifier le numéro du port dans l'option <literal>bindto</literal>.
    Donc, la seule syntaxe supportée est <literal>ip:0</literal> pour le
    gestionnaire FTP.
   </para>
  </note>
  <example>
   <title>Quelques exemples sur l'utilisation de l'option <literal>bindto</literal></title>
   <programlisting role="php">
<![CDATA[
<?php
// Connexion à Internet en utilisant l'IP '192.168.0.100'
$opts = array('socket' =>
array('bindto' => '192.168.0.100:0'));


// Connexion à Internet en utilisant l'IP '192.168.0.100' et le port '7000'
$opts = array('socket' =>
array('bindto' => '192.168.0.100:7000'));


// Connexion à Internet en utilisant le port '7000'
$opts = array('socket' =>
array('bindto' => '0:7000'));


// Création du contexte...
$context = stream_context_create($opts);

// ...et on l'utilise pour récupérer les données
echo file_get_contents('http://www.example.com', false, $context);

?>
]]>
   </programlisting>
  </example>
 </section>

 <section id="wrappers.http">
  <title>HTTP et HTTPS</title>
   <simpara>
    &php; 3, &php; 4, &php; 5. <filename>https://</filename> depuis &php; 4.3.0
   </simpara>

  <itemizedlist>
   <listitem><simpara><filename>http://example.com</filename></simpara></listitem>
   <listitem><simpara><filename>http://example.com/file.php?var1=val1&amp;var2=val2</filename></simpara></listitem>
   <listitem><simpara><filename>http://user:motdepasse@example.com</filename></simpara></listitem>
   <listitem><simpara><filename>https://example.com</filename></simpara></listitem>
   <listitem><simpara><filename>https://example.com/file.php?var1=val1&amp;var2=val2</filename></simpara></listitem>
   <listitem><simpara><filename>https://user:motdepasse@example.com</filename></simpara></listitem>
  </itemizedlist>

  <simpara>
   Permet des accès en lecture uniquement, pour des fichiers accessibles sur
   le réseau avec la méthode GET de HTTP 1.0. Un en-tête <literal>Host:</literal>
   est envoyé avec la requête, pour gérer les hôtes virtuels, basés sur des
   noms. Si vous avez configuré une version de navigateur avec
   l'option <link linkend="ini.user-agent">user_agent</link> dans votre
   fichier &php.ini;, ou via le contexte de flux, il sera aussi
   utilisé dans votre requête.
  </simpara>
   &warn.ssl-non-standard;
  <simpara>
   Les redirections sont supportées depuis &php; 4.0.5; si vous utilisez
   une version plus ancienne, vous devrez ajouter vous-même les
   slash finaux dans vos URL. S'il est important de connaître l'URL
   de la ressource qui vous a fourni le document, une fois que
   toutes les redirections ont été suivies, vous devez analyser
   les en-têtes de réponses retournés par le flux.
  </simpara>
  <example>
   <title>http:// et redirections</title>
   <programlisting role="php">
<![CDATA[
<?php
$url = 'http://www.example.com/redirecting_page.php';

$fp = fopen($url, 'r');

/* Avant PHP 4.3.0 utilisez $http_response_header
   au lieu de stream_get_meta_data() */
$meta_data = stream_get_meta_data($fp);
foreach($meta_data['wrapper_data'] as $response) {

  /* Redirections? */
  if (substr(strtolower($response), 0, 18) == 'location: ') {
    /* modification de $url avec la nouvelle URL */
    $url = substr($response, 18);
  }

}

?>
]]>
   </programlisting>
  </example>
  <simpara>
   Le flux donne l'accès au corps (<emphasis>body</emphasis>)
   de la ressource. Les en-têtes sont stockés dans la variable
   <varname>$http_response_header</varname>. Depuis &php; 4.3.0,
   les en-têtes sont aussi accessibles avec la fonction
   <function>stream_get_meta_data</function>.
  </simpara>
  <simpara>
   Les connexions HTTP sont en lecture seule. Vous ne pouvez pas écrire
   dans des fichiers ouverts via le protocole HTTP.
  </simpara>
  <note>
   <simpara>
    HTTPS est supporté depuis &php; 4.3, si vous avez compilé
    le support d'OpenSSL.
   </simpara>
  </note>
  <para>
   <table>
    <title>Résumé des gestionnaires</title>
    <tgroup cols="2">
     <thead>
      <row>
       <entry>Attribut</entry>
       <entry>Supporté</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>Limité par <link linkend="ini.allow-url-fopen">allow_url_fopen</link>.</entry>
       <entry>Oui</entry>
      </row>
      <row>
       <entry>Autorisé en lecture</entry>
       <entry>Oui</entry>
      </row>
      <row>
       <entry>Autorisé en écriture</entry>
       <entry>Non</entry>
      </row>
      <row>
       <entry>Autorisé en ajout</entry>
       <entry>Non</entry>
      </row>
      <row>
       <entry>Autorise les lectures / écritures simultanées</entry>
       <entry>Non applicable</entry>
      </row>
      <row>
       <entry>Supporte <function>stat</function></entry>
       <entry>Non</entry>
      </row>
      <row>
       <entry>Supporte <function>unlink</function></entry>
       <entry>Non</entry>
      </row>
      <row>
       <entry>Supporte <function>rename</function></entry>
       <entry>Non</entry>
      </row>
      <row>
       <entry>Supporte <function>mkdir</function></entry>
       <entry>Non</entry>
      </row>
      <row>
       <entry>Supporte <function>rmdir</function></entry>
       <entry>Non</entry>
      </row>
     </tbody>
    </tgroup>
   </table>
  </para>
  <para>
   <table>
    <title>Options de contextes (depuis &php; 5.0.0)</title>
    <tgroup cols="3">
     <thead>
      <row>
       <entry>Nom</entry>
       <entry>Utilisation</entry>
       <entry>Par défaut</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry><literal>method</literal></entry>
       <entry>
        <constant>GET</constant>, <constant>POST</constant>, ou
        une autre méthode HTTP acceptée apr le serveur distant.
       </entry>
       <entry><constant>GET</constant></entry>
      </row>
      <row>
       <entry><literal>header</literal></entry>
       <entry>Les autres en-têtes envoyés durant la requête. Les valeurs
       de cette option remplaceront les valeurs déjà configurées
       (comme <literal>User-agent:</literal>, <literal>Host:</literal>,
        et <literal>Authentication:</literal>).
       </entry>
       <entry></entry>
      </row>
      <row>
       <entry><literal>user_agent</literal></entry>
       <entry>Valeur à envoyer pour l'en-tête <literal>User-Agent:</literal>.
       Cette valeur sera utilisée si un type de navigateur
       <emphasis>n'est pas</emphasis> spécifié dans l'option
       de contexte <literal>header</literal> ci-dessus.
       </entry>
       <entry>
        Directive dans le &php.ini; : <literal>user_agent</literal>.
       </entry>
      </row>
      <row>
       <entry><literal>content</literal></entry>
       <entry>
        D'autres données envoyées après les en-têtes. Typiquement,
        utilisé pour placer les requêtes POST ou PUT.
       </entry>
       <entry></entry>
      </row>
      <row>
       <entry><literal>proxy</literal></entry>
       <entry>
        URI du serveur de proxy.
        (i.e. <literal>tcp://proxy.example.com:5100</literal> ).
       </entry>
       <entry></entry>
      </row>
      <row>
       <entry><literal>max_redirects</literal></entry>
       <entry>
        Le nombre maximum de redirection à suivre. Ajouté en &php; 5.1.0.
       </entry>
       <entry>20</entry>
      </row>
      <row>
       <entry><literal>request_fulluri</literal></entry>
       <entry>
        Lorsque cette option vaut &true;, l'URI entière sera utilisée lors
        de la construction de la requête. (i.e.
        <literal>GET http://www.example.com/path/to/file.html HTTP/1.0</literal>).
        Même si ce n'est pas la méthode standard, certains
        proxies le requiert.
       </entry>
       <entry>&false;</entry>
      </row>
     </tbody>
    </tgroup>
   </table>
  </para>

  <note>
   <title>Options de contexte pour les sockets</title>
   <simpara>
    Plusieurs options de contexte supplémentaires sont supportées
    par le <link linkend="transports.inet">gestionnaire de transport</link>
    Pour les flux <literal>http://</literal>, voyez les options de
    contexte du transport <literal>tcp://</literal>. Pour les flux
    <literal>https://</literal>, voyez les options de contexte
    du transport <literal>ssl://</literal>.
   </simpara>
  </note>
 </section>

 <section id="wrappers.ftp">
  <title>FTP et FTPS</title>
  <simpara>&php; 3, &php; 4, &php; 5.  <filename>ftps://</filename> depuis &php; 4.3</simpara>

  <itemizedlist>
   <listitem><simpara><filename>ftp://example.com/pub/file.txt</filename></simpara></listitem>
   <listitem><simpara><filename>ftp://user:motdepasse@example.com/pub/file.txt</filename></simpara></listitem>
   <listitem><simpara><filename>ftps://example.com/pub/file.txt</filename></simpara></listitem>
   <listitem><simpara><filename>ftps://user:motdepasse@example.com/pub/file.txt</filename></simpara></listitem>
  </itemizedlist>

  <simpara>
   Permet l'accès aux fichiers existants, et la création de fichiers via FTP.
   Si le serveur ne supporte pas les connexions en mode passif, la
   connexion échouera.
  </simpara>
  <simpara>
   Vous pouvez ouvrir des fichiers en lecture et en écriture, mais
   pas les deux en même temps. Si le fichier distant existe déjà sur le serveur
   ftp et que vous tentez de l'ouvrir en écriture mais que vous n'avez pas
   spécifié l'option <literal>overwrite</literal> dans le contexte,
   la connexion échouera. Si vous devez réécrire des fichiers existants
   en utilisant ftp, spécifiez l'option <literal>overwrite</literal> dans le
   contexte et ouvrez le fichier en écriture. Alternativement, vous pouvez
   utiliser l'<link linkend="ref.ftp">extension FTP</link>.
  </simpara>
  <note>
   <title>Apposer</title>
   <simpara>
    Depuis &php; 5.0.0, les fichiers doivent être apposé via le gestion
    d'URL <literal>ftp://</literal>. Dans les versions plus anciennes,
    tenter d'apposer un fichier via <literal>ftp://</literal> causera une erreur.
   </simpara>
  </note>
  <simpara>
   <filename>ftps://</filename> a été introduit en &php; 4.3.
   C'est le même que <filename>ftp://</filename>, mais il tente d'établir
   une connexion sécurisée avec le serveur FTP. Si le serveur ne le supporte
   pas, la connexion sera une connexion non sécurisée.
  </simpara>
  <note>
   <simpara>
    FTPS est supporté depuis &php; 4.3.0, si vous avez compilé le
    support d'OpenSSL.
   </simpara>
  </note>
  <para>
   <table>
    <title>Résumé des gestionnaires</title>
    <tgroup cols="3">
     <thead>
      <row>
       <entry>Attribut</entry>
       <entry>&php; 4</entry>
       <entry>&php; 5</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>Limité par <link linkend="ini.allow-url-fopen">allow_url_fopen</link>.</entry>
       <entry>Oui</entry>
       <entry>Oui</entry>
      </row>
      <row>
       <entry>Autorisé en lecture</entry>
       <entry>Oui</entry>
       <entry>Oui</entry>
      </row>
      <row>
       <entry>Autorisé en écriture</entry>
       <entry>Oui (nouveaux fichiers uniquement)</entry>
       <entry>Oui (nouveaux fichiers et fichiers existants avec <parameter>overwrite</parameter>)</entry>
      </row>
      <row>
       <entry>Autorisé en ajout</entry>
       <entry>Non</entry>
       <entry>Oui</entry>
      </row>
      <row>
       <entry>Autorisé en lecture et écriture</entry>
       <entry>Non</entry>
       <entry>Non</entry>
      </row>
      <row>
       <entry>Supporte <function>stat</function></entry>
       <entry>Non</entry>
       <entry>
        Depuis &php; 5.0.0 :  uniquement <function>filesize</function>,
        <function>filetype</function>, <function>file_exists</function>,
        <function>is_file</function> et <function>is_dir</function>.
        Depuis &php; 5.1.0 : <function>filemtime</function>.
       </entry>
      </row>
      <row>
       <entry>Supporte <function>unlink</function></entry>
       <entry>Non</entry>
       <entry>Oui</entry>
      </row>
      <row>
       <entry>Supporte <function>rename</function></entry>
       <entry>Non</entry>
       <entry>Oui</entry>
      </row>
      <row>
       <entry>Supporte <function>mkdir</function></entry>
       <entry>Non</entry>
       <entry>Oui</entry>
      </row>
      <row>
       <entry>Supporte <function>rmdir</function></entry>
       <entry>Non</entry>
       <entry>Oui</entry>
      </row>
     </tbody>
    </tgroup>
   </table>
  </para>
  <para>
   <table>
    <title>Options de contexte en &php; 5.0.0</title>
    <tgroup cols="3">
     <thead>
      <row>
       <entry>Nam</entry>
       <entry>Utilisation</entry>
       <entry>Par défaut</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry><literal>overwrite</literal></entry>
       <entry>
        Permet l'écrasement d'un fichier existant sur le serveur
        distant. S'applique au mode écriture uniquement.
       </entry>
       <entry>&false; (Désactivé)</entry>
      </row>
      <row>
       <entry><literal>resume_pos</literal></entry>
       <entry>
        Offset du fichier où commencer le transfert.
        S'applique uniquement au mode de lecture.
       </entry>
       <entry>0 (Début du fichier)</entry>
      </row>
      <row>
       <entry><literal>proxy</literal>(&php; 5.1.0 ou supérieur)</entry>
       <entry>
        Requête FTP proxy via le serveur http proxy.
        Appliquer uniquement aux opérations de lecture de fichiers.
        Exemple : <literal>tcp://squid.example.com:8000</literal>
       </entry>
       <entry />
      </row>
     </tbody>
    </tgroup>
   </table>
  </para>
  <note>
   <title>Options de contexte pour les sockets</title>
   <simpara>
    Plusieurs options de contexte supplémentaires sont supportées
    par le <link linkend="transports.inet">gestionnaire de transport</link>
    Pour les flux <literal>ftp://</literal>, voyez les options de
    contexte du transport <literal>tcp://</literal>. Pour les flux
    <literal>https://</literal>, voyez les options de contexte
    du transport <literal>ssl://</literal>.
   </simpara>
  </note>
 </section>

 <section id="wrappers.php">
  <title>Flux d'entrée/sortie</title>
  <simpara>
   &php; 3.0.13 et plus récent, <filename>php://output</filename>
   et <filename>php://input</filename> depuis &php; 4.3
  </simpara>

  <itemizedlist>
   <listitem><simpara><filename>php://stdin</filename></simpara></listitem>
   <listitem><simpara><filename>php://stdout</filename></simpara></listitem>
   <listitem><simpara><filename>php://stderr</filename></simpara></listitem>
   <listitem><simpara><filename>php://output</filename></simpara></listitem>
   <listitem><simpara><filename>php://input</filename></simpara></listitem>
  </itemizedlist>

  <simpara>
   <filename>php://stdin</filename>, <filename>php://stdout</filename>
   et <filename>php://stderr</filename> donne accès au flux correspondant
   d'entrée ou de sortie du processus &php;.
  </simpara>
  <simpara>
   <filename>php://output</filename> vous permet d'écrire dans le
   buffer de sortie, de la même manière que
   <function>print</function> et <function>echo</function>.
  </simpara>
  <simpara>
   <filename>php://input</filename> permet de lire des données POST bruts.
   C'est moins gourmand en mémoire que <varname>$HTTP_RAW_POST_DATA</varname>
   et il n'y a pas de directive spéciale dans &php.ini;.
   <filename>php://input</filename> n'est pas disponible avec
   <literal>enctype="multipart/form-data"</literal>.
  </simpara>
  <simpara>
   <filename>php://stdin</filename> et
   <filename>php://input</filename> sont lecture seule, tandis que
   <filename>php://stdout</filename>,
   <filename>php://stderr</filename> et
   <filename>php://output</filename> sont en écriture seule.
  </simpara>

  <simpara>
   <filename>php://filter</filename> est une sorte de méta-gestionnaire,
   prévu pour qui permet l'utilisation de filtre avec les données d'entrée
   au moment du démarrage du script. C'est pratique avec des fonctions
   compactes comme <function>readfile</function>, <function>file</function> et
   <function>file_get_contents</function> où il n'y a pas d'opportunité d'appliquer
   un filtre aux données lues.
  </simpara>
  <simpara>
   Le gestionnaire de <filename>php://filter</filename> prend les 'paramètres'
   suivants dans le 'chemin'.
  </simpara>
  <itemizedlist>
   <listitem>
    <para>
     <literal>/resource=&lt;flux à filtrer&gt;</literal>
     (<emphasis>obligatoire</emphasis>) Ce paramètre doit être situé à la fin
     de votre chaîne <filename>php://filter</filename> et doit pointer sur le
     flux à filtrer.
     <example>
      <title>php:// et les filtres</title>
      <programlisting role="php">
<![CDATA[
<?php
/* Ceci est l'équivalent de :
   readfile("http://www.example.com");
   puisque aucun filtre n'est spécifié */

readfile("php://filter/resource=http://www.example.com");
?>
]]>
      </programlisting>
     </example>
    </para>
   </listitem>
   <listitem>
    <para>
     <literal>/read=&lt;liste de filtres de la chaîne de lecture&gt;</literal>
     (<emphasis>optionnel</emphasis>) Ce paramètre prend un ou plusieurs noms de
     filtres, séparés par le caractère pipe <literal>|</literal>.
     <example>
      <title>php:// et filtres de lecture</title>
      <programlisting role="php">
<![CDATA[
<?php
/* Cette ligne va afficher le contenu de
   www.example.com tout en majuscule */
readfile("php://filter/read=string.toupper/resource=http://www.example.com");

/* Cela va faire la même chose que ci-dessus, mais en plus,
   le résultat sera chiffré en ROT13 */
readfile("php://filter/read=string.toupper|string.rot13/resource=http://www.example.com");
?>
]]>
      </programlisting>
     </example>
    </para>
   </listitem>
   <listitem>
    <para>
     <literal>/write=&lt;liste de filtres de la chaîne d'écriture&gt;</literal>
     (<emphasis>optionnel</emphasis>) Ce paramètre prend un ou plusieurs noms de
     filtres, séparés par le caractère pipe <literal>|</literal>.
     <example>
      <title>php:// et filtres d'écritures</title>
      <programlisting role="php">
<![CDATA[
<?php
/* Cette ligne va filtrer la chaîne "Bonjour le monde"
   avec le filtre rot13, puis écrire le résultat dans
   le fichier exemple.txt du dossier courant */
file_put_contents("php://filter/write=string.rot13/resource=exemple.txt","Bonjour le monde");
?>
]]>
      </programlisting>
     </example>
    </para>
   </listitem>
   <listitem>
    <simpara>
     <literal>/&lt;liste de filtres des deux chaînes&gt;</literal>
     (<emphasis>optionnel</emphasis>)  Tous les filtres qui ne sont pas
     préfixé avec <literal>read=</literal> ou
     <literal>write=</literal> seront appliqué aux deux chaînes de filtres,
     en lecture et en écriture.
    </simpara>
   </listitem>
  </itemizedlist>
  <para>
   <table>
    <title>
     Résumé des gestionnaires (pour <literal>php://filter</literal>,
     voyez le résumé du filtre)
    </title>
    <tgroup cols="2">
     <thead>
      <row>
       <entry>Attribut</entry>
       <entry>Supporté</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>Limité par <link linkend="ini.allow-url-fopen">allow_url_fopen</link>.</entry>
       <entry>Non</entry>
      </row>
      <row>
       <entry>Autorisé en lecture</entry>
       <entry>
        <literal>php://stdin</literal> et
        <literal>php://input</literal> uniquement.
       </entry>
      </row>
      <row>
       <entry>Autorisé en écriture</entry>
       <entry>
        <literal>php://stdout</literal>,
        <literal>php://stderr</literal> et
        <literal>php://output</literal> uniquement.
       </entry>
      </row>
      <row>
       <entry>Autorisé en ajout</entry>
       <entry>
        <literal>php://stdout</literal>,
        <literal>php://stderr</literal> et
        <literal>php://output</literal> uniquement.
        (Equivalent à écrire)
       </entry>
      </row>
      <row>
       <entry>Autorisé en lecture et écriture</entry>
       <entry>Non.  Ces gestionnaires sont unidirectionnels.</entry>
      </row>
      <row>
       <entry>Supporte <function>stat</function></entry>
       <entry>Non</entry>
      </row>
      <row>
       <entry>Supporte <function>unlink</function></entry>
       <entry>Non</entry>
      </row>
      <row>
       <entry>Supporte <function>rename</function></entry>
       <entry>Non</entry>
      </row>
      <row>
       <entry>Supporte <function>mkdir</function></entry>
       <entry>Non</entry>
      </row>
      <row>
       <entry>Supporte <function>rmdir</function></entry>
       <entry>Non</entry>
      </row>
     </tbody>
    </tgroup>
   </table>
  </para>
 </section>

 <section id="wrappers.compression">
  <title>Flux compressés</title>
  <simpara><filename>zlib:</filename> &php; 4.0.4 - &php; 4.2.3 (systèmes avec
  fopencookie uniquement)</simpara>
  <simpara><filename>compress.zlib://</filename> et
  <filename>compress.bzip2://</filename> depuis &php; 4.3.0 et plus récent.</simpara>

  <itemizedlist>
   <listitem><simpara><filename>zlib:</filename></simpara></listitem>
   <listitem><simpara><filename>compress.zlib://</filename></simpara></listitem>
   <listitem><simpara><filename>compress.bzip2://</filename></simpara></listitem>
  </itemizedlist>

  <simpara>
   <filename>zlib:</filename> fonctionne comme <function>gzopen</function>, hormis
   le fait que le flux peut être utilisé directement avec <function>fread</function>
   et les autres fonctions de système de fichier. Cette notation est obsolète
   depuis &php; 4.3.0, étant données les ambiguités dues aux noms de fichiers
   contenant des deux points ':'. Utilisez plutôt <filename>compress.zlib://</filename>.
  </simpara>

  <simpara>
   <filename>compress.zlib://</filename> et
   <filename>compress.bzip2://</filename> sont équivalents à
   <function>gzopen</function> et <function>bzopen</function>
   respectivement, et ils opèrent même sur les systèmes qui ne supportent pas
   fopencookie.
  </simpara>
  <para>
   <table>
    <title>Résumé des gestionnaires</title>
    <tgroup cols="2">
     <thead>
      <row>
       <entry>Attribut</entry>
       <entry>Supporté</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>Limité par <link linkend="ini.allow-url-fopen">allow_url_fopen</link>.</entry>
       <entry>Non</entry>
      </row>
      <row>
       <entry>Autorisé en lecture</entry>
       <entry>Oui</entry>
      </row>
      <row>
       <entry>Autorisé en écriture</entry>
       <entry>Oui</entry>
      </row>
      <row>
       <entry>Autorisé en ajout</entry>
       <entry>Oui</entry>
      </row>
      <row>
       <entry>Autorisé en lecture et écriture</entry>
       <entry>Non</entry>
      </row>
      <row>
       <entry>Supporte <function>stat</function></entry>
       <entry>
        Non, utilisez le gestionnaire <literal>file://</literal>
        pour avoir des informations sur les fichiers compressés.
       </entry>
      </row>
      <row>
       <entry>Supporte <function>unlink</function></entry>
       <entry>
        Non, utilisez le gestionnaire <literal>file://</literal>
        pour avoir des informations sur les fichiers compressés.
       </entry>
      </row>
      <row>
       <entry>Supporte <function>rename</function></entry>
       <entry>Non</entry>
      </row>
      <row>
       <entry>Supporte <function>mkdir</function></entry>
       <entry>Non</entry>
      </row>
      <row>
       <entry>Supporte <function>rmdir</function></entry>
       <entry>Non</entry>
      </row>
     </tbody>
    </tgroup>
   </table>
  </para>
</section>

 <section id="wrappers.ssh2">
  <title>Shell sécurisé 2</title>
  <simpara>
   <filename>ssh2.shell://</filename>
   <filename>ssh2.exec://</filename>
   <filename>ssh2.tunnel://</filename>
   <filename>ssh2.sftp://</filename>
   <filename>ssh2.scp://</filename>
   &php; 4.3.0 et supérieur (PECL)
  </simpara>

  <itemizedlist>
   <listitem><simpara><filename>ssh2.shell://user:pass@example.com:22/xterm</filename></simpara></listitem>
   <listitem><simpara><filename>ssh2.exec://user:pass@example.com:22/usr/local/bin/somecmd</filename></simpara></listitem>
   <listitem><simpara><filename>ssh2.tunnel://user:pass@example.com:22/192.168.0.1:14</filename></simpara></listitem>
   <listitem><simpara><filename>ssh2.sftp://user:pass@example.com:22/path/to/filename</filename></simpara></listitem>
  </itemizedlist>

  <note>
   <title>Ce gestionnaire n'est pas activé par défaut</title>
   <simpara>
    Pour utiliser le gestionnaire <filename>ssh2.*://</filename>, vous devez installer
    l'extension <ulink url="&url.pecl.package;ssh2">SSH2</ulink> disponible
    dans <ulink url="&url.pecl;">PECL</ulink>.
   </simpara>
  </note>

  <simpara>
   En plus d'accepter les traditionnelles identifications via l'URI, le gestionnaire ssh2
   réutilisera les connexions ouvertes en passant la ressource de connexion
   dans la partie hôte de l'URL.
  </simpara>

  <example>
   <title>Ouverture d'un flux depuis une connexion active</title>
   <programlisting role="php">
<![CDATA[
<?php
$session = ssh2_connect('example.com', 22);
ssh2_auth_pubkey_file($session, 'username', '/home/username/.ssh/id_rsa.pub',
                                            '/home/username/.ssh/id_rsa', 'secret');
$stream = fopen("ssh2.tunnel://$session/remote.example.com:1234", 'r');
?>
]]>
   </programlisting>
  </example>
  <para>
   <table>
    <title>Résumé du gestionnaire</title>
    <tgroup cols="6">
     <thead>
      <row>
       <entry>Attribut</entry>
       <entry>ssh2.shell</entry>
       <entry>ssh2.exec</entry>
       <entry>ssh2.tunnel</entry>
       <entry>ssh2.sftp</entry>
       <entry>ssh2.scp</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>Restreint par <link linkend="ini.allow-url-fopen">allow_url_fopen</link>.</entry>
       <entry>Oui</entry>
       <entry>Oui</entry>
       <entry>Oui</entry>
       <entry>Oui</entry>
       <entry>Oui</entry>
      </row>
      <row>
       <entry>Permet la lecture</entry>
       <entry>Oui</entry>
       <entry>Oui</entry>
       <entry>Oui</entry>
       <entry>Oui</entry>
       <entry>Oui</entry>
      </row>
      <row>
       <entry>Permet l'écriture</entry>
       <entry>Oui</entry>
       <entry>Oui</entry>
       <entry>Oui</entry>
       <entry>Oui</entry>
       <entry>Non</entry>
      </row>
      <row>
       <entry>Permet l'ajout</entry>
       <entry>Non</entry>
       <entry>Non</entry>
       <entry>Non</entry>
       <entry>Oui (lorsque supporté par le serveur)</entry>
       <entry>Non</entry>
      </row>
      <row>
       <entry>Permet l'écriture et la lecture simultanément</entry>
       <entry>Oui</entry>
       <entry>Oui</entry>
       <entry>Oui</entry>
       <entry>Oui</entry>
       <entry>Non</entry>
      </row>
      <row>
       <entry>Supporte la fonction <function>stat</function></entry>
       <entry>Non</entry>
       <entry>Non</entry>
       <entry>Non</entry>
       <entry>Oui</entry>
       <entry>Non</entry>
      </row>
      <row>
       <entry>Supporte la fonction <function>unlink</function></entry>
       <entry>Non</entry>
       <entry>Non</entry>
       <entry>Non</entry>
       <entry>Oui</entry>
       <entry>Non</entry>
      </row>
      <row>
       <entry>Supporte la fonction <function>rename</function></entry>
       <entry>Non</entry>
       <entry>Non</entry>
       <entry>Non</entry>
       <entry>Oui</entry>
       <entry>Non</entry>
      </row>
      <row>
       <entry>Supporte la fonction <function>mkdir</function></entry>
       <entry>Non</entry>
       <entry>Non</entry>
       <entry>Non</entry>
       <entry>Oui</entry>
       <entry>Non</entry>
      </row>
      <row>
       <entry>Supporte la fonction <function>rmdir</function></entry>
       <entry>Non</entry>
       <entry>Non</entry>
       <entry>Non</entry>
       <entry>Oui</entry>
       <entry>Non</entry>
      </row>
     </tbody>
    </tgroup>
   </table>
  </para>

  <para>
   <table>
    <title>Options de contexte</title>
    <tgroup cols="3">
     <thead>
      <row>
       <entry>Nom</entry>
       <entry>Usage</entry>
       <entry>Défaut</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry><literal>session</literal></entry>
       <entry>ressource ssh2 pré-connectée pour être réutilisée</entry>
       <entry/>
      </row>
      <row>
       <entry><literal>sftp</literal></entry>
       <entry>ressource sftp pré-allouée pour être réutilisée</entry>
       <entry/>
      </row>
      <row>
       <entry><literal>methods</literal></entry>
       <entry>méthodes échange de clés, hostkey, cipher, compression et MAC à utiliser</entry>
       <entry/>
      </row>
      <row>
       <entry><literal>callbacks</literal></entry>
       <entry></entry>
       <entry></entry>
      </row>
      <row>
       <entry><literal>username</literal></entry>
       <entry>Nom de l'utilisateur pour la connexion</entry>
       <entry></entry>
      </row>
      <row>
       <entry><literal>password</literal></entry>
       <entry>Mot de passe à utiliser lors d'une identification via mot de passe</entry>
       <entry></entry>
      </row>
      <row>
       <entry><literal>pubkey_file</literal></entry>
       <entry>Nom du fichier contenant la clé publique à utiliser lors de l'identification</entry>
       <entry></entry>
      </row>
      <row>
       <entry><literal>privkey_file</literal></entry>
       <entry>Nom du fichier contenant la clé privée à utiliser lors de l'identification</entry>
       <entry></entry>
      </row>
      <row>
       <entry><literal>env</literal></entry>
       <entry>Tableau associatif de variables d'environnements à définir</entry>
       <entry></entry>
      </row>
      <row>
       <entry><literal>term</literal></entry>
       <entry>Type d'émulation de terminal à demander lors de l'allocation d'un pty</entry>
       <entry></entry>
      </row>
      <row>
       <entry><literal>term_width</literal></entry>
       <entry>Largeur du terminal à demander lors de l'allocation d'un pty</entry>
       <entry></entry>
      </row>
      <row>
       <entry><literal>term_height</literal></entry>
       <entry>Hauteur du terminal à demander lors de l'allocation d'un pty</entry>
       <entry></entry>
      </row>
      <row>
       <entry><literal>term_units</literal></entry>
       <entry>Unités à utiliser avec term_width et term_height</entry>
       <entry><constant>SSH2_TERM_UNIT_CHARS</constant></entry>
      </row>
     </tbody>
    </tgroup>
   </table>
  </para>


 </section>

 <section id="wrappers.audio">
  <title>Flux Audio</title>
  <simpara><filename>ogg://</filename> &php; 4.3.0 et suivant (PECL) </simpara>

  <itemizedlist>
   <listitem><simpara><filename>ogg://fichierSon.ogg</filename></simpara></listitem>
   <listitem><simpara><filename>ogg:///chemin/vers/fichierSon.ogg</filename></simpara></listitem>
   <listitem><simpara><filename>ogg://http://www.example.com/chemin/vers/FluxAduio.ogg</filename></simpara></listitem>
  </itemizedlist>

  <note>
   <title>Ce gestionnaire n'est pas activé par défaut</title>
   <simpara>
    Pour utiliser le gestionnaire <filename>ogg://</filename>, vous devez installer
    l'extension <ulink url="&url.pecl.package;oggvorbis">OGG/Vorbis</ulink>
    disponible sur <ulink url="&url.pecl;">PECL</ulink>.
   </simpara>
  </note>

  <simpara>
   Les fichiers ouverts pour lecture avec le gestionnaire <filename>ogg://</filename>
   sont traités comme de l'audio compressé en utilisant le codec <literal>OGG/Vorbis</literal>.
   De la même façon, les fichiers ouverts pour écriture ou pour ajout avec le gestionnaire
   <filename>ogg://</filename> sont écrits comme étant des données audio compressées.
   La fonction <function>stream_get_meta_data</function>, lorsqu'elle est utilisée sur un
   fichier <literal>OGG/Vorbis</literal> ouvert pour lecture retournera des nombreux détails
   concernant ce flux, incluant l'en-tête <parameter>vendor</parameter>, tous les commentaires
   <parameter>comments</parameter>, le nombre de canaux
   <parameter>channels</parameter>, le taux d'échantillonnage <parameter>rate</parameter>
   ainsi que le taux d'encodage décrit par :
   <parameter>bitrate_lower</parameter>, <parameter>bitrate_upper</parameter>,
   <parameter>bitrate_nominal</parameter> et <parameter>bitrate_window</parameter>.
  </simpara>

  <para>
   <table>
    <title>Résumé du gestionnaire</title>
    <tgroup cols="2">
     <thead>
      <row>
       <entry>Attribut</entry>
       <entry>Supporté</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>Restreint par <link linkend="ini.allow-url-fopen">allow_url_fopen</link></entry>
       <entry>Non</entry>
      </row>
      <row>
       <entry>Permet la lecture</entry>
       <entry>Oui</entry>
      </row>
      <row>
       <entry>Permet l'écriture</entry>
       <entry>Oui</entry>
      </row>
      <row>
       <entry>Permet l'ajout</entry>
       <entry>Oui</entry>
      </row>
      <row>
       <entry>Permet la lecture et l'écriture simultanément</entry>
       <entry>Non</entry>
      </row>
      <row>
       <entry>Supporte la fonction <function>stat</function></entry>
       <entry>Non</entry>
      </row>
      <row>
       <entry>Supporte la fonction <function>unlink</function></entry>
       <entry>Non</entry>
      </row>
      <row>
       <entry>Supporte la fonction <function>rename</function></entry>
       <entry>Non</entry>
      </row>
      <row>
       <entry>Supporte la fonction <function>mkdir</function></entry>
       <entry>Non</entry>
      </row>
      <row>
       <entry>Supporte la fonction <function>rmdir</function></entry>
       <entry>Non</entry>
      </row>
     </tbody>
    </tgroup>
   </table>
  </para>
  <para>
   <table>
    <title>Options de contexte</title>
    <tgroup cols="3">
     <thead>
      <row>
       <entry>Nom</entry>
       <entry>Utilisation</entry>
       <entry>Défaut</entry>
       <entry>Mode</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry><literal>pcm_mode</literal></entry>
       <entry>
        L'encodage PCM à appliquer pendant la lecture, parmi un de ceux là :
        <constant>OGGVORBIS_PCM_U8</constant>, <constant>OGGVORBIS_PCM_S8</constant>,
        <constant>OGGVORBIS_PCM_U16_BE</constant>,
        <constant>OGGVORBIS_PCM_S16_BE</constant>,
        <constant>OGGVORBIS_PCM_U16_LE</constant> et
        <constant>OGGVORBIS_PCM_S16_LE</constant>.
        (8 vs 16 bit, signé ou non, gros ou petit <literal>endian</literal>)
       </entry>
       <entry>OGGVORBIS_PCM_S16_LE</entry>
       <entry>Lecture</entry>
      </row>
      <row>
       <entry><literal>rate</literal></entry>
       <entry>
        Taux d'échantillonnage des données entrantes, exprimé en Hz
       </entry>
       <entry>44100</entry>
       <entry>Écriture/Traitement</entry>
      </row>
      <row>
       <entry><literal>bitrate</literal></entry>
       <entry>
        Lorsque donné sous forme d'entier, la vitesse du débit pour encoder. (16000 to 131072)
        Lorsque donné sous forme de nombre à virgule flottante, la variation de la qualité du débit
        à utiliser. (-1.0 to 1.0)
       </entry>
       <entry>128000</entry>
       <entry>Écriture/Ajout</entry>
      </row>
      <row>
       <entry><literal>channels</literal></entry>
       <entry>
        Le numéro du canal audio à encoder, typiquement 1 (Mono) ou 2 (Stéréo).
        Intervalle pouvant aller aussi haut que 16.
       </entry>
       <entry>2</entry>
       <entry>Écriture/Ajout</entry>
      </row>
      <row>
       <entry><literal>comments</literal></entry>
       <entry>
        Un tableau de valeurs sous forme de chaînes de caractères à encoder
        dans la piste d'en-tête.
       </entry>
       <entry/>
       <entry>Écriture/Ajout</entry>
      </row>
     </tbody>
    </tgroup>
   </table>
  </para>
 </section>

</appendix>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
