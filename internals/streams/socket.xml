<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.1 $ -->
<!-- EN-Revision: 1.1 Maintainer: yannick Status: ready -->

 <sect1 id="streams.socket-api">
  <title>Références des flux socket</title>

  <refentry id="streams.php-stream-sock-open-from-socket">
   <refnamediv>
    <refname>php_stream_sock_open_from_socket</refname>
    <refpurpose>Convertit un pointeur de socket en flux</refpurpose>
   </refnamediv>
   <refsect1>
    &reftitle.description;
     <methodsynopsis>
      <type>php_stream *</type><methodname>php_stream_sock_open_from_socket</methodname>
      <methodparam><type>int</type><parameter>socket</parameter></methodparam>
      <methodparam><type>int</type><parameter>persistent</parameter></methodparam>
     </methodsynopsis>
     <para>
      <function>php_stream_sock_open_from_socket</function> retourne un flux basé sur la
      socket <parameter>socket</parameter>. <parameter>persistent</parameter> est une option
      qui contrôle si le flux doit être ouvert comme un flux persistant. Généralement, ce
     paramètre vaudra 0.
     </para>
   </refsect1>
  </refentry>

  <refentry id="streams.php-stream-sock-open-host">
   <refnamediv>
    <refname>php_stream_sock_open_host</refname>
    <refpurpose>Ouvre une connexion avec un serveur, et retourne un flux</refpurpose>
   </refnamediv>
   <refsect1>
    &reftitle.description;
     <methodsynopsis>
      <type>php_stream *</type><methodname>php_stream_sock_open_host</methodname>
      <methodparam><type>const char *</type><parameter>host</parameter></methodparam>
      <methodparam><type>unsigned short</type><parameter>port</parameter></methodparam>
      <methodparam><type>int</type><parameter>socktype</parameter></methodparam>
      <methodparam><type>struct timeval *</type><parameter>timeout</parameter></methodparam>
      <methodparam><type>int</type><parameter>persistent</parameter></methodparam>
     </methodsynopsis>
     <para>
      <function>php_stream_sock_open_host</function> établit une connexion à l'hôte 
      <parameter>host</parameter> et sur le port <parameter>port</parameter>. <parameter>socktype</parameter>
      spécifie les options de sockets qui devront être appliquées. <parameter>socktype</parameter> 
      est dépendant du système, mais incluera notamment 
      <constant>SOCK_STREAM</constant> pour les connexions full-duplex, séquentielle et fiables 
      et <constant>SOCK_DGRAM</constant> pour les connexions non fiables, sans connexion,
     avec une taille maximale fixée (UDP).
    </para>
    <para>
     <parameter>persistent</parameter> est une option
     qui contrôle si le flux doit être ouvert comme un flux persistant. Généralement, ce
     paramètre vaudra 0.
    </para>
    <para>
     Si non-NULL, <parameter>timeout</parameter> spécifie la durée maximale de connexion.
     Si la connexion prend plus de temps que cette valeur, la tentative de connexion
     sera abandonnée et NULL sera retourné pour indiquer que le flux n'a pu être ouvert.
    </para>
    <note>
     <simpara>
      Le paramètre <parameter>timeout</parameter> n'inclut pas le temps de résolution
      DNS. La raison à cela est qu'il n'y a pas de méthode portable pour effectuer des
      résolutions DNS.
     </simpara>
     <simpara>
      La durée d'expiration s'applique à la phase de connexion; si vous avez besoin de durées
      d'expiration pour les opérations de lecture et d'écritures, il faudra utiliser la fonction
      <function>php_stream_sock_set_timeout</function> pour configurer la durée d'expiration
      de votre flux une fois qu'il sera ouvert.
     </simpara>
    </note>
    <para>
     L'API n'impose aucune restriction sur les valeurs de <parameter>socktype</parameter>,
     mais il est recommandé de considérer les problèmes de portabilité lorsque vous
     faites ce choix.
    </para>
   </refsect1>
  </refentry>

  <refentry id="streams.php-stream-sock-open-unix">
   <refnamediv>
    <refname>php_stream_sock_open_unix</refname>
    <refpurpose>Ouvre une connexion avec une socket UNIX et la convertit en flux</refpurpose>
   </refnamediv>
   <refsect1>
    &reftitle.description;
     <methodsynopsis>
      <type>php_stream *</type><methodname>php_stream_sock_open_unix</methodname>
      <methodparam><type>const char *</type><parameter>path</parameter></methodparam>
      <methodparam><type>int</type><parameter>pathlen</parameter></methodparam>
      <methodparam><type>int</type><parameter>persistent</parameter></methodparam>
      <methodparam><type>struct timeval *</type><parameter>timeout</parameter></methodparam>
     </methodsynopsis>
     <para>
      <function>php_stream_sock_open_unix</function> tente d'ouvrir une connexion avec une
      socket UNIX, spécifiée par <parameter>path</parameter>.  <parameter>pathlen</parameter> spécifie
      la taille de <parameter>path</parameter>. Si non-NULL, <parameter>timeout</parameter> spécifie la durée maximale de connexion.
      Si la connexion prend plus de temps que cette valeur, la tentative de connexion
      sera abandonnée et NULL sera retourné pour indiquer que le flux n'a pu être ouvert.
      <parameter>persistent</parameter> est une option
      qui contrôle si le flux doit être ouvert comme un flux persistant. Généralement, ce
     paramètre vaudra 0.
     </para>
     <note>
      <simpara>
       Cette fonction n'est pas utilisable sous Windows, qui n'implémente pas les sockets
       de domaines. Une exception possible à cette règle sont les exécutables &php;
       compilé avec cygwin. Vous êtes encouragés à considérer cet aspect de la portabilité
       de votre extension avant sa publication.
      </simpara>
    </note>
    <note>
     <simpara>
      Cette fonction traite <parameter>path</parameter> en tenant compte 
      des données binaires, ce qui est bon pour les systèmes qui utilisent 
       un espace de nom abstrait (comme Linux), où le premier caractère est le caractère NUL.
      </simpara>
    </note>
   </refsect1>
  </refentry>
 </sect1>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->