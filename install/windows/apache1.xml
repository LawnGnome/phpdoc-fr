<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.12 $ -->
<!-- EN-Revision: 1.16 Maintainer: yannick Status: ready -->
   <sect1 id="install.windows.apache1">
    <title>Installer &php; sous Microsoft Windows avec Apache 1.3.x</title>
    <para>
     Cette section contient des notes et conseils spécifiques pour l'installation de &php;
     avec Apache 1.3.x sur les systèmes Microsoft Windows. Il y a aussi des 
     instructions et des notes spécifiques pour Apache 2 
     <link linkend="install.windows.apache2">sur une page séparée</link>.
    </para>
    <note>
     <para>
      Lisez les <link linkend="install.windows.manual">étapes d'installation 
      du manuel</link> d'abord !
     </para>
    </note>

    <simpara>
     Il y a deux méthodes pour faire fonctionner &php; avec Apache 1.3.x
     sous Windows. La première est d'utiliser l'exécutable CGI 
     (<filename>php.exe</filename>
     pour &php; 4 et <filename>php-cgi.exe</filename> pour &php; 5),
     l'autre est d'utiliser les modules Apache DLL. Dans les deux cas,
     vous devez arrêter le serveur Apache, éditer votre fichier
     &httpd.conf; pour dire à Apache de prendre &php; en compte et redémarrer Apache.
    </simpara>

    <simpara>
     Maintenant que le module SAPI a été rendu plus stable sous Windows,
     nous recommandons son usage plutôt que celui de
     l'exécutable CGI, car il est plus transparent et sécurisé.
    </simpara>

    <simpara>
     Bien qu'il puisse y avoir quelques différences de configuration 
     de &php; sous Apache, le processus reste simple et à la portée du néophyte.
     Reportez-vous aux documentations Apache pour plus de détails sur
     ces directives.
    </simpara>

    <simpara>
     Après avoir modifié le fichier de configuration, pensez à
     redémarrer le serveur web, par exemple avec 
     <command>NET STOP APACHE</command> suivi de 
     <command>NET START APACHE</command>, si vous utilisez Apache
     comme service Windows, ou bien utilisez vos alias classiques.
    </simpara>

    &note.apache.slashes;

    <sect2 id="install.windows.apache1.module">
     <title>Installation de &php; en tant que module Apache</title>
     <para>
      Vous devez ajouter les lignes suivantes à votre fichier de configuration Apache &httpd.conf; :
     </para>
     <para>
      <example>
       <title>&php; comme module Apache 1.3.x</title>
       <para>
        Cet exemple suppose que &php; est installé dans le dossier <filename>c:\php</filename>.
        Ajustez le chemin si ce n'est pas le cas.
       </para>
       <para>
        Pour &php; 4 :
       </para>
       <programlisting role="apache-conf">
<![CDATA[
# A ajouter à la fin de la section LoadModule
# N'oubliez pas de copier ce fichier depuis le dossier sapi !
LoadModule php4_module "C:/php/php4apache.dll"

# A ajouter à la fin de la section AddModule
AddModule mod_php4.c
]]>
       </programlisting>
       <para>
        Pour &php; 5 :
       </para>
       <programlisting role="apache-conf">
<![CDATA[
# A ajouter à la fin de la section LoadModule
LoadModule php5_module "C:/php/php5apache.dll"

# A ajouter à la fin de la section AddModule
AddModule mod_php5.c
]]>
       </programlisting>
       <para>
        Pour les deux :
       </para>
       <programlisting role="apache-conf">
<![CDATA[
# Ajoutez cette ligne dans les parenthèses conditionnelles <IfModule mod_mime.c>
AddType application/x-httpd-php .php

# Pour les fichiers de syntaxe colorisée .phps, ajoutez également
AddType application/x-httpd-php-source .phps
]]>
       </programlisting>
      </example>
     </para>
    </sect2>

    <sect2 id="install.windows.apache1.cgi">
     <title>Installation comme binaire CGI</title>

     <para>
      Si vous avez dézippé lepaquet &php; dans le répertoire 
      <filename>c:\php\</filename> comme décrit dans la section 
      sur les 
      <link linkend="install.windows.manual">étapes d'installation du manuel</link>, 
      vous devez insérer ces lignes à votre
      fichier de configuration Apache pour activer le binaire CGI :
      <example>
       <title>&php; et Apache 1.3.x en tant que CGI</title>
        <programlisting role="apache-conf">
<![CDATA[
ScriptAlias /php/ "c:/php/"
AddType application/x-httpd-php .php

# Pour PHP 4
Action application/x-httpd-php "/php/php.exe"

# Pour PHP 5
Action application/x-httpd-php "/php/php-cgi.exe"

# spécifez le répertoire où se trouve php.ini
SetEnv PHPRC C:/php
]]>
       </programlisting>
      </example>
      Notez que la seconde ligne dans l'exemple ci-dessus peut être touvée
      dans l'actuelle version de votre &httpd.conf;, mais elle est commenté.
      Souvenez-vous également de faire correspondre le chemin
      <filename>c:/php/</filename> à votre chemin actuelle vers &php;.
     </para>
     &warn.install.cgi;
     <simpara>
      Si vous voulez présenter la source de vos fichiers &php; avec la 
      coloration syntaxique, il n'existe pas d'option équivalent de celle
      de la version module de &php;.
      Si vous choisissez de configurer Apache pour utiliser &php; en mode CGI,
      vous aurez besoin d'utiliser la fonction <function>highlight_file</function>.
      Pour réaliser cela simplement, créez un script &php; dans un fichier et ajoutez
      ce code :
      <literal>&lt;?php highlight_file('original_php_script.php'); ?&gt;</literal>.
     </simpara>
    </sect2>
   </sect1>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->