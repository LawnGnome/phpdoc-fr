<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.3 $ -->
<!-- EN-Revision: 1.7 Maintainer: yannick Status: ready -->
   <sect1 id="install.windows.apache1">
    <title>Installer &php; sous Windows avec Apache 1.3.x</title>
    <para>
     Cette section contient des notes et conseils spécifiques pour l'installation de &php;
     avec Apache 1.3.x sur les systèmes Microsoft Windows. Nous avons aussi des 
     instructions et des notes spécifiques pour Apache 2 
     <link linkend="install.windows.apache2">sur une page séparée</link>.
    </para>
    <note>
     <para>
      Vous devriez lire les <link linkend="install.windows.manual">étapes d'installation 
      du manuel</link> d'abord !
     </para>
    </note>
    
    <simpara>
     Il y a deux méthodes pour faire fonctionner &php; avec Apache 1.3.x
     sous Windows. La première est d'utiliser l'exécutable CGI 
     (<filename>php.exe</filename>
     pour &php; 4 et <filename>php-cgi.exe</filename> pour &php; 5),
     l'autre est d'utiliser les modules Apache DLL. Dans les deux cas,
     vous devez arrêter le serveur Apache, éditer votre fichier
     &httpd.conf; pour dire à Apache de prendre &php; en compte et redémarrer Apache.
    </simpara>
        
    <simpara>
     Maintenant que le module SAPI a été rendu plus stable sous Windows,
     nous recommandons son usage plutôt que celui de
     l'exécutable CGI, car il est plus transparent et sécurisé.
    </simpara>
        
    <simpara>
     Bien qu'il puisse y avoir quelques différences de configuration 
     de &php; sous Apache, le processus reste simple et à la portée du néophyte.
     Reportez-vous aux documentations Apache pour plus de détails sur
     ces directives.
    </simpara>
    
    <simpara>
     Après avoir modifié le fichier de configuration, pensez à
     redémarrer le serveur web, par exemple avec 
     <command>NET STOP APACHE</command> suivi de 
     <command>NET START APACHE</command>, si vous utilisez Apache
     comme service Windows, ou bien utilisez vos alias classiques.
    </simpara>
         
    &note.apache.slashes;  
     
    <sect2 id="install.windows.apache1.cgi">
     <title>Installation comme binaire CGI</title>
    
     <para>
      Si vous avez dézippé lepaquet &php; dans le répertoire 
      <filename>c:\php\</filename> comme décrit dans la section 
      sur les 
      <link linkend="install.windows.manual">étapes d'installation du manuel</link>, 
      vous devez insérer ces lignes à votre
      fichier de configuration Apache pour activer le binaire CGI :
      <example>
       <title>&php; et Apache 1.3.x en tant que CGI</title>
        <programlisting role="apache-conf">
<![CDATA[
ScriptAlias /php/ "c:/php/"
AddType application/x-httpd-php .php

# Pour PHP 4
Action application/x-httpd-php "/php/php.exe"

# Pour PHP 5
Action application/x-httpd-php "/php/php-cgi.exe"

# spécifez le répertoire où se trouve php.ini
SetEnv PHPRC C:/php
]]>
       </programlisting>
      </example>
      Notez que la seconde ligne dans l'exemple ci-dessus peut être touvée
      dans l'actuelle version de votre &httpd.conf;, mais elle est commenté.
      Souvenez-vous également de faire correspondre le chemin
      <filename>c:/php/</filename> à votre chemin actuelle vers &php;.
     </para>

     <warning>
      <para>
       En utilisant la configuration en mode CGI, votre serveur est ouvert
       à de possibles attaques. Lisez la 
       <link linkend="security.cgi-bin">section sécurité CGI</link> pour savoir
       comment vous défendre de ces attaques.
      </para>
     </warning>
    
     <simpara>
      Si vous voulez présenter la source de vos fichiers &php; avec la 
      coloration synthaxique, il n'existe pas d'option équivalent de celle
      de la version module de &php;.
      Si vous choisissez de configurer Apache pour utiliser &php; en mode CGI,
      vous aurez besoin d'utiliser la fonction <function>show_source</function>.
      Pour réaliser celà smplement, créez un script &php; dans un fichier et ajoutez
      ce code :
      <literal>&lt;?php show_source("original_php_script.php"); ?&gt;</literal>.
      Remplacez <filename>original_php_script.php</filename> avec le nom du fichier
      dont vous voulez afficher le code source.
     </simpara>
    </sect2>

    <sect2 id="install.windows.apache1.module">
     <title>Installation de &php; en tant que module Apache</title>
     <para>
      Vous devez ajouter les lignes suivantes à votre fichier de configuration Apache &httpd.conf; :
     </para>
     <para>
      <example>
       <title>&php; comme module Apache 1.3.x</title>
        <programlisting role="apache-conf">
<![CDATA[
AddType application/x-httpd-php .php

# Pour PHP 4
LoadModule php4_module "c:/php/sapi/php4apache.dll"

# Pour PHP 5
LoadModule php5_module "c:/php/php5apache.dll"

# spécifez le répertoire où se trouve php.ini
SetEnv PHPRC C:/php
]]>
       </programlisting>
      </example>
     </para>
     <simpara>
      Vous devriez vous apercevoir qu'après avoir utilisé l'installateur Windows pour apache,
      vous devez définir la directive <literal>AddModule</literal> avec 
      <filename>mod_php4.c</filename>. Celà est tout spécialement important
      si la directive <literal>ClearModuleList</literal> est définie, que vous pourriez trouver
      en faisant descendre l'ascenseur vers le bas de quelques lignes.
      Vous devriea voir une liste d'entrées <literal>AddModule</literal>, ajoutez la ligne suivante
      <emphasis>à la fin</emphasis> e la liste : 
      <literal>AddModule mod_php4.c</literal>. 
      Pour &php; 5, utilisez plutôt cette ligne : 
      <literal>AddModule mod_php5.c</literal>
      </simpara>
    
     <simpara>
      Si vous voulez utiliser la fonctionnalité d'affichage du code source
      colorisée, vous devez ajouter la ligne suivante à votre &httpd.conf; :
      <literal>AddType application/x-httpd-php-source .phps</literal>.
      Ceci doit être inséré à la même place où vous avez inséré 
      <literal>AddType application/x-httpd-php .php</literal> précédemment.
      Avec cette configuration, tous les fichiers servis avec l'extension 
      <literal>.phps</literal> seront affichés sous forme du code source
      dont le code aura été colorisé sur votre navigateur.
     </simpara>
    </sect2>
   </sect1>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
