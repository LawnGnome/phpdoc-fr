<?xml version="1.0" encoding="utf-8"?>
<!-- $Revision$ -->
<!-- EN-Revision: 338112 Maintainer: yannick Status: ready -->
<!-- Reviewed: no -->

<refentry xml:id="mongodb-driver-server.executecommand" xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">
 <refnamediv>
  <refname>MongoDB\Driver\Server::executeCommand</refname>
  <refpurpose>Exécute une commande de base de données sur ce serveur</refpurpose>
 </refnamediv>

 <refsect1 role="description">
  &reftitle.description;
  <methodsynopsis>
   <modifier>final</modifier> <modifier>public</modifier> <type>MongoDB\Driver\Cursor</type><methodname>MongoDB\Driver\Server::executeCommand</methodname>
   <methodparam><type>string</type><parameter>db</parameter></methodparam>
   <methodparam><type>MongoDB\Driver\Command</type><parameter>command</parameter></methodparam>
   <methodparam choice="opt"><type>MongoDB\Driver\ReadPreference</type><parameter>readPreference</parameter></methodparam>
  </methodsynopsis>
  <para>
   Exécute une commande <parameter>command</parameter> sur ce serveur.
  </para>
  <note>
   <para>
    Le paramètre <parameter>readPreference</parameter> ne contrôle pas le serveur
    sur lequel le driver va envoyer la commande ; la commande va toujours être
    exécutée sur l'objet serveur. A la place, il pourra être utilisé lors de
    l'envoi de la commande vers un secondaire (depuis un jeu de connexion de
    réplication, et non sur un serveur unique) ou sur un noeud mongo pour assurer
    que le driver définisse le protocole wire adéquat ou ajoute les préférences
    de lecture à la commande du document, respectivement.
   </para>
  </note>
 </refsect1>

 <refsect1 role="parameters">
  &reftitle.parameters;
  <variablelist>
   &mongodb.parameter.db;
   &mongodb.parameter.command;
   &mongodb.parameter.readPreference;
  </variablelist>
 </refsect1>

 <refsect1 role="returnvalues">
  &reftitle.returnvalues;
  &mongodb.returns.cursor;
 </refsect1>

 <refsect1 role="errors">
  &reftitle.errors;
  <simplelist>
   &mongodb.throws.std;
   <member>Lance une exception <classname>MongoDB\Driver\Exception\RuntimeException</classname>
    si une erreur survient (i.e. commande invalide, l'envoi d'une commande en écriture sur
    un secondaire).</member>
  </simplelist>
 </refsect1>

 <refsect1 role="notes">
  &reftitle.notes;
  <note>
   <para>
    Cette méthode ne prend pas de paramètre
    <classname>MongoDB\Driver\WriteConcern</classname>. Pour les commandes en écriture (e.g.
    <link xlink:href="&url.mongodb.docs;reference/command/findAndModify/">findAndModify</link>
    en MongoDB 3.2+), la préoccupation en écriture doit être inclue dans la commande
    <parameter>command</parameter> du document.
   </para>
   <para>
    Il est de la responsabilité de l'appelant de s'assurer que le serveur soit
    capable d'exécuter la commande. Par exemple, l'exécution d'une opération
    en écriture sur un secondaire (mis à part pour les bases de données "local")
    échouera.
   </para>
  </note>
 </refsect1>

 <refsect1 role="seealso">
  &reftitle.seealso;
  <simplelist>
   <member><classname>MongoDB\Driver\Command</classname></member>
   <member><classname>MongoDB\Driver\Cursor</classname></member>
   <member><classname>MongoDB\Driver\ReadPreference</classname></member>
   <member><function>MongoDB\Driver\Manager::executeCommand</function></member>
  </simplelist>
 </refsect1>

</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"~/.phpdoc/manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
