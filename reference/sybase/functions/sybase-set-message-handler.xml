<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.3 $ -->
  <refentry id="function.sybase-set-message-handler">
   <refnamediv>
    <refname>sybase_set_message_handler</refname>
    <refpurpose>Configure le gestionnaire de message Sybase</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Description</title>
     <methodsynopsis>
      <type>bool</type><methodname>sybase_set_message_handler</methodname>
      <methodparam><type>callback</type><parameter>handler</parameter></methodparam>
     </methodsynopsis>
    <para> 
     <function>sybase_set_message_handler</function> configure la fonction
     <parameter>handler</parameter> pour qu'il soit le gestionnaire des
     messages générés par le serveur Sybase. Vous pouvez spécifier le nom
     d'une fonction globale, ou bien utiliser un tableau pour spécifier 
     un objet et un nom de méthode.
    </para>
    <para>
    Le gestionnaire attend 5 arguments, dans l'ordre suivant : 
    numéro de message, sévérité, état, numéro de ligne et description. Les 4
    premiers paramètre sont des entiers, et le dernier est une chaîne de caractères.
    Si ce gestionnaire retourne la valeur &false;, &php; retournera un message
    d'erreur classique.
    </para>
    <para>
     &return.success;
    </para>
    <example>
     <title>Fonction de callback pour <function>sybase_set_message_handler</function></title>
     <programlisting role="php">
<![CDATA[
<?php
    function msg_handler($msgnumber, $severity, $state, $line, $text) {
        var_dump($msgnumber, $severity, $state, $line, $text);
    }
    
    sybase_set_message_handler('msg_handler');
?>
]]>
     </programlisting>
    </example>
    <example>
     <title>Classe de callback pour <function>sybase_set_message_handler</function></title>
     <programlisting role="php">
<![CDATA[
<?php
    class Sybase {
        function handler($msgnumber, $severity, $state, $line, $text) {
            var_dump($msgnumber, $severity, $state, $line, $text);
        }
    }
    
    $sybase= new Sybase();
    sybase_set_message_handler(array($sybase, 'handler'));
?>
]]>
     </programlisting>
    </example>
    <example>
     <title>Gestion des messages non traités de <function>sybase_set_message_handler</function></title>
     <programlisting role="php">
<![CDATA[
<?php
    // Retournez FALSE si vous voulez indiquer que vous ne savez pas
    // traiter ce message. Cette erreur est alors affichée sous la forme
    // d'une alerte, comme si il n'y avait pas de gestionnaire installé.
    function msg_handler($msgnumber, $severity, $state, $line, $text) {
        if (257 == $msgnumber) return FALSE;
        var_dump($msgnumber, $severity, $state, $line, $text);
    }
    
    sybase_set_message_handler('msg_handler');
?>
]]>
     </programlisting>
    </example>
   </refsect1>
  </refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
