<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.13 $ -->
<!-- EN-Revision: 1.7 Maintainer: didou Status: ready -->
<!-- Reviewed: yes -->
<refentry xml:id="function.mcrypt-encrypt" xmlns="http://docbook.org/ns/docbook">
   <refnamediv>
    <refname>mcrypt_encrypt</refname>
    <refpurpose>Chiffre un texte</refpurpose>
   </refnamediv>
   <refsect1>
    &reftitle.description;
     <methodsynopsis>
      <type>string</type><methodname>mcrypt_encrypt</methodname>
      <methodparam><type>string</type><parameter>cipher</parameter></methodparam>
      <methodparam><type>string</type><parameter>key</parameter></methodparam>
      <methodparam><type>string</type><parameter>data</parameter></methodparam>
      <methodparam><type>string</type><parameter>mode</parameter></methodparam>
      <methodparam choice="opt"><type>string</type><parameter>iv</parameter></methodparam>
     </methodsynopsis>
    <para>
     <function>mcrypt_encrypt</function> chiffre les données, et retourne
     les données cryptées.
    </para>
    <para>
     <parameter>cipher</parameter> est une constante MCRYPT_ciphername
     qui indique le nom de l'algorithme sous forme de chaîne.
    </para>
    <para>
     <parameter>key</parameter> est la clé utilisée pour
     chiffrer les données. Si elle est plus petite que nécessaire,
     elle sera complétée avec des '<literal>\0</literal>'.
    </para>
    <para>
     <parameter>data</parameter> sont les données qui doivent être
     encryptées. Si la taille des données n'est pas de la forme
     n * taille_de_bloc, elles seront complétées avec des '<literal>\0</literal>'. La
     valeur retournée peut être plus grande que la valeur d'origine.
     </para>
    <para>
     <parameter>mode</parameter> est une constante  MCRYPT_MODE_modename
     qui peut valoir : "ecb", "cbc", "cfb", "ofb", "nofb" ou "stream".
    </para>
    <para>
     <parameter>iv</parameter> (Vecteur d'Initialisation) est utilisé
     pour les modes CBC, CFB, OFB, et dans certains algorithmes de
     mode STREAM. Si vous ne fournissez pas le VI, alors qu'il est
     nécessaire, la fonction affichera une alerte, et utilisera un
     vecteur d'initialisation composé de caractères '<literal>\0</literal>'.
    </para>
    <para>
     <example>
      <title>Exemple avec <function>mcrypt_encrypt</function></title>
      <programlisting role="php">
<![CDATA[
<?php
$iv = mcrypt_create_iv(mcrypt_get_iv_size(MCRYPT_RIJNDAEL_256, MCRYPT_MODE_ECB), MCRYPT_RAND);
$key = 'Ceci est une clé secrète';

$text = 'Rencontrons-nous à 11 heures, derrière le monument';
echo strlen($text) . "\n";
  
$crypttext = mcrypt_encrypt(MCRYPT_RIJNDAEL_256, $key, $text, MCRYPT_MODE_ECB, $iv);
echo strlen($crypttext) . "\n";
?>
]]>
      </programlisting>
      &example.outputs;
      <screen>
<![CDATA[
42
64
]]>
      </screen>
     </example>
    </para>
    <para>
     Voir aussi
     <function>mcrypt_module_open</function> pour une meilleure API et
     un exemple.
    </para>
   </refsect1>
  </refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
