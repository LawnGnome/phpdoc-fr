<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.21 $ -->
<!-- EN-Revision: 1.9 Maintainer: yannick Status: ready -->
<!-- Reviewed: yes -->

<refentry xml:id="function.ldap-connect" xmlns="http://docbook.org/ns/docbook">
 <refnamediv>
  <refname>ldap_connect</refname>
  <refpurpose>Connexion à un serveur LDAP</refpurpose>
 </refnamediv>

 <refsect1 role="description">
  &reftitle.description;
  <methodsynopsis>
   <type>resource</type><methodname>ldap_connect</methodname>
   <methodparam choice="opt"><type>string</type><parameter>hostname</parameter><initializer>NULL</initializer></methodparam>
   <methodparam choice="opt"><type>int</type><parameter>port</parameter><initializer>389</initializer></methodparam>
  </methodsynopsis>
  <para>
   Établit une connexion avec un serveur LDAP situé sur l'hôte
   <parameter>hostname</parameter> et <parameter>port</parameter>.
  </para>
 </refsect1>

 <refsect1 role="parameters">
  &reftitle.parameters;
  <para>
   <variablelist>
    <varlistentry>
     <term><parameter>hostname</parameter></term>
     <listitem>
      <para>
       Si vous utilisez OpenLDAP 2.x.x, vous pouvez spécifier une URL au
       lieu d'un nom d'hôte. Pour utiliser LDAP avec SSL, compilez
       OpenLDAP 2.x.x avec le support SSL, configurez PHP avec SSL, et
       utilisez <literal>ldaps://hostname/</literal> comme nom d'hôte.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><parameter>port</parameter></term>
     <listitem>
      <para>
       Le port utilisé pour la connexion. Inutile lors de l'utilisation d'URL. Par défaut, 389.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </para>
 </refsect1>

 <refsect1 role="returnvalues">
  &reftitle.returnvalues;
  <para>
   Retourne un identifiant positif de serveur LDAP en cas de succès, ou bien
   &false; en cas d'erreur. Lorsque OpenLDAP 2.x.x est utilisé,
   <function>ldap_connect</function> retournera toujours une &resource; car
   il ne se connectera pas mais initialisera uniquement les paramètres de connexion.
   Actuellement, la connexion intervient avec le prochain appel aux fonctions
   <literal>ldap_*</literal>, habituellement avec la fonction
   <function>ldap_bind</function>.
  </para>
  <para>
   Sans argument, l'identifiant de la dernière connexion ouverte sera retourné.
  </para>
 </refsect1>

 <refsect1 role="changelog">
  &reftitle.changelog;
  <para>
   <informaltable>
    <tgroup cols="2">
     <thead>
      <row>
       <entry>&Version;</entry>
       <entry>&Description;</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>4.0.4</entry>
       <entry>
        Les supports URL et SSL ont été ajoutés.
       </entry>
      </row>
     </tbody>
    </tgroup>
   </informaltable>
  </para>
 </refsect1>

 <refsect1 role="examples">
  &reftitle.examples;
  <para>
   <example>
    <title>Exemple de connexion à un serveur LDAP</title>
    <programlisting role="php">
<![CDATA[
<?php

// LDAP variables
$ldaphost = "ldap.example.com";  // votre serveur LDAP
$ldapport = 389;                 // votre port de serveur LDAP

// Connexion LDAP
$ldapconn = ldap_connect($ldaphost, $ldapport)
          or die("Impossible de se connecter au serveur LDAP $ldaphost");

?>
]]>
    </programlisting>
   </example>
   <example>
    <title>Exemple de connexion à un serveur LDAP SSL</title>
    <programlisting role="php">
<![CDATA[
<?php

// Assurez-vous que l'hôte est correct
// et que vous avez un certificat valide
$ldaphost = "ldaps://ldap.example.com/";

// Connexion LDAP
$ldapconn = ldap_connect($ldaphost)
          or die("Impossible de se connecter au serveur LDAP {$ldaphost}");

?>
]]>
    </programlisting>
   </example>
  </para>
 </refsect1>

 <refsect1 role="seealso">
  &reftitle.seealso;
  <para>
   <simplelist>
    <member><function>ldap_bind</function></member>
   </simplelist>
  </para>
 </refsect1>

</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->