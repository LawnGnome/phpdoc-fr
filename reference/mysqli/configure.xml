<?xml version="1.0" encoding="utf-8"?>
<!-- $Revision$ -->
<!-- EN-Revision: 303323 Maintainer: jpauli Status: ready -->
<!-- Reviewed: no -->

<section xml:id="mysqli.installation" xmlns="http://docbook.org/ns/docbook"
xmlns:xlink="http://www.w3.org/1999/xlink">
 
&reftitle.install;
 
 <para>
  L'extension <literal>mysqli</literal> a été introduite dans PHP 5.0.0.
  Le pilote natif MySQL (MySQL Native Driver) a été introduit dans PHP 5.3.0.
 </para>
 
 <section xml:id="mysqli.installation.linux">
 
  <title>Installation sur Linux</title>
 
  <para>
   Les distributions Linux incluent des versions binaires de PHP qui peuvent
   être installées. Même si ces binaires sont construits avec les extensions
   MySQL activées, les bibliothèques clientes doivent souvent être installées au
   moyen d'un paquet additionnel. Voyez si c'est le cas pour votre distribution.
  </para>
 
 <para>
   A moins que votre distribution Linux ne fournisse de paquet binaire pour PHP
   embarquant l'extension <literal>mysqli</literal>, vous allez devoir construire
   PHP depuis les sources. Cela permet de préciser les extensions MySQL à embarquer,
   mais aussi les bibliothèques clientes de chaque extension.
 </para>
 
 <section>

   <title>PHP 5.0, 5.1, 5.2</title>
 
   <para>
    Si construit depuis les sources, pour embarquer l'extension <literal>mysqli</literal>,
    vous devrez configurer ces sources. Cela est possible au moyen du script
    <command>configure</command> et de l'option
    <option role="configure">--with-mysqli=mysql_config_path/mysql_config</option>.
    Ceci activera <literal>mysqli</literal> et elle utilisera la bibliothèque cliente
    MySQL Client Library (libmysql) pour communiquer avec le serveur MySQL.
   </para>
 
   <para>
    <literal>mysql_config_path</literal> représente l'endroit où se trouve le programme
    <literal>mysql_config</literal> fourni avec le serveur MySQL.
   </para>

  </section>

  <section>
 <title>PHP 5.3.0+</title>

    <para>
     A partir de PHP 5.3.0, <literal>mysqli</literal> utilise par défaut
     MySQL Native Driver. Elle offre plein de possibilités supplémentaires par rapport
     à <literal>libmysql</literal>.
    </para>

    <para>
     C'est d'ailleurs l'option recommandée, car utiliser MySQL Native Driver améliore les
     performances et donne accès à des fonctionnalités qui ne sont pas disponibles avec
     MySQL Client Library (libmysql). Voyez
     <link linkend="mysqli.overview.mysqlnd">Qu'est ce que MySQL Native
     Driver pour PHP?</link> pour un bref aperçu des avantages de MySQL Native Driver.
    </para>

    <para>
     Pour utiliser MySQL Native Driver avec <literal>mysqli</literal> vous devez configurer
     les sources de PHP avec l'option <option role="configure">--with-mysqli=mysqlnd</option>.
    </para>

    <para>
     Notez qu'il est possible de mixer les extensions MySQL ainsi que les bibliothèques
     clientes. par exemple il est possible d'activer l'extension mysql liée avec
     MySQL Client Library (libmysql) tout en ayant l'extension
     <literal>mysqli</literal> liée avec MySQL Native Driver.
     Toutes les permutations sont possibles.
    </para>

    <para>
     L'exemple suivant construit l'extension mysql pour utiliser la bibliothèque cliente
     MySQL Client Library, et <literal>mysqli</literal> ainsi que PDO MYSQL
     pour utiliser la bibliothèque cliente MySQL Native Driver:
    </para>
   
 <programlisting role="shell">
  ./configure --with-mysql=/usr/bin/mysql_config  \
  --with-mysqli=mysqlnd \
  --with-pdo-mysql=mysqlnd
  [other options]
 </programlisting>
 </section>

 </section>
 <section xml:id="mysqli.installation.windows">
  
  <title>Installation sur les systèmes Windows</title>
  
  <para>
   Sur Windows, PHP est généralement installé avec un installeur binaire.
  </para>
  
  <section>
  
  <title>PHP 5.0, 5.1, 5.2</title>
  
  <para>
    Une fois PHP installé, certaines configurations demanderont l'activation de
    <literal>mysqli</literal> et la précision de la bibliothèque cliente à utiliser
    avec.
   </para>
  
  <para>
    L'extension <literal>mysqli</literal> n'est pas activée par défaut, donc la DLL
    <filename>php_mysqli.dll</filename> doit être activée dans &php.ini;. Pour cela,
    trouvez le fichier &php.ini; (souvent <filename>c:\php</filename>) et enlevez
    le caractère de commentaire (;) devant la ligne
    <literal>extension=php_mysqli.dll</literal> dans la section
    <literal>[PHP_MYSQLI]</literal>.
   </para>

   <para>
    Aussi, si vous voulez utiliser MySQL Client Library avec
    <literal>mysqli</literal>, vous devez vérifier que PHP a accès à ce fichier.
    La MySQL Client Library est incluse dans le fichier
    <filename>libmysql.dll</filename> de la distribution Windows de PHP.
    Ce fichier doit se trouver dans le <envar>PATH</envar> de Windows pour pouvoir
    être chargé sans problème. Voyez la FAQ intitulée
    "<link linkend="faq.installation.addtopath">Comment puis-je ajouter mon dossier PHP
    au PATH de Windows</link>" pour plus d'informations. Copier le fichier
    <filename>libmysql.dll</filename> dans le dossier système de Windows fonctionne aussi
    (souvent <filename>c:\Windows\system</filename>) car ce dossier est par défaut présent
    dans le <envar>PATH</envar> de Windows. Cependant, cette pratique est hautement
    découragée.
   </para>

  <para>
    Pour activer une extension PHP (telle que
    <filename>php_mysqli.dll</filename>), la directive PHP
    <link linkend="ini.extension-dir">extension_dir</link> doit pointer vers
    le dossier contenant les extensions PHP. Voyez aussi
    <link linkend="install.windows.manual">Installation manuelle sous Windows
    </link>. Par exemple, <literal>extension_dir</literal> pourrait valoir
    <filename>c:\php\ext</filename>.
   </para>

   <note>
    <para>
     Si lorsque vous démarrez le serveur web, une erreur telle que
     <literal>"Unable to load dynamic library './php_mysqli.dll'"</literal> se
     produit, c'est que <filename>php_mysqli.dll</filename> et/ou
     <filename>libmysql.dll</filename> ne peut être trouvée sur le système.
    </para>
   </note>
  </section>

  <section>

    <title>PHP 5.3.0+</title>

   <para>
    Sur Windows, pour PHP 5.3 ou supérieur, l'extension <literal>mysqli</literal>
    est activée par défaut et utilise MySQL Native Driver par défaut. Ceci signifie
    que vous n'avez pas à vous inquiéter au sujet de <filename>libmysql.dll</filename>.
   </para>

  </section>

 </section>
 
</section>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"~/.phpdoc/manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
