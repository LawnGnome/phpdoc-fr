<?xml version="1.0" encoding="utf-8"?>
<!-- $Revision$ -->
<!-- EN-Revision: 297028 Maintainer: yannick Status: ready -->
<!-- Reviewed: no -->

<section xml:id="mysqli.installation" xmlns="http://docbook.org/ns/docbook"
xmlns:xlink="http://www.w3.org/1999/xlink">
 &reftitle.install;
 <para xml:id="mysqli.configure">
  Depuis PHP 5.0, le support de MySQL n'est plus activé par défaut
  dans la distribution standard. Cela signifie que PHP doit être explicitement
  configuré pour pouvoir profiter des extensions MysQL.
 </para>
 
 <para>
  Les distributions Unix courantes incluent une version binaire de PHP
  qui peut être installée. Même si ces fonctions binaires sont typiquement
  compilées avec le support MysQL, les bibliothèques de l'extension ont
  parfois besoin d'être installée en utilisant un paquet supplémentaire.
  Vérifiez du coté du gestionnaire de paquet qui vient avec votre distribution
  pour pouvoir l'installer facilement.
 </para>
 
 <para>
  A moins que votre distribution Unix ne soit livrée avec un paquet binaire
  de PHP et l'extension <literal>mysqli</literal>, vous aurez besoin de compiler
  PHP depuis le code source. Compiler PHP depuis les sources vous permet de
  spécifier les extensions MySQL dont vous avez besoin, ainsi que toute les
  autres bibliothèques. 
 </para>
 
 <para>
  Pour vous assurer que l'extension <literal>mysqli</literal> est active, vous devez
  configurer le code source avec <literal>mysqli</literal>. Cela se fait
  avec la commande <command>configure</command> et l'option
  <option role="configure">--with-mysqli=mysql_config_path/mysql_config</option>,
  avant la compilation proprement dite. Cela va activer 
  <literal>mysqli</literal> et et utiliser la bibliothèque MySQL Client 
  Library (libmysql) pour communiquer avec le serveur MySQL.
 </para>
 
 <note>
  <para>
   <literal>mysql_config_path</literal> représente la localisation du 
   programme <literal>mysql_config</literal> qui est livré avec MySQL
   Server.
  </para>
 </note>
 
 <para>
  Avec les versions PHP 5.3 et plus récentes, vous pouvez utiliser aussi le
  MySQL Native Driver avec <literal>mysqli</literal>. Vous aurez accès à
  de nombreux avantages par rapport à libmysql.
 </para>
 
 <para>
  Pour utiliser le MySQL Native Driver avec <literal>mysqli</literal> vous devez
  configurer le code source PHP avec l'option 
  <option role="configure">--with-mysqli=mysqlnd</option>, avant la compilation.
 </para>
 
 <para>
  C'est l'option recommandée, car en utilisant le pilote MySQL natif, 
  vous aurez de meilleures performances et accès à des fonctionnalités
  qui ne sont pas disponibles avec la bibliothèque MySQL Client Library. 
  Reportez-vous à la page 
  <link linkend="mysqli.overview.mysqlnd">Qu'est-ce que le pilote MySQL
  natif de MySQL?</link> pour une description de ses avantages.
 </para>
 
 <para>
  Notez qu'il est possible de mélanger librement les extensions MySQL
  et les bibliothèques cliente. Par exemple, il est possible d'activer
  l'extension mysql avec MySQL Client Library (libmysql), tout en configurant
  l'extension <literal>mysqli</literal> avec le MySQL Native Driver.
  Toutes les combinaisons de client et bibliothèques ne sont pas possibles.
 </para>
 
 <para>
  L'exemple suivant compile l'extension PHP avec la bibliothèque 
  MySQL Client Library, et <literal>mysqli</literal> et PDO MYSQL
  avec le MySQL Native Driver :
 </para>
 
 <programlisting role="shell">
  ./configure --with-mysql=/usr/bin/mysql_config  \
  --with-mysqli=mysqlnd \
  --with-pdo-mysql=mysqlnd
  [other options]
 </programlisting>
 
 <section xml:id="mysqli.installation.windows">
  
  <title>Installation sur les systèmes Windows</title>
  
  <para>
   Sur Windows, PHP est généralement installé avec un installeur binaire.
   Une fois PHP installé, un peu de configuration est nécessaire pour 
   activer <literal>mysqli</literal> et spécifier la bibliothèque client
   que vous voulez utiliser.
  </para>
  
  <para>
   Comme mentionné auparavant, l'extension <literal>mysqli</literal> 
   n'est pas activée par défaut, ce qui fait que la bibliothèque 
   DLL <filename>php_mysqli.dll</filename> doit être activée dans le 
   &php.ini;. Afin de faire cela, vous devez localiser le fichier
   &php.ini; (généralement, dans le dossier <filename>c:\php</filename>), 
   et vous assurer de bien retirer la marque de commentaire (un point-virgule),
   qui est au début de la ligne <literal>extension=php_mysqli.dll</literal>, 
   dans la section <literal>[PHP_MYSQLI]</literal>.
  </para>
  
  <para>
   Enfin, si vous voulez utiliser la bibliothèque MySQL Client Library avec
   <literal>mysqli</literal>, vous devez vous assurer que PHP peut y accéder.
   La MySQL Client Library est incluse sous le nom 
   <filename>libmysql.dll</filename> dans la distribution PHP pour Windows.
   Ce fichier doit être disponible dans la variable système 
   <envar>PATH</envar> de Windows, pour qu'elle puisse être identifiée.
   Voyez la FAQ intitulée 
   <link linkend="faq.installation.addtopath">Comment ajouter mon dossier
   PHP dans le PATH de Windows</link>" pour des détails sur cette opération.
   Copier le fichier <filename>libmysql.dll</filename> dans le dossier 
   système Windows (généralement <filename>c:\Windows\system</filename>) est 
   aussi possible, car c'est le dossier système par défaut dans 
   <envar>PATH</envar>. Cependant, cette pratique est fortement découragée.
  </para>
  
  <para>
   Sous Windows, pour les versions 5.3 et suivantes de PHP, l'extension
   <literal>mysqli</literal> utilise le driver natif MySQL par défaut.
   Cela signifie que vous n'avez pas à vous préoccuper de l'accès au
   fichier <filename>libmysql.dll</filename>, mais vous devez
   simplement vous assurer que l'extension est active dans le fichier
   &php.ini;.
  </para>
  
  <para>
   Comme pour l'activation de n'importe quelle extension PHP (comme
   <filename>php_mysqli.dll</filename>), la directive PHP
   <link linkend="ini.extension-dir">extension_dir</link> doit représenter
   le dossier où sont stockées les extensions PHP. Reportez-vous à la
   page <link linkend="install.windows.manual">Instructions manuelles
   d'installation sous Windows</link>. Un exemple de valeur pour la directive
   <literal>extension_dir</literal> en PHP 5 est <filename>c:\php\ext</filename>
  </para>
  
  <note>
   <para>
    Lors du démarrage de votre serveur web, si une erreur du type
    <literal>"Unable to load dynamic library './php_mysqli.dll'"</literal>
    survient, cela indique que le fichier
    <filename>php_mysqli.dll</filename> et/ou
    <filename>libmysql.dll</filename> n'a pu être trouvé par le système.
   </para>
  </note>
  
 </section>
 
</section>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"~/.phpdoc/manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->