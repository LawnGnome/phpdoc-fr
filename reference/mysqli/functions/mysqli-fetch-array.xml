<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.8 $ -->
<!-- EN-Revision: 1.14 Maintainer: yannick Status: ready -->
  <refentry id="function.mysqli-fetch-array">
   <refnamediv>
    <refname>mysqli_fetch_array</refname>
    <refname>result->fetch_array</refname>
    <refpurpose>
     Retourne une ligne de résultat sous la forme d'un
     tableau associatif, d'un tableau indexé, ou les deux.
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>Description</title>
     &title.procedural;
     <methodsynopsis>
      <type>mixed</type><methodname>mysqli_fetch_array</methodname>
      <methodparam><type>object</type><parameter>result</parameter></methodparam>
      <methodparam choice='opt'><type>int</type><parameter>resulttype</parameter></methodparam>
     </methodsynopsis>
    &title.oop;
     <classsynopsis>
      <ooclass><classname>result</classname></ooclass>
      <methodsynopsis>
       <type>mixed</type>
       <methodname>fetch_array</methodname>
       <methodparam choice='opt'><type>int</type><parameter>resulttype</parameter></methodparam>
      </methodsynopsis>
     </classsynopsis>
    <para>
     Retourne un tableau qui correspond à la ligne lue ou &false; s'il n'y a
     plus de lignes dans le jeux de résultats <parameter>result</parameter>. 
    </para>
    <para>
     <function>mysqli_fetch_array</function> est une version étendue de la fonction 
     <function>mysqli_fetch_row</function>. En plus d'enregistrer les données
     sous forme d'un tableau à indices numériques, elle peut aussi les
     enregistrer dans un tableau associatif, en utilisant les noms des champs
     comme clefs.
    </para>
    &database.field-case;
    <para>
     Si plusieurs colonnes portent le même nom, la dernière colonne aura la
     priorité. Pour accéder aux autres colonnes du même nom, vous devez
     utiliser l'index numérique, ou faire un alias pour chaque colonne.
    </para>
    <para>
     Le second argument optionnel <parameter>resulttype</parameter> est une
     constante indiquant quel type de tableau doit être renvoyé à
     partir de la ligne de données courante. Les valeurs possibles pour ce 
     paramètre sont les constantes MYSQLI_ASSOC, MYSQLI_NUM, et MYSQLI_BOTH.
     MYSQLI_BOTH est la valeur par défaut de ce paramètre.
    </para>
    <para>
     En utilisant la constante MYSQLI_ASSOC, cette fonction se comportera comme
     la fonction <function>mysqli_fetch_assoc</function>, tandis que MYSQLI_NUM
     la fera agir comme la fonction <function>mysqli_fetch_row</function>.
     La constante MYSQLI_BOTH, créera elle un tableau qui sera à la fois
     associatif et indexé numériquement.
    </para>
    </refsect1>
   <refsect1>
    &reftitle.returnvalues;
    <para>
     Retourne un tableau qui correspond à la ligné récupérée ou &null; si il n'y a plus de résultat
     ou bien si il n'y a plus de résultat disponible dans le jeux de résultats.
    </para>
   </refsect1>
   <refsect1>
    <title>Voir aussi</title>
    <para>
     <function>mysqli_fetch_assoc</function>,
     <function>mysqli_fetch_row</function>,
     <function>mysqli_fetch_object</function>.
    </para>
   </refsect1>
   <refsect1>
    <title>Exemple</title>
    <example>
     <title>Style orienté objet</title>
     <programlisting role="php">
<![CDATA[
<?php
$mysqli = new mysqli("localhost", "my_user", "my_password", "world");

/* Vérification de la connexion */
if (mysqli_connect_errno()) {
    printf("Echec de la connexion : %s\n", mysqli_connect_error());
    exit();
}
 
$query = "SELECT Name, CountryCode FROM City ORDER by ID LIMIT 3";
$result = $mysqli->query($query);

/* Tableau indexé numériquement */
$row = $result->fetch_array(MYSQLI_NUM);
printf ("%s (%s)\n", $row[0], $row[1]);  

/* Tableau associatif */
$row = $result->fetch_array(MYSQLI_ASSOC);
printf ("%s (%s)\n", $row["Name"], $row["CountryCode"]);  

/* Tableau associatif et indexé numériquement */
$row = $result->fetch_array(MYSQLI_BOTH);
printf ("%s (%s)\n", $row[0], $row["CountryCode"]);  

/* Libération des résultats */
$result->close();

/* Fermeture de la connexion */
$mysqli->close();
?>
]]>
    </programlisting>
    </example>
    <example>
     <title>Procedural style</title>
     <programlisting role="php">
<![CDATA[
<?php
$link = mysqli_connect("localhost", "my_user", "my_password", "world");

/* Vérification de la connexion */
if (mysqli_connect_errno()) {
    printf("Echec de la connexion : %s\n", mysqli_connect_error());
    exit();
}

$query = "SELECT Name, CountryCode FROM City ORDER by ID LIMIT 3";
$result = mysqli_query($link, $query);

/* Tableau indexé numériquement */
$row = mysqli_fetch_array($result, MYSQLI_NUM);
printf ("%s (%s)\n", $row[0], $row[1]);  

/* Tableau associatif */
$row = mysqli_fetch_array($result, MYSQLI_ASSOC);
printf ("%s (%s)\n", $row["Name"], $row["CountryCode"]);  

/* Tableau associatif et indexé numériquement */
$row = mysqli_fetch_array($result, MYSQLI_BOTH);
printf ("%s (%s)\n", $row[0], $row["CountryCode"]);  

/* Libération des résultats */
mysqli_free_result($result);

/* Fermeture de la connexion */
mysqli_close($link);
?>
]]>
     </programlisting>
    </example>
    &example.outputs;
    <screen>
<![CDATA[
Kabul (AFG)
Qandahar (AFG)
Herat (AFG)
]]>
    </screen>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    &database.field-case;
    <example>
     <title><function>mysqli_fetch_array</function> avec MYSQLI_NUM</title>
     <programlisting role="php">
<![CDATA[
<?php
    mysqli_connect("localhost", "mysql_user", "mysql_password") or
        die("Impossible de se connecter : " . mysqli_error());
    mysqli_select_db("mydb");

    $result = mysqli_query("SELECT id, name FROM mytable");

    while ($row = mysqli_fetch_array($result, MYSQLI_NUM)) {
        printf ("ID: %s  Name: %s", $row[0], $row[1]);  
    }

    mysqli_free_result($result);
?>
]]>
     </programlisting>
    </example>
    <example>
     <title><function>mysqli_fetch_array</function> avec MYSQLI_ASSOC</title>
     <programlisting role="php">
<![CDATA[
<?php
    mysqli_connect("localhost", "mysql_user", "mysql_password") or
        die("Impossible de se connecter : " . mysqli_error());
    mysqli_select_db("mydb");

    $result = mysqli_query("SELECT id, name FROM mytable");

    while ($row = mysqli_fetch_array($result, MYSQLI_ASSOC)) {
        printf ("ID: %s  Name: %s", $row["id"], $row["name"]);
    }

    mysqli_free_result($result);
?>
]]>
     </programlisting>
    </example>
    <example>
     <title><function>mysqli_fetch_array</function> avec MYSQLI_BOTH</title>
     <programlisting role="php">
<![CDATA[
<?php
    mysqli_connect("localhost", "mysql_user", "mysql_password") or
        die("Impossible de se connecter : " . mysqli_error());
    mysqli_select_db("mydb");

    $result = mysqli_query("SELECT id, name FROM mytable");

    while ($row = mysqli_fetch_array($result, MYSQLI_BOTH)) {
        printf ("ID: %s  Name: %s", $row[0], $row["name"]);
    }

    mysqli_free_result($result);
?>
]]>
     </programlisting>
    </example>
    <para>
     Voir aussi <function>mysqli_fetch_assoc</function>,
     <function>mysqli_fetch_row</function> et
     <function>mysqli_fetch_object</function>.
    </para>
   </refsect1>
  </refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
