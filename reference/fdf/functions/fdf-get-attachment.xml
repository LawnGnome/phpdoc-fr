<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.5 $ -->
<!-- EN-Revision: 1.2 Maintainer: yannick Status: ready -->
<refentry id="function.fdf-get-attachment">
 <refnamediv>
  <refname>fdf_get_attachment</refname>
  <refpurpose>Extrait un fichier intégré dans un document FDF</refpurpose>
 </refnamediv>
 <refsect1>
  <title>Description</title>
  <methodsynopsis>
   <type>array</type><methodname>fdf_get_attachment</methodname>
   <methodparam><type>resource</type><parameter>fdf_document</parameter></methodparam>
   <methodparam><type>string</type><parameter>fieldname</parameter></methodparam>
   <methodparam><type>string</type><parameter>savepath</parameter></methodparam>
  </methodsynopsis>
  <para>
   <function>fdf_get_attachment</function> extrait le fichier <parameter>fieldname</parameter>
   téléchargé par le biais du champ "file selection", puis le stocke dans le fichier
   <parameter>savepath</parameter>. <parameter>savepath</parameter> peut être le 
   nom d'un fichier ou bien un dossier dans lequel le fichier uploadé sera créé
   sous son nom original. Tout fichier déjà existant avec le même nom sera écrasé.
  </para>
  <note>
   <para>
    Il semble qu'il n'y ait pas d'autre moyen pour connaître le nom du fichier téléchargé
    que de le stocker dans un dossier avec <parameter>savepath</parameter> puis
    de lire son nom dans le dossier.
   </para>
  </note>
  <para>
   Le tableau retourné contient les champs suivants : 
   <itemizedlist>
    <listitem>
     <simpara><parameter>path</parameter> - chemin de stockage du dossier</simpara>
     <simpara><parameter>size</parameter> - taille du fichier stocké en octets</simpara>
     <simpara><parameter>type</parameter> - Type MIMI du fichier, si il a été fourni dans le document FDF</simpara>
    </listitem>
   </itemizedlist>
  </para>
  <para>
   <example>
    <title>Enregistrement d'un fichier téléchargé</title>
    <programlisting role="php">
<![CDATA[
<?php 
$fdf = fdf_open_string($HTTP_FDF_DATA);
$data = fdf_get_attachment($fdf, "filename", "/tmpdir");
echo "Le fichier téléchargé est stocké dans {$data['path']}";
?>
]]>
    </programlisting>
   </example>
  </para>
 </refsect1>
</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
