<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.10 $ -->
<!-- EN-Revision: 1.9 Maintainer: yannick Status: ready -->
<!-- Reviewed: no -->

<refentry xml:id="function.pfpro-process-raw" xmlns="http://docbook.org/ns/docbook">
 <refnamediv>
  <refname>pfpro_process_raw</refname>
  <refpurpose>Envoie une transaction brute à Payflow Pro</refpurpose>
 </refnamediv>
 <refsect1 role="description">
  &reftitle.description;
  <methodsynopsis>
   <type>string</type><methodname>pfpro_process_raw</methodname>
   <methodparam><type>string</type><parameter>parameters</parameter></methodparam>
   <methodparam choice="opt"><type>string</type><parameter>address</parameter></methodparam>
   <methodparam choice="opt"><type>int</type><parameter>port</parameter></methodparam>
   <methodparam choice="opt"><type>int</type><parameter>timeout</parameter></methodparam>
   <methodparam choice="opt"><type>string</type><parameter>proxy_address</parameter></methodparam>
   <methodparam choice="opt"><type>int</type><parameter>proxy_port</parameter></methodparam>
   <methodparam choice="opt"><type>string</type><parameter>proxy_logon</parameter></methodparam>
   <methodparam choice="opt"><type>string</type><parameter>proxy_password</parameter></methodparam>
  </methodsynopsis>
  <para>
   <function>pfpro_process_raw</function> envoie une transaction
   brute au serveur Payflow Pro. Il est vivement recommandé d'utiliser
   <function>pfpro_process</function> à la place, car les règles de
   codage sont non standard.
  </para>
  <note>
   <para>
    Lisez attentivement le "Payflow Pro Developers Guide" pour connaître tous
    les détails des paramètres et leur règle d'encodage.
    Il est recommandé d'utiliser plutôt <function>pfpro_process</function>.
   </para>
  </note>
 </refsect1>
 <refsect1 role="parameters">
  &reftitle.parameters;
  <para>
   <variablelist>
    <varlistentry>
     <term><parameter>parameters</parameter></term>
     <listitem>
      <para>
       Une chaîne contenant la transaction brute.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><parameter>address</parameter></term>
     <listitem>
      <para>
       Spécifie l'hôte sur lequel on doit se connecter. Par défaut, c'est
       <literal>test.signio.com</literal>, et vous voudriez certainement le
       changer en <literal>connect.signio.com</literal> afin d'effectuer
       des transactions en temps réel.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><parameter>port</parameter></term>
     <listitem>
      <para>
       Spécifie le port sur lequel on se connecte. Par défaut, c'est 443,
       le numéro du port standart.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><parameter>timeout</parameter></term>
     <listitem>
      <para>
       Spécifie le délai maximal à utiliser, en secondes. Par défaut, c'est 30
       secondes. Noter que ce délai maximal ne démarre réellement
       qu'une fois le lien vers le processus établie et donc, votre script
       peut potentiellement continuer très longtemps en cas de problème
       DNS ou de réseau.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><parameter>proxy_address</parameter></term>
     <listitem>
      <para>
       Si nécessaire, spécifie le nom de l'hôte de votre proxy SSL.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><parameter>proxy_port</parameter></term>
     <listitem>
      <para>
       Si nécessaire, spécifie le port de votre proxy SSL.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><parameter>proxy_logon</parameter></term>
     <listitem>
      <para>
       Si nécessaire, spécifie le nom d'utilisateur à utiliser pour l'identification
       sur votre proxy SSL.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><parameter>proxy_password</parameter></term>
     <listitem>
      <para>
       Si nécessaire, spécifie le mot de passe à utiliser pour l'identification
       sur votre proxy SSL.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </para>
 </refsect1>
 <refsect1 role="returnvalues">
  &reftitle.returnvalues;
  <para>
   Retourne une chaîne contenant la réponse brute.
  </para>
 </refsect1>
 <refsect1 role="examples">
  &reftitle.examples;
  <para>
   <example>
    <title>Exemple avec Payflow Pro</title>
    <programlisting role="php">
<![CDATA[
<?php

pfpro_init();

$response = pfpro_process_raw(
"USER=mylogin&PWD[5]=m&ndy&PARTNER=VeriSign&TRXTYPE=S" .
"&TENDER=C&AMT=1.50&ACCT=4111111111111111&EXPDATE=0904");

if (!$response) {
  die("Impossible d'établir un lien vers Verisign.\n");
}

echo "La réponse brute de Verisign est " . $response;

pfpro_cleanup();

?>
]]>
    </programlisting>
   </example>
  </para>
 </refsect1>
 <refsect1 role="seealso">
  &reftitle.seealso;
  <para>
   <simplelist>
    <member><function>pfpro_process</function></member>
   </simplelist>
  </para>
 </refsect1>
</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->