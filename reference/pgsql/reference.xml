<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.2 $ -->
 <reference id="ref.pgsql">
  <title>PostgreSQL</title>
  <titleabbrev>PostgreSQL</titleabbrev>
  <partintro>
   <para>
    Postgres, initialement d&eacute;velopp&eacute; au d&eacute;partement de
    Science informatique, &agrave; UC Berkeley, mis en place la majorit&eacute;
    des concepts des bases relationnelles, actuellement disponibles sur le
    march&eacute;. PostgreSQL accepte le langage SQL92/SQL3, assure
    l'int&eacute;grit&eacute; transactionnelle, et l'extension de type.
    PostgreSQL est une &eacute;volution du code originale de Berkeley :
    il est Open Source et dans le domaine public.
   </para>
   <para>
    PostgreSQL est disponible sans frais. La version actuelle est disponible
    &agrave; (en anglais) : <ulink url="&url.pgsql;">www.PostgreSQL.org</ulink>.
   </para>
   <para>
    Depuis la version 6.3 (03/02/1998) PostgreSQL utilise les sockets UNIX, et
    une table est d&eacute;di&eacute;e &agrave; ces nouvelles capacit&eacute;s.
    La socket est situ&eacute;e dans le dossier
    <filename>/tmp/.s.PGSQL.5432</filename>. Cette option peut &ecirc;tre
    activ&eacute;e avec '-i' pass&eacute; au  <command>postmaster</command>
    et cela s'interpr&egrave;te: "&eacute;coute sur les sockets TCP/IP et sur
    les sockets Unix".
    <table>
     <title>Postmaster et PHP</title>
     <tgroup cols="3">
      <thead>
       <row>
	<entry>Postmaster</entry>
	<entry>PHP</entry>
	<entry>Statut</entry>
       </row>
      </thead>
      <tbody>
       <row>
	<entry>postmaster &amp;</entry>
	<entry>pg_connect("dbname=MonDbName");</entry>
	<entry>OK</entry>
       </row>
       <row>
	<entry>postmaster -i &amp;</entry>
	<entry>pg_connect("dbname=MonDbName");</entry>
	<entry>OK</entry>
       </row>
       <row>
	<entry>postmaster &amp;</entry>
	<entry>pg_connect("host=localhost dbname=MonDbName");</entry>
	<entry>
	 Unable to connect to PostgreSQL server: connectDB() failed:
	 Impossible de se connecter au serveur PostgreSQL:
	 connectDB() a &eacute;chou&eacute;. Est ce que le postmaster fonctionne,
	 et accepte les TCP/IP (option -i) sur le port '5432'?
	</entry>
       </row>
       <row>
	<entry>postmaster -i &amp;</entry>
	<entry>pg_connect("host=localhost dbname=MonDbName");</entry>
	<entry>OK</entry>
       </row>
      </tbody>
     </tgroup>
    </table>
   </para>
   <para>
    Il est possible de se connecter avec la commande suivante :
    <command>$conn = pg_Connect("host=monHote port=monPort tty=monTTY
    options=myOptions dbname=myDB user=myUser password=myPassword");
    </command>
   </para>
   <para>
    L'ancienne syntaxe :
    <command>
      $conn = pg_connect("host", "port", "options", "tty", "dbname")
    </command>
    est obsol&egrave;te.
   </para>
   <para>
     Pour utiliser l'interface des grands objets (large object (lo) interface),
     il est n&eacute;cessaire de les placer dans un bloc de transaction. Un bloc
     de transaction commence avec <command>begin</command> et si la transaction
     se termine avec un <command>commit</command> et <command>end</command>. Si
     la transaction &eacute;choue, elle doit &ecirc;tre conclue par un
     <command>abort</command> et <command>rollback</command>.
    <example>
     <title>Utilisation des objets de grande taille (Large Objects)</title>
     <programlisting role="php">
&lt;?php
  $database = pg_connect("", "", "", "", "jacarta");
  pg_exec($database, "begin");
  $oid = pg_locreate($database);
  echo "$oid\n";
  $handle = pg_loopen($database, $oid, "w");
  echo "$handle\n";
  pg_lowrite($handle, "gaga");
  pg_loclose($handle);
  pg_exec($database, "commit")
  pg_exec($database, "end")
?&gt;
     </programlisting>
    </example>
   </para>
  </partintro>

&reference.pgsql.functions;

 </reference>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->

