<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.12 $ -->
<!-- EN-Revision: 1.12 Maintainer: yannick Status: ready -->
 <refentry id="function.mktime">
  <refnamediv>
   <refname>mktime</refname>
   <refpurpose>
    Retourne le timestamp UNIX d'une date
   </refpurpose>
  </refnamediv>
  <refsect1>
   <title>Description</title>
     <methodsynopsis>
      <type>int</type><methodname>mktime</methodname>
      <methodparam choice="opt"><type>int</type><parameter>hour</parameter></methodparam>
      <methodparam choice="opt"><type>int</type><parameter>minute</parameter></methodparam>
      <methodparam choice="opt"><type>int</type><parameter>second</parameter></methodparam>
      <methodparam choice="opt"><type>int</type><parameter>month</parameter></methodparam>
      <methodparam choice="opt"><type>int</type><parameter>day</parameter></methodparam>
      <methodparam choice="opt"><type>int</type><parameter>year</parameter></methodparam>
      <methodparam choice="opt"><type>int</type><parameter>is_dst</parameter></methodparam>
     </methodsynopsis>
   <para>
    <emphasis>ATTENTION</emphasis> : l'ordre des arguments est
    différent de celui de la commande UNIX habituelle mktime(),
    et fournit des résultats aléatoires si on oublie cet
    ordre. C'est une erreur très commune que de se tromper de sens.
   </para>
   <para>
    <function>mktime</function> retourne un timestamp UNIX
    correspondant aux arguments fournis. Ce timestamp est un
    entier long, contenant le nombre de secondes entre le début
    de l'époque UNIX (1er Janvier 1970 00:00:00 GMT) et le temps
    spécifié.
   </para>
   <para>
    Les arguments peuvent être omis, de droite à gauche,
    et tous les arguments manquants sont utilisés avec la valeur
    courante de l'heure et du jour.
   </para>
   <para>
    <parameter>is_dst</parameter> peut être mis à 1 si
    l'heure d'hiver est appliquée, 0 si elle ne l'est pas, et -1
    (par défaut) si on ne sait pas.
   </para>
   <note>
    <para>
     <parameter>is_dst</parameter> a été ajouté
     à partir de la version 3.0.10.
    </para>
   </note>
   <para>
    Quelques temps sont invalides si DST vaut <literal>on</literal>.
    Si DST est activé e.g. 2:00, tous les temps entre 2:00 et 3:00 sont invalides
    et la fonction <function>mktime</function> retourne une valeur indéfinie
    (généralement une valeur négative). Quelques systèmes (e.g. Solaris 8)
    activent DST à minuit, donc, le temps 0:30 du jour lorsque DST est activé
    est évalué à 23:30 du jour précédent.
   </para>
   <para>
    <function>mktime</function> est pratique pour faire des calculs de dates et des
    validations, car elle va automatiquement corriger les valeurs invalides.
    Par exemple, toutes les lignes suivantes vont retourner la même date :
    "Jan-01-1998".
    <example>
     <title>Exemple <function>mktime</function></title>
     <programlisting role="php">
<![CDATA[
<?php
echo date("M-d-Y", mktime(0, 0, 0, 12, 32, 1997));
echo date("M-d-Y", mktime(0, 0, 0, 13, 1, 1997));
echo date("M-d-Y", mktime(0, 0, 0, 1, 1, 1998));
echo date("M-d-Y", mktime(0, 0, 0, 1, 1, 98));
?>
]]>
     </programlisting>
    </example>
    <parameter>year</parameter> peut prendre deux ou quatre chiffres,
    avec les valeurs entre 0-69 qui correspondent à 2000-2069 et
    70-99 à 1970-1999 (sur les systèmes où
    time_t sont sur des entiers 32bit signés, comme cela se
    fait le plus souvent de nos jours, <parameter>year</parameter>
    est valide dans l'intervalle 1901 et 2038.
   </para>
   <para>
    <note>
     <title>Microsoft Windows</title>
     <simpara>
      Les valeurs négatives des timestamp ne sont pas supportées sous toutes les versions actuelles
      de Microsoft Windows. De ce fait, l'intervalle valide pour les années est de 1970 à 2038, inclus.
     </simpara>
    </note>
   </para>
   <para>
    Le dernier jour d'un mois peut être décrit comme
    le jour "0" du mois suivant, et non pas le jour -1. Les deux
    exemples suivants vont donner :
    "Le dernier jour de Fevrier 2000 est: 29".
    <example>
     <title>Dernier jour du mois</title>
     <programlisting role="php">
<![CDATA[
<?php
$lastday = mktime (0, 0, 0, 3, 0, 2000);
echo strftime ("Le dernier jour de Fevrier 2000 est: %d", $lastday);
$lastday = mktime (0, 0, 0, 4, -31, 2000);
echo strftime ("Le dernier jour de Fevrier 2000 est: %d", $lastday);
?>
]]>
     </programlisting>
    </example>
   </para>
   <simpara>
    Les dates dont l'année, le mois et le jour valent 0 sont considérées comme illégalles
    (il sera considéré comme valant 30.11.1999 et aura un comportement étrange).
    </simpara>
   <para>
    Voir aussi
    <function>date</function> et
    <function>time</function>.
   </para>
  </refsect1>
 </refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
