<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.2 $ -->
<!-- EN-Revision: 1.4 Maintainer: yannick Status: ready -->
<!-- Reviewed: no -->

<chapter xml:id="sqlite.setup" xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">
 &reftitle.setup;

 <!-- {{{ Requirements -->
 <section xml:id="sqlite.requirements">
  &reftitle.required;
  <para>
   Afin d'activer ces fonctions, vous devez compiler PHP avec le support
   SQLite, ou charger l'extension SQLite dynamiquement depuis votre fichier
   &php.ini;.
  </para>
 </section>
 <!-- }}} -->

 <!-- {{{ Installation -->
 <section xml:id="sqlite.installation">
  &reftitle.install;
  <para>
   Lisez le fichier INSTALL, fourni avec le paquet. Ou bien, utilisez
   simplement l'installeur PEAR avec la commande
   <command>pecl install sqlite</command>.
   SQLite lui-même est déjà inclu. Vous n'avez pas besoin d'installer d'autres
   logiciels.
  </para>
  <para>
   Les utilisateurs de Windows doivent activer la bibliothèque
   <filename>php_sqlite.dll</filename> dans le fichier &php.ini; afin
   d'utiliser ces fonctions.
   &pecl.windows.download;
  </para>
  <para>
   En PHP 5, L'extension SQLite et le moteur lui-même sont inclus et compilés par
   défaut. Cependant, depuis PHP 5.1.0, vous devez activer manuellement l'extension
   dans le fichier &php.ini; (car il est fourni comme élément partagé).
   De plus, depuis PHP 5.1.0, SQLite dépend de <link
   linkend="intro.pdo">PDO</link> qui doit être également activé, en ajoutant les
   lignes suivantes à votre fichier &php.ini; (l'ordre est important) :
   <informalexample>
    <programlisting role="ini">
<![CDATA[
extension=php_pdo.dll
extension=php_sqlite.dll
]]>
    </programlisting>
   </informalexample>
   Sur les systèmes Unix ou Linux, si vous compilez PDO en tant
   qu'extension partagée, vous devez compilez également SQLite
   comme extension partagée, en utilisant l'option de configuration
   <command>--with-sqlite=shared</command>.
  </para>
  <para>
   SQLite 3 est supporté via <link
   linkend="ref.pdo-sqlite">PDO SQLite</link>.
  </para>
  <note>
   <title>Installation sous Windows pour les comptes sans privilèges</title>
   <para>
    Sur les systèmes Windows, les comptes sans privilèges n'ont pas
    de variable d'environnement <varname>TMP</varname> de définie par défaut.
    Ceci aura pour effet que sqlite créera des fichiers temporaires dans le
    dossier Windows, ce qui n'est pas un bon comportement. Donc, vous devriez
    définir la variable d'environnement <varname>TMP</varname> pour le serveur
    Web ou le compte utilisateur, utilisé par le serveur Web. Si Apache est
    votre serveur Web, vous pouvez réaliser cela via la directive
    <command>SetEnv</command> de votre fichier &httpd.conf;. Par exemple :
    <informalexample>
     <programlisting role="apache-conf">
<![CDATA[
SetEnv TMP c:/temp
]]>
     </programlisting>
    </informalexample>
    Si vous n'arrivez pas à établir cette configuration au niveau de votre
    serveur, vous pouvez l'implémenter directement dans votre script, comme
    ceci :
    <informalexample>
     <programlisting role="php">
<![CDATA[
putenv('TMP=C:/temp');
]]>
     </programlisting>
    </informalexample>
    Cette configuration doit pointer vers un dossier dont le
    serveur Web a les permissions nécessaire à la création de fichiers,
    mais aussi à l'écriture et à l'effacement. Sinon, vous recevrez le
    message suivant :
    <computeroutput>
     malformed database schema -
     unable to open a temporary database file for storing temporary tables
    </computeroutput>
   </para>
  </note>
 </section>
 <!-- }}} -->

 <!-- {{{ Configuration -->
 &reference.sqlite.ini;
 <!-- }}} -->

 <!-- {{{ Resources -->
 <section xml:id="sqlite.resources">
  &reftitle.resources;
  <para>
   Il y a deux ressources utilisées par l'interface SQLite. La première est
   la connexion à la base de données, et la seconde, le jeu de résultats.
  </para>
 </section>
 <!-- }}} -->

</chapter>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->

