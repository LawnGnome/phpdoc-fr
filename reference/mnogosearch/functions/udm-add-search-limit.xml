<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.10 $ -->
<!-- EN-Revision: 1.7 Maintainer: yannick Status: ready -->
<!-- Reviewed: yes -->
 <refentry xml:id="function.udm-add-search-limit" xmlns="http://docbook.org/ns/docbook">
  <refnamediv>
   <refname>udm_add_search_limit</refname>
   <refpurpose>Ajoute différentes limitations de recherche</refpurpose>
  </refnamediv>
  <refsect1>
   &reftitle.description;
    <methodsynopsis>
     <type>bool</type><methodname>udm_add_search_limit</methodname>
     <methodparam><type>resource</type><parameter>agent</parameter></methodparam>
     <methodparam><type>int</type><parameter>var</parameter></methodparam>
     <methodparam><type>string</type><parameter>val</parameter></methodparam>
    </methodsynopsis>
   <para>
    <function>udm_add_search_limit</function> ajoute différentes limitations
    de recherche. &return.success;
   </para>
   <para>
    <parameter>agent</parameter> - un identifiant d'Agent,
    obtenu après un appel à <function>udm_alloc_agent</function>.
   </para>
   <para>
    <parameter>var</parameter> - nom du paramètre de limitation.
   </para>
   <para>
    <parameter>val</parameter> - Valeur du paramètre suscité.
   </para>
   <para>
    <parameter>var</parameter> peut prendre les valeurs suivantes :
   </para>
   <itemizedlist>
    <listitem>
     <simpara>
      UDM_LIMIT_URL - Définit les limitations sur les URL, pour
      limiter les recherches à une partie de la base. Ce
      paramètre supporte les jokers SQL '%' et '_' : '%' remplace
      n'importe quel nombre de caractères, même zéro
      caractères, et '_' remplace exactement un caractère.
      Par exemple, <literal>'http://my.domain.__/catalog'</literal> peut
      remplacer <literal>http://my.domain.ru/catalog</literal> ou
      <literal>http://my.domain.ua/catalog</literal>.
      </simpara>
    </listitem>
    <listitem>
     <simpara>
      UDM_LIMIT_TAG - Définit les limitations par étiquettes.
      Lors de l'indexation, vous pouvez assigner des étiquettes sur
      différentes parties d'un site. Les étiquettes de
      mnoGoSearch 3.1.x sont des lignes, qui peuvent contenir les jokers
      '%' et '_' : '%' remplace n'importe quel nombre de caractères,
      même zéro caractères, et '_' remplace exactement
      un caractère. Par exemple, si vous avez les étiquettes
      ABCD et ABCE, la limitation de recherche <literal>ABC_</literal>
      limitera la recherche à ces deux étiquettes;
      </simpara>
    </listitem>
    <listitem>
     <simpara>
      UDM_LIMIT_LANG - Définit les limitations par langue.
     </simpara>
    </listitem>
    <listitem>
     <simpara>
      UDM_LIMIT_CAT - Définit les limitations par catégorie.
      Les catégories sont similaires aux étiquettes, mais
      elles peuvent être imbriquées. Vous pouvez donc placer
      des catégories dans d'autres catégories. Vous devez
      utiliser deux caractères pour chaque niveau. Vous pouvez
      utiliser des nombres hexadécimaux allant de 0 à
      F ou bien sûr une base de 36, allant de 0 à Z. Par
      exemple la catégorie supérieure 'Auto' vaut 01. Si elle
      a une sous catégorie 'Renault', cette dernière sera
      repérée par 01 (catégorie mère) suivie de
      01 (dans sa catégorie), ce qui donne "0101". Si 'Auto' a une
      autre sous-catégorie 'Peugeot', cette dernière aura le
      numéro 02, et sera identifiée par
      <literal>0102</literal>. Si 'Peugeot' a elle-même une autre
      sous-catégorie, 'Moteur', elle sera numéroté 01,
      et identifiée uniquement par <literal>010201</literal>. Si
      vous voulez restreindre les recherches à cette
      catégorie uniquement, passez <literal>cat=010201</literal>.
      </simpara>
    </listitem>
    <listitem>
     <simpara>
      UDM_LIMIT_DATE - Définit les limitations par date de
      modification du document.
      </simpara>
     <simpara>
      Format de la valeur : une chaîne de caractères, dont le
      premier caractère est &lt; ou &gt;, puis une date au format
      unixtimestamp. Par exemple :
      </simpara>
     <para>
      <example>
       <title />
       <programlisting role="php">
<![CDATA[
<?php
Udm_Add_Search_Limit($udm, UDM_LIMIT_DATE, "&lt;908012006");
?>
]]>
       </programlisting>
      </example>
     </para>
     <simpara>
      Si &gt; est utilisé, la recherche sera limitée aux
      documents dont la date de modification est plus grande que celle qui
      a été entrée. Avec &lt;, c'est le contraire.
      </simpara>
    </listitem>
   </itemizedlist>
  </refsect1>
 </refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
