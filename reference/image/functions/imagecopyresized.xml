<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.16 $ -->
<!-- EN-Revision: 1.6 Maintainer: yannick Status: ready -->
<!-- Reviewed: yes -->
 <refentry id="function.imagecopyresized">
  <refnamediv>
   <refname>imagecopyresized</refname>
   <refpurpose>Copie et redimensionne une partie d'une image</refpurpose>
  </refnamediv>
  <refsect1>
   &reftitle.description;
    <methodsynopsis>
    <type>bool</type><methodname>imagecopyresized</methodname>
    <methodparam><type>resource</type><parameter>dst_image</parameter></methodparam>
    <methodparam><type>resource</type><parameter>src_image</parameter></methodparam>
    <methodparam><type>int</type><parameter>dst_x</parameter></methodparam>
    <methodparam><type>int</type><parameter>dst_y</parameter></methodparam>
    <methodparam><type>int</type><parameter>src_x</parameter></methodparam>
    <methodparam><type>int</type><parameter>src_y</parameter></methodparam>
    <methodparam><type>int</type><parameter>dst_w</parameter></methodparam>
    <methodparam><type>int</type><parameter>dst_h</parameter></methodparam>
    <methodparam><type>int</type><parameter>src_w</parameter></methodparam>
    <methodparam><type>int</type><parameter>src_h</parameter></methodparam>
   </methodsynopsis>
   <para>
    <function>imagecopyresized</function> copie une partie rectangulaire d'une image
    dans une autre image de destination. <parameter>dst_image</parameter> est l'image
    de destination, <parameter>src_image</parameter> est l'image source. Si les dimensions
    de la source et de la destination ne sont pas égales, un
    étirement adéquat est effectué pour faire correspondre
    les deux. Les coordonnées fournies sont définies par rapport
    au coin supérieur gauche. Cette fonction peut être
    utilisée pour recopier des régions à l'intérieur
    d'une même image (si <parameter>dst_image</parameter> et
    <parameter>src_image</parameter> sont identiques), mais si les
    régions se chevauchent, le résultat risque d'être
    incohérent.
   </para>
   <note>
    <para>
     Il y a un problème dû aux limitations de la taille de la palette
     (255 + 1 couleurs différentes). Filtrer ou rééchantillonner une image
     demande plus de 255 couleurs, une approximation est alors utilisée pour 
     calculer le nouveau nombre de couleurs. Avec une palette, si une nouvelle
     couleur ne peut être allouée, la couleur la plus proche (en théorie)
     est utilisée ; ce n'est pas toujours celle qui est la plus proche visuellement.
     Cela peut générer des problèmes étranges, comme des images blanches.
     Pour éviter ce problème, passez en image TrueColor, comme celles 
     générée par la fonction <function>imagecreatetruecolor</function>.
    </para>
   </note>
  </refsect1>

  <refsect1>
   &reftitle.examples;
   <para>
    <example>
     <title>Redimensionnement d'une image</title>
     <para>
      Cet exemple affichera l'image redimensionné à la moitié de sa taille d'origine.
     </para>
     <programlisting role="php">
<![CDATA[
<?php
// Fichier et nouvelle taille
$filename = 'test.jpg';
$percent = 0.5;

// Content type
header('Content-type: image/jpeg');

// Calcul des nouvelles dimensions
list($width, $height) = getimagesize($filename);
$newwidth = $width * $percent;
$newheight = $height * $percent;

// chargement
$thumb = imagecreatetruecolor($newwidth, $newheight);
$source = imagecreatefromjpeg($filename);

// Redimensionnement
imagecopyresized($thumb, $source, 0, 0, 0, 0, $newwidth, $newheight, $width, $height);

// Affichage
imagejpeg($thumb);
?>
]]>
     </programlisting>
     <para>
      L'image affiché aura une taille de moitié moins que l'image d'origine, mais une
      meilleur qualité peut être obtenue en utilisant la fonction 
      <function>imagecopyresampled</function>.
     </para>
    </example>
   </para>
  </refsect1>

  <refsect1>
   &reftitle.seealso;
   <para>
    <function>imagecopyresampled</function>.
   </para>
  </refsect1>
 </refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
