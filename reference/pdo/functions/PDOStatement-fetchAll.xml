<?xml version='1.0' encoding='iso-8859-1'?>
<!-- $Revision: 1.3 $ -->
<!-- EN-Revision: 1.4 Maintainer: yannick Status: ready -->
  <refentry id="function.PDOStatement-fetchAll">
   <refnamediv>
    <refname>PDOStatement::fetchAll</refname>
    <refpurpose>
     Retourne un tableau contenant toutes les lignes du jeu d'enregistrements
    </refpurpose>
   </refnamediv>
   <refsect1>
    &reftitle.description;
    <methodsynopsis>
     <type>array</type><methodname>PDOStatement::fetchAll</methodname>
     <methodparam choice="opt"><type>int</type><parameter>fetch_style</parameter></methodparam>
    </methodsynopsis>

    &warn.experimental.func;
    <para>
     <function>PDOStatement::fetchAll</function> retourne un tableau contenant
     toutes les lignes du jeu d'enregistrements. Le tableau représente chaque ligne
     comme soit un tableau de valeurs des colonnes, soit un objet avec des propriétés
     correspondant à chaque nom de colonne. <parameter>fetch_style</parameter>
     contrôle le contenu du tableau retourné comme documenté dans la page de la
     documentation de la fonction <function>PDOStatement::fetch</function>.
     Le paramètre <parameter>fetch_style</parameter> vaut par défaut 
     <literal>PDO_FETCH_BOTH</literal>.
    </para>
    <para>
     L'utilisation de cette méthode pour récupérer de gros jeux de résultats
     peut augmenter les ressources du systèmes mais également ces ressources.
     Plutôt que de récupérer toutes les données et de les manipuler avec &php;,
     utilisez le serveur de base de données pour manipuler les jeux de résultats.
     Par exemple, utilisez les clauses <literal>WHERE</literal> et 
     <literal>ORDER BY</literal> dans vos requêtes SQL pour restreindre les résultats
     avant de le récupérer et de les traiter avec &php;.
    </para>

    <example><title>Récupération de toutes les lignes d'un jeu de résultats</title>
     <programlisting role="php">
<![CDATA[
<?php
$sth = $dbh->prepare("SELECT nom, couleur FROM fruit");
$sth->execute();

/* Récupération de toutes les lignes d'un jeu de résultats */
print("Récupération de toutes les lignes d'un jeu de résultats :\n");
$result = $sth->fetchAll();
print_r($result);
?>
]]>
     </programlisting>
     &example.outputs;
     <screen>
<![CDATA[
Récupération de toutes les lignes d'un jeu de résultats :
Array
(
    [0] => Array
        (
            [NOM] => pear
            [0] => pear
            [COULEUR] => green
            [1] => green
        )

    [1] => Array
        (
            [NOM] => watermelon
            [0] => watermelon
            [COULEUR] => pink
            [1] => pink
        )

)
]]>
     </screen>
    </example>

   </refsect1>
  </refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
