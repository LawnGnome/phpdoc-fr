<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.10 $ -->
<!-- EN-Revision: 1.13 Maintainer: dams Status: ready -->
<!-- Reviewed: yes -->
  <refentry id="function.mysql-error">
   <refnamediv>
    <refname>mysql_error</refname>
    <refpurpose>
     Retourne le texte associé avec l'erreur générée
     lors de la dernière requête
    </refpurpose>
   </refnamediv>
   <refsect1>
    &reftitle.description;
     <methodsynopsis>
      <type>string</type><methodname>mysql_error</methodname>
      <methodparam choice="opt"><type>resource</type><parameter>link_identifier</parameter></methodparam>
     </methodsynopsis>
    <para>
     <function>mysql_error</function> retourne le message d'erreur
     généré par la dernière commande MySQL, ou bien
     <literal>''</literal> (la chaîne vide) si aucune erreur n'est survenue.
    </para>
    <para>
     Les erreurs retournées par le serveur MySQL ne génèrent plus
     de message d'alerte. A la place, vous devez utiliser la fonction 
     <function>mysql_error</function> pour lire le contenu du message.
     Notez que cette fonction ne retourne que le texte de l'erreur la
     plus récente, ce qui fait que si vous souhaitez l'utiliser, vous devez
     vous assurer de sa valeur avant de lancer une autre requête.
     <example>
      <title>Exemple avec <function>mysql_error</function></title>
      <programlisting role="php">
<![CDATA[
<?php
    mysql_connect("localhost", "mysql_user", "mysql_password");

    mysql_select_db("nonexistentdb");
    echo mysql_errno() . ": " . mysql_error(). "\n";

    mysql_select_db("kossu");
    mysql_query("SELECT * FROM nonexistenttable");
    echo mysql_errno() . ": " . mysql_error() . "\n";
?>
]]>
      </programlisting>
      &example.outputs;
       <screen>
<![CDATA[
1049: Unknown database 'nonexistentdb'
1146: Table 'kossu.nonexistenttable' doesn't exist
]]>
       </screen>
     </example>
    </para>
    <para>
     Voir aussi
     <function>mysql_errno</function> et les
     <ulink url="&url.mysql.docs.error.msg;">messages d'erreurs MySQL</ulink>.
    </para>
   </refsect1>
  </refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
