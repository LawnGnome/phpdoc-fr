<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.15 $ -->
<!-- EN-Revision: 1.12 Maintainer: yannick Status: ready -->
<!-- Purpose: database.vendors -->
<!-- Membership: pecl, external -->
<!-- Reviewed: yes -->

<reference id="ref.ingres">
 <title>Ingres II</title>
 <titleabbrev>Ingres II</titleabbrev>

  <partintro>
   <section id="ingres.intro">
    &reftitle.intro;
    <para>
     Ces fonctions permettent l'accès à un serveur de
     base de données Ingres II.
    </para>
    <note>
     <para>
      Si vous avez déjà utilisé des extensions &php; permettant
      l'accès à d'autres serveurs de bases de données, notez
      qu'Ingres n'accepte pas de requêtes et/ou de transactions concurrentes
      sur la même connexion, et donc vous ne trouverez aucun identifiant de
      résultat ou de transaction dans cette extension. Le résultat
      d'une requête doit être traité avant d'envoyer une autre
      requête, et une transaction doit être validée ("commit")
      ou annulée ("roll back") avant de pouvoir en ouvrir une nouvelle
      (l'ouverture de transaction est faite automatiquement
      à l'envoi de la première requête).
     </para>
    </note>
   </section>

   <section id="ingres.requirements">
    &reftitle.required;
    <para>
     Pour compiler &php; avec le support Ingres, vous aurez besoin de
     la bibliothèque Ingres OpenAPI et des fichiers d'en-têtes. 
    </para>
   </section>

   &reference.ingres-ii.configure;

   &reference.ingres-ii.ini;

   <section id="ingres.resources">
    &reftitle.resources;
    <para>
     <function>ingres_connect</function> et
     <function>ingres_pconnect</function> retournent un identifiant de lien Ingres II.
    </para>
   </section>

   &reference.ingres-ii.constants;

   <section id="ingres.examples">
   &reftitle.examples;
    <para>
     Ce simple exemple illustre comment se connecter, exécuter une requête,
     afficher les résultats et se déconnecter d'une base de données Ingres.
     <example>
      <title>Simple Ingres Example</title>
      <programlisting role="php">
<![CDATA[
<?php
// Connexion, sélection de base de données
$link = ingres_connect('database', 'user', 'password')
    or die('Connexion impossible : ' . ingres_error($link));
echo 'Connecté correctement';

// Sélectionne à partir d'une table qui existe dans toutes les bases de données Ingres
$query = 'SELECT * FROM iirelation';
$returncode = ingres_query($query,$link) or die('Échec requête : ' .
ingres_error($link));

// Affiche les résultats en HTML
// relid - table name
// relowner - table owner
echo "<table>\n";
while ($iirelation = ingres_fetch_object(INGRES_BOTH, $link)) {
    echo "\t<tr>\n";
    echo "\t\t<td>" . $iirelation->relid . "</td>\n";
    echo "\t\t<td>" . $iirelation->relowner . "</td>\n";
    echo "\t</tr>\n";
}
echo "</table>\n";

// Envoie la transaction
ingres_commit($link);
// Fermeture de la connexion
ingres_close($link);
?>
]]>
      </programlisting>
     </example>
    </para>
   </section>
  </partintro>


&reference.ingres-ii.functions;

</reference>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->