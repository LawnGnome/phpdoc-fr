<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.14 $ -->
<!-- EN-Revision: 1.9 Maintainer: yannick Status: ready -->
<!-- Reviewed: no -->

<refentry xml:id="function.ingres-connect" xmlns="http://docbook.org/ns/docbook">
 <refnamediv>
  <refname>ingres_connect</refname>
  <refpurpose>Ouvre une connexion sur un serveur Ingres</refpurpose>
 </refnamediv>

 <refsect1 role="description">
  &reftitle.description;
  <methodsynopsis>
   <type>resource</type><methodname>ingres_connect</methodname>
   <methodparam choice="opt"><type>string</type><parameter>database</parameter></methodparam>
   <methodparam choice="opt"><type>string</type><parameter>username</parameter></methodparam>
   <methodparam choice="opt"><type>string</type><parameter>password</parameter></methodparam>
   <methodparam choice="opt"><type>array</type><parameter>options</parameter></methodparam>
  </methodsynopsis>
  <para>
   <function>ingres_connect</function> ouvre une connexion
   avec la base de données <parameter>database</parameter>.
  </para>
  <para>
   La connexion est fermée lorsque le script se termine ou en cas d'appel
   à <function>ingres_close</function>.
  </para>
  <para>
   Toutes les autres fonctions Ingres utilisent le dernier lien ouvert
   comme lien par défaut, il n'est donc nécessaire de conserver la
   valeur de retour qu'en cas d'utilisation de plus d'un lien en même
   temps.
  </para>
 </refsect1>

 <refsect1 role="parameters">
  &reftitle.parameters;
  <para>
   Si certains paramètres sont manquants,
   <function>ingres_connect</function> utilise les valeurs de
   <parameter>ingres.default_database</parameter>,
   <parameter>ingres.default_user</parameter> et
   <parameter>ingres.default_password</parameter> indiquées dans
   &php.ini;.
  </para>
  <para>
   <variablelist>
    <varlistentry>
     <term><parameter>database</parameter></term>
     <listitem>
      <para>
       Le nom de la base de données. Doit suivre la syntaxe
       <varname>[node_id::]dbname[/svr_class]</varname>.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><parameter>username</parameter></term>
     <listitem>
      <para>
       Le nom d'utilisateur Ingres.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><parameter>password</parameter></term>
     <listitem>
      <para>
       Le mot de passe associé avec l'utilisateur
       <parameter>username</parameter>.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><parameter>options</parameter></term>
     <listitem>
      <para>
       Options d'<function>ingres_connect</function>
       <informaltable>
        <tgroup cols='2'>
         <thead>
          <row>
           <entry>Nom de l'option</entry>
           <entry>Description</entry>
          </row>
         </thead>
         <tbody>
          <row>
           <entry>date_century_boundary</entry>
           <entry>
            Le seuil pour lequel une année sur 2 chiffres est déterminée pour être
            dans le siècle courant ou dans le siècle prochain. Identique à
            II_DATE_CENTURY_BOUNDARY.
           </entry>
          </row>
          <row>
           <entry>group</entry>
           <entry>
            Spécifie d'identifiant de groupe de l'utilisateur. Équivaut au drapeau <literal>"-G"</literal>
           </entry>
          </row>
          <row>
           <entry>role</entry>
           <entry>
           L'identifiant du rôle de l'application. Si un mot de passe de rôle est nécessaire,
           la valeur du paramètre devra être spécifiée sous la forme <literal>"rôle/mot de passe"</literal>
          </entry>
          </row>
          <row>
           <entry>effective_user</entry>
           <entry>
            Le compte utilisateur ingres à personnifier. Équivalent au drapeau <literal>"-u"</literal>
           </entry>
          </row>
          <row>
           <entry>dbms_password</entry>
           <entry>
            Le mot de passe interne de la base de données pour l'utilisateur se connectant à Ingres
           </entry>
          </row>
          <row>
           <entry>table_structure</entry>
           <entry>
            <para>
             La structure par défaut pour les nouvelles tables. Les valeurs valides pour
             table_structure sont :
             <itemizedlist>
              <listitem><simpara>INGRES_STRUCTURE_BTREE</simpara></listitem>
              <listitem><simpara>INGRES_STRUCTURE_HASH</simpara></listitem>
              <listitem><simpara>INGRES_STRUCTURE_HEAP</simpara></listitem>
              <listitem><simpara>INGRES_STRUCTURE_ISAM</simpara></listitem>
              <listitem><simpara>INGRES_STRUCTURE_CBTREE</simpara></listitem>
              <listitem><simpara>INGRES_STRUCTURE_CISAM</simpara></listitem>
              <listitem><simpara>INGRES_STRUCTURE_CHASH</simpara></listitem>
              <listitem><simpara>INGRES_STRUCTURE_CHEAP</simpara></listitem>
             </itemizedlist>
            </para>
           </entry>
          </row>
          <row>
           <entry>index_structure</entry>
           <entry>
            <para>
             La structure par défaut pour les indexes secondaires. Les valeurs valides pour
             index_structure sont :
             <itemizedlist>
              <listitem><simpara>INGRES_STRUCTURE_CBTREE</simpara></listitem>
              <listitem><simpara>INGRES_STRUCTURE_CISAM</simpara></listitem>
              <listitem><simpara>INGRES_STRUCTURE_CHASH</simpara></listitem>
              <listitem><simpara>INGRES_STRUCTURE_BTREE</simpara></listitem>
              <listitem><simpara>INGRES_STRUCTURE_HASH</simpara></listitem>
              <listitem><simpara>INGRES_STRUCTURE_ISAM</simpara></listitem>
             </itemizedlist>
            </para>
           </entry>
          </row>
          <row>
           <entry>login_local</entry>
           <entry>
            Détermine la façon dont sont traités l'identifiant de l'utilisateur
            et le mot de passe lorsqu'un VNODE est inclus dans la chaîne cible de la
            base de données. Si définit à &true;, l'identifiant de l'utilisateur et le mot
            de passe sont utilisés pour accéder localement au VNODE et les informations
            d'identification du VNODE sont utilisées pour établir la connexion DBMS.
            Si définit à &false;, l'identifiant du processus utilisateur est utilisé pour
            accéder au VNODE et l'identifiant de l'utilisateur pour la connexion et le mot
            de passe sont utilisés à la place des informations d'identification VNODE
            pour établir la connexion DBMS. Ce paramètre est ignoré si aucun VNODE n'est
            inclu dans la chaîne cible de la base de données. Par défaut, ce paramètre vaut
            &false;.
           </entry>
          </row>
          <row>
           <entry>timezone</entry>
           <entry>
            Contrôle le fuseau horaire de la session. Si aucun n'est défini, ce paramètre
            vaudra la valeur définie par la constante II_TIMEZONE_NAME. Si la constante
            II_TIMEZONE_NAME n'est pas définie, la valeur NA-PACIFIC (GMT-8) sera utilisée.
           </entry>
          </row>
          <row>
           <entry>date_format</entry>
           <entry>
            <para>
             Définit les formats d'entrée et de sortie autorisées pour les dates Ingres.
             Par défaut, la valeur est définie par la constante II_DATE_FORMAT. Si la
             constante II_DATE_FORMAT n'est pas définie, le format par défaut de la date
             sera US, e.g. mm/dd/yy. Les valeurs valides pour date_format sont :
             <itemizedlist>
              <listitem><simpara>INGRES_DATE_DMY</simpara></listitem>
              <listitem><simpara>INGRES_DATE_FINISH</simpara></listitem>
              <listitem><simpara>INGRES_DATE_GERMAN</simpara></listitem>
              <listitem><simpara>INGRES_DATE_ISO</simpara></listitem>
              <listitem><simpara>INGRES_DATE_ISO4</simpara></listitem>
              <listitem><simpara>INGRES_DATE_MDY</simpara></listitem>
              <listitem><simpara>INGRES_DATE_MULTINATIONAL</simpara></listitem>
              <listitem><simpara>INGRES_DATE_MULTINATIONAL4</simpara></listitem>
              <listitem><simpara>INGRES_DATE_YMD</simpara></listitem>
              <listitem><simpara>INGRES_DATE_US</simpara></listitem>
             </itemizedlist>
            </para>
           </entry>
          </row>
          <row>
           <entry>decimal_separator</entry>
           <entry>Le caractère utilisé comme séparateur des décimales</entry>
          </row>
          <row>
           <entry>money_lort</entry>
           <entry>
            <para>
             Si le signe pour la monnaie doit se trouver avant ou après
             la valeur. Les valeurs valides pour money_lort sont :
             <itemizedlist>
              <listitem><simpara>INGRES_MONEY_LEADING</simpara></listitem>
              <listitem><simpara>INGRES_MONEY_TRAILING</simpara></listitem>
             </itemizedlist>
            </para>
           </entry>
          </row>
          <row>
           <entry>money_sign</entry>
           <entry>Le symbole à utiliser avec le type de données MONEY</entry>
          </row>
          <row>
           <entry>money_precision</entry>
           <entry>La précision pour le type de données MONEY</entry>
          </row>
          <row>
           <entry>float4_precision</entry>
           <entry>La précision pour le type de données FLOAT4</entry>
          </row>
          <row>
           <entry>float8_precision</entry>
           <entry>La précision pour le type de données FLOAT8</entry>
          </row>
          <row>
           <entry>blob_segment_length</entry>
           <entry>
            La quantité de données à récupérer en une fois lorsque l'on
            récupère des données de type BLOB/CLOB. Par défaut, ce paramètre
            vaut 4096 octets.
           </entry>
          </row>
         </tbody>
        </tgroup>
       </informaltable>
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </para>
 </refsect1>

 <refsect1 role="returnvalues">
  &reftitle.returnvalues;
  <para>
   Retourne une ressource Ingres en cas de succès, ou
   &false; si une erreur survient.
  </para>
 </refsect1>

 <refsect1 role="examples">
  &reftitle.examples;
  <para>
   <example>
    <title>Exemple avec <function>ingres_connect</function></title>
    <programlisting role="php">
<![CDATA[
<?php
$link = ingres_connect("mydb", "user", "pass")
    or die("Connexion impossible");
echo "Connexion réussie";
ingres_close($link);
?>
]]>
    </programlisting>
   </example>
   <example>
    <title>
     Exemple avec <function>ingres_connect</function> en utilisant le lien par défaut
    </title>
    <programlisting role="php">
<![CDATA[
<?php
ingres_connect("mydb", "user", "pass")
    or die("Connexion impossible");
echo "Connexion réussie";
ingres_close();
?>
]]>
    </programlisting>
   </example>
  </para>
 </refsect1>

 <refsect1 role="seealso">
  &reftitle.seealso;
  <para>
   <simplelist>
    <member><function>ingres_pconnect</function></member>
    <member><function>ingres_close</function></member>
   </simplelist>
  </para>
 </refsect1>

</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->