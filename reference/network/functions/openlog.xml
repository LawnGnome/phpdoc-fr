<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.7 $ -->
<!-- EN-Revision: 1.6 Maintainer: yannick Status: ready -->
  <refentry id="function.openlog">
   <refnamediv>
    <refname>openlog</refname>
    <refpurpose>Ouvre la connexion à l'historique système</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Description</title>
     <methodsynopsis>
      <type>int</type><methodname>openlog</methodname>
      <methodparam><type>string</type><parameter>ident</parameter></methodparam>
      <methodparam><type>int</type><parameter>option</parameter></methodparam>
      <methodparam><type>int</type><parameter>facility</parameter></methodparam>
     </methodsynopsis>
    <para>
     <function>openlog</function> ouvre la connexion à l'historique
     système. La chaîne <parameter>ident</parameter> sera
     ajoutée à chaque message. Les valeurs de
     <parameter>option</parameter> et <parameter>facility</parameter> sont
     données ci-dessous. 
     <parameter>facility</parameter> sert à indiquer quel programme
     enregistre ce message. Cela vous permet de spécifier
     (sur la machine d'historique) comment traiter les messages venant
     de plusieurs serveurs.
     L'utilisation de <function>openlog</function> est optionnel. Cette
     fonction sera automatiquement appelée par la fonction <function>syslog</function>
     si nécessaire, auquel cas, <parameter>ident</parameter> vaudra par défaut
     &false;.
     </para>
    <para>
     <table>
      <title>Options <function>openlog</function></title>
      <tgroup cols="2">
       <thead>
        <row>
         <entry>Constante</entry>
         <entry>Description</entry>
        </row>
       </thead>
       <tbody>
        <row>
         <entry>LOG_CONS</entry>
         <entry>
          Si une erreur survient lors de l'envoi des données au gestionnaire
          d'historique, écrire directement l'erreur sur la console.
         </entry>
        </row>
        <row>
         <entry>LOG_NDELAY</entry>
         <entry>
          Ouvre immédiatement une connexion au gestionnaire d'historique
         </entry>
        </row>
        <row>
         <entry>LOG_ODELAY</entry>
         <entry>
          Retarde l'ouverture de la connexion jusqu'à ce que le
          premier message soit enregistré (par défaut)
         </entry>
        </row>
        <row>
         <entry>LOG_PERROR</entry>
         <entry>Envoie le message au gestionnaire standard</entry>
        </row>
        <row>
         <entry>LOG_PID</entry>
         <entry>Inclut le PID à chaque message</entry>
        </row>
       </tbody>
      </tgroup>
     </table>
     Vous pouvez utiliser une ou plusieurs de ces options. Pour les
     combiner, utiliser l'opérateur <literal>OR</literal>. Par exemple,
     pour ouvrir immédiatement la connexion, écrire sur la console et
     inclure le PID de chaque message, utilisez :
     <literal>LOG_CONS | LOG_NDELAY | LOG_PID</literal>.
    </para>
    <para>
     <table>
      <title>
        Paramètre <parameter>facility</parameter> de <function>openlog</function>
      </title>
      <tgroup cols="2">
       <thead>
        <row>
         <entry>Constante</entry>
         <entry>Description</entry>
        </row>
       </thead>
       <tbody>
        <row>
         <entry>LOG_AUTH</entry>
         <entry>
          sécurité/messages d'autorisation (utilisez LOG_AUTHPRIV, pour
          remplacer cette constante sur les systèmes où elle est définie).
         </entry>
        </row>
        <row>
         <entry>LOG_AUTHPRIV</entry>
         <entry>sécurité/messages d'autorisation (privé)</entry>
        </row>
        <row>
         <entry>LOG_CRON</entry>
         <entry>démon horloge (cron et at)</entry>
        </row>
        <row>
         <entry>LOG_DAEMON</entry>
         <entry>autres démons système</entry>
        </row>
        <row>
         <entry>LOG_KERN</entry>
         <entry>noyau (kernel)</entry>
        </row>
        <row>
         <entry>LOG_LOCAL0 ... LOG_LOCAL7</entry>
         <entry>réservé pour utilisation local. Inutilisable sous Windows</entry>
        </row>
        <row>
         <entry>LOG_LPR</entry>
         <entry>imprimante (line printer subsystem)</entry>
        </row>
        <row>
         <entry>LOG_MAIL</entry>
         <entry>messagerie mail</entry>
        </row>
        <row>
         <entry>LOG_NEWS</entry>
         <entry>USENET : groupes de news (newsgroup)</entry>
        </row>
        <row>
         <entry>LOG_SYSLOG</entry>
         <entry>messages générés en interne par syslogd</entry>
        </row>
        <row>
         <entry>LOG_USER</entry>
         <entry>messages utilisateurs générique</entry>
        </row>
        <row>
         <entry>LOG_UUCP</entry>
         <entry>UUCP subsystem</entry>
        </row>
       </tbody>
      </tgroup>
     </table>
    </para>
    <note>
     <para>
      <literal>LOG_USER</literal> est le seul type valide sous les environnements
      Windows.
     </para>
    </note>
    <para>
     Voir aussi
     <function>define_syslog_variables</function>,
     <function>syslog</function> et
     <function>closelog</function>.
    </para>
   </refsect1>
  </refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
