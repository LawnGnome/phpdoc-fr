<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.8 $ -->
<!-- EN-Revision: 1.1 Maintainer: nobody Status: partial -->
 <refentry id="function.curl-setopt">
  <refnamediv>
   <refname>curl_setopt</refname>
   <refpurpose>Modifie une option de transfert CURL</refpurpose>
  </refnamediv>
  <refsect1>
   <title>Description</title>
    <methodsynopsis>
     <type>bool</type><methodname>curl_setopt</methodname>
     <methodparam><type>resource</type><parameter>ch</parameter></methodparam>
     <methodparam><type>string</type><parameter>option</parameter></methodparam>
     <methodparam><type>mixed</type><parameter>value</parameter></methodparam>
    </methodsynopsis>
   <para>
    <function>curl_setopt</function> fixe les options de transfert de la
    session CURL identifiée par <parameter>ch</parameter>.
    <parameter>option</parameter> est le nom de l'option à fixer,
    et <parameter>value</parameter> est sa valeur.
   </para>
   <para>
    <parameter>value</parameter> doit être de type "long" pour
    les options suivantes (spécifiée par <parameter>option</parameter>) :
    <itemizedlist>
     <listitem>
      <simpara>
       <parameter>curlopt_infilesize</parameter> : Lorsque vous
       téléchargez un fichier sur un site distant, cette
       option sert à indiquer à &php; la taille maximale du
       fichier attendu.
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       <parameter>curlopt_verbose</parameter> : Choisissez une valeur non nulle
       pour que CURL vous affiche tous les événements.
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       <parameter>curlopt_header</parameter> : Choisissez une valeur non nulle
       pour que CURL inclut l'en-tête dans la valeur de retour.
      </simpara>
     </listitem>
     <listitem>
      <para>
       <parameter>curlopt_noprogress</parameter> : Choisissez une valeur non nulle
       pour que &php; n'affiche pas l'état des transferts CURL.
       <note>
        <simpara>
         &php; choisit automatiquement une valeur non nulle. Ne changez cette valeur
         que le temps du débogage.
        </simpara>
       </note>
      </para>
     </listitem>
     <listitem>
      <simpara>
       <parameter>curlopt_nobody</parameter> : Choisissez une valeur non nulle
       pour que le corps du transfert ne soit pas inclus dans la valeur de retour.
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       <parameter>curlopt_failonerror</parameter> : Choisissez une valeur non nulle
       pour que &php; traite silencieusement les codes HTTP supérieurs
       à 300. Le comportement par défaut est de retourner la
       page normalement, en ignorant ce code.
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       <parameter>curlopt_upload</parameter> : Choisissez une valeur non nulle
       pour que &php; prépare un chargement.
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       <parameter>curlopt_post</parameter> : Choisissez une valeur non nulle
       pour que &php; fasse un HTTP POST. Un POST est un encodage normal
       "application/x-www-from-url", utilisé couramment par les formulaires
       HTML.
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       <parameter>curlopt_ftplistonly</parameter> : Choisissez une valeur non nulle
       pour que &php; ne fasse que lister les noms d'un dossier FTP.
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       <parameter>curlopt_ftpappend</parameter> : Choisissez une valeur non nulle
       pour que &php; concatène le fichier distant, plutôt que de
       l'écraser.
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       <parameter>curlopt_netrc</parameter> : Choisissez une valeur non nulle
       pour que &php; analyse votre fichier <filename>~./netrc</filename> 
       et utilise votre nom de compte et mot de passe sur le site distant 
       que vous souhaitez contacter.
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       <parameter>curlopt_followlocation</parameter> : Choisissez une valeur
       non nulle pour suivre toutes les en-têtes "Location: " que le
       serveur envoie dans les en-têtes HTTP (notez que cette fonction
       est récursive et que &php; suivra toutes les en-têtes
       "Location: " qu'il trouvera).
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       <parameter>curlopt_put</parameter> : Choisissez une valeur non nulle
       pour que pour chargement se fasse par HTTP PUT. Le fichier à
       charger doit être fixé avec les options 
       <constant>CURLOPT_INFILE</constant> et <constant>CURLOPT_INFILESIZE</constant>.
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       <parameter>curlopt_mute</parameter> : Choisissez une valeur non nulle
       pour que &php; soit totalement silencieux concernant toutes les fonctions
       CURL.
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       <parameter>curlopt_timeout</parameter> : Passez un entier "long" comme
       paramètre qui représente le temps maximum d'exécution
       de la fonction CURL.
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       <parameter>curlopt_low_speed_limit</parameter> : Passez un entier long
       qui représente la vitesse minimale en octets par secondes en
       dessous de laquelle, et pendant <constant>CURLOPT_LOW_SPEED</constant> 
       secondes, &php; considérera qu'elle est trop lente, et 
       annulera le transfert.
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       <parameter>curlopt_low_speed_time</parameter> : Passez un entier "long"
       qui représente le temps en secondes, qui, si la vitesse de
       transfert reste en dessous de <constant>CURLOPT_LOW_SPEED_LIMIT</constant>,
       &php; considèrera que la connexion est trop lente, et l'annulera.
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       <parameter>curlopt_resume_from</parameter> : Passez un entier "long",
       qui représente l'offset, en octets, à partir duquel vous voulez
       commencer le transfert.
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       <parameter>curlopt_sslversion</parameter> : Passez un entier "long"
       qui contient la version de SSL (2 ou 3) à utiliser. Par
       défaut, &php; essaiera de le déterminer
       lui-même, bien que dans certains cas, il vous faudra
       le faire manuellement.
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       <parameter>curlopt_timecondition</parameter> : Passez un entier "long"
       qui définit comment <constant>CURLOPT_TIMEVALUE</constant> 
       est utilisé. Vous pouvez choisir entre les valeurs 
       <constant>TIMECOND_IFMODSINCE</constant> ou <constant>TIMECOND_ISUNMODSINCE</constant>.
       C'est une fonctionnalité HTTP.
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       <parameter>curlopt_timevalue</parameter> : Passez un entier "long"
       qui représente le temps en secondes depuis le 1er janvier 1970.
       Cette valeur sera utilisée comme spécifié dans
       l'option <constant>CURLOPT_TIMEVALUE</constant>. Par défaut, 
       <constant>TIMECOND_IFMODSINCE</constant>
       sera utilisée.
      </simpara>
     </listitem>
    </itemizedlist>
   </para>
   <para>
    <parameter>value</parameter> doit être une chaîne de
    caractères pour les valeurs suivantes de <parameter>option</parameter>
    <itemizedlist>
     <listitem>
      <simpara>
       <parameter>curlopt_url</parameter> : L'URL que &php; va récupérer.
       Vous pouvez aussi choisir cette valeur lors de l'appel à
       <function>curl_init</function>.
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       <parameter>curlopt_userpwd</parameter> : Passez une chaîne de
       caractères au format [nom]:[mot de passe], pour que &php;
       l'utilise lors de la connexion.
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       <parameter>curlopt_proxyuserpwd</parameter> : Passez une chaîne
       de caractères au format [nom]:[mot de passe ], pour que &php;
       l'utilise lors de la connexion à un proxy HTTP.
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       <parameter>curlopt_range</parameter> : Passez une chaîne de
       caractères qui représente la plage de valeurs que
       vous désirez. Elle est au format "X-Y", où les
       valeurs de X ou Y peuvent être omises. Le transfert HTTP
       supporte aussi plusieurs intervalles, séparés par
       des virgules : X-Y,N-M.
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       <parameter>curlopt_postfields</parameter> : Passez une chaîne
       de caractères qui contient toutes les données à
       passer lors d'une opération de HTTP POST.
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       <parameter>curlopt_referer</parameter> : Passez une chaîne de
       caractères qui contient l'en-tête de "REFERER",
       utilisé lors d'une requête HTTP.
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       <parameter>curlopt_useragent</parameter> : Passez une chaîne
       de caractères qui contient l'en-tête "user-agent"
       utilisé dans une requête HTTP.
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       <parameter>curlopt_ftpport</parameter> : Passez une chaîne de
       caractères qui désignera l'adresse IP utilisée
       pour l'instruction FTP "PORT". L'instruction POST indique au serveur
       distant de se connecter à cette adresse IP. La chaîne peut
       être une adresse IP, un nom d'hôte, un nom d'interface
       réseau (sous UNIX), ou juste '-', pour utiliser les IP par
       défaut du système.
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       <parameter>curlopt_cookie</parameter> : Passez une chaîne de
       caractères qui contiendra le contenu du cookie, à
       transmettre dans l'en-tête HTTP.
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       <parameter>curlopt_sslcert</parameter> : Passez une chaîne de
       caractères qui contiendra le nom de fichier du certificat,
       au format PEM.
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       <parameter>curlopt_sslcertpasswd</parameter> : Passez une chaîne
       de caractères qui contient le mot de passe nécessaire
       pour utiliser le certificat <constant>CURLOPT_SSLCERT</constant>.
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       <parameter>curlopt_cookiefile</parameter> : Passez une chaîne de
       caractères qui contiendra le nom du fichier contenant les
       données de cookie. Le fichier de cookie peut être au
       format Netscape, ou simplement des en-têtes HTTP écrits
       dans un fichier.
      </simpara>
     </listitem>
     <listitem>
      <para>
       <parameter>curlopt_customrequest</parameter> : Passez une chaîne
       de caractères qui sera utilisée à la place de GET
       ou HEAD lors des requêtes HTTP. Cette commande est pratique pour
       effectuer un DELETE ou une autre commande HTTP exotique.
       <note>
        <simpara>
         N'utilisez pas cette commande sans vous assurer que le serveur l'accepte.
        </simpara>
       </note>
      </para>
     </listitem>
    </itemizedlist>
   </para>
   <para>
    Les options suivantes requièrent un pointeur de fichier, qui est
    obtenu avec la fonction <function>fopen</function> :
    <itemizedlist>
     <listitem>
      <simpara>
       <parameter>curlopt_file</parameter> : Le fichier de sortie de votre transfert.
       Par défaut, STDOUT.
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       <parameter>curlopt_infile</parameter> : Le fichier d'entrée de
       votre transfert.
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       <parameter>curlopt_writeheader</parameter> : Le fichier de destination
       de l'en-tête de la sortie du transfert.
      </simpara>
     </listitem>
     <listitem>
      <simpara>
       <parameter>curlopt_stderr</parameter> : Le fichier d'erreurs.
      </simpara>
     </listitem>
    </itemizedlist>
   </para>
  </refsect1>
 </refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
