<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.2 $ -->
<!-- EN-Revision: 1.1 Maintainer: yannick Status: ready -->
<!-- Reviewed: no -->

<refentry xml:id="function.geoip-record-by-name" xmlns="http://docbook.org/ns/docbook">
 <refnamediv>
  <refname>geoip_record_by_name</refname>
  <refpurpose>Récupère les informations détaillées sur un pays, trouvées dans la base de données GeoIP</refpurpose>
 </refnamediv>
 <refsect1 role="description">
  &reftitle.description;
  <methodsynopsis>
   <type>array</type><methodname>geoip_record_by_name</methodname>
   <methodparam><type>string</type><parameter>hostname</parameter></methodparam>
  </methodsynopsis>

  <para>
   La fonction <function>geoip_record_by_name</function> retourne
   les informations enregistrées correspondant au nom de l'hôte ou
   à l'adresse IP.
  </para>
  <para>
   Cette fonction est disponible pour les bases de données GeoLite City Edition et
   la version commerciale GeoIP City Edition.
   Une alerte sera émise si la base de données n'a pu être trouvée.
  </para>
  <para>
   Les noms des différentes clés du tableau associatif retourné sont les suivantes :
  </para>
  <para>
   <itemizedlist>
    <listitem>
     <simpara>
      "country_code" -- Les deux lettres du code pays (Voir
      <function>geoip_country_code_by_name</function>)
     </simpara>
    </listitem>
    <listitem>
     <simpara>
      "region" -- Le code région (ex: CA pour California)
     </simpara>
    </listitem>
    <listitem>
     <simpara>
      "city" -- La ville.
     </simpara>
    </listitem>
    <listitem>
     <simpara>
      "postal_code" -- Le code postal, FSA ou Zip.
     </simpara>
    </listitem>
    <listitem>
     <simpara>
      "latitude" -- La latitude.
     </simpara>
    </listitem>
    <listitem>
     <simpara>
      "longitude" -- La longitude.
     </simpara>
    </listitem>
    <listitem>
     <simpara>
      "dma_code"
     </simpara>
    </listitem>
    <listitem>
     <simpara>
      "area_code" -- Le code PSTN (ex : 212)
     </simpara>
    </listitem>
   </itemizedlist>
  </para>

 </refsect1>
 <refsect1 role="parameters">
  &reftitle.parameters;
  <para>
   <variablelist>
    <varlistentry>
     <term><parameter>hostname</parameter></term>
     <listitem>
      <para>
       Le nom de l'hôte ou l'adresse IP
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </para>
 </refsect1>
 <refsect1 role="returnvalues">
  &reftitle.returnvalues;
  <para>
   Retourne un tableau associatif en cas de succès, ou &false; si l'adresse
   n'a pu être trouvée dans la base de données.
  </para>
 </refsect1>

 <refsect1 role="examples">
  &reftitle.examples;
  <para>
   <example>
    <title>Exemple avec <function>geoip_record_by_name</function></title>
    <para>
     Cet exemple affiche le tableau contenant l'enregistrement de l'hôte
     example.com.
    </para>
    <programlisting role="php">
<![CDATA[
<?php
$record = geoip_record_by_name('www.example.com');
if ($record) {
    print_r($record);
}
?>
]]>
    </programlisting>
    &example.outputs;
    <screen>
<![CDATA[
Array
(
    [country_code] => US
    [region] => CA
    [city] => Marina Del Rey
    [postal_code] => 
    [latitude] => 33.9776992798
    [longitude] => -118.435096741
    [dma_code] => 803
    [area_code] => 310
)
]]>
    </screen>
   </example>
  </para>
 </refsect1>
</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->