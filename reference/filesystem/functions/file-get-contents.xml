<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.33 $ -->
<!-- EN-Revision: 1.37 Maintainer: yannick Status: ready -->
<!-- Reviewed: yes -->

<refentry xmlns="http://docbook.org/ns/docbook" xml:id="function.file-get-contents">
 <refnamediv>
  <refname>file_get_contents</refname> 
  <refpurpose>Lit tout un fichier dans une chaîne</refpurpose>
 </refnamediv>

 <refsect1 role="description">
  &reftitle.description;
  <methodsynopsis>
   <type>string</type><methodname>file_get_contents</methodname>
   <methodparam><type>string</type><parameter>filename</parameter></methodparam>
   <methodparam choice="opt"><type>int</type><parameter>flags</parameter><initializer>0</initializer></methodparam>
   <methodparam choice="opt"><type>resource</type><parameter>context</parameter></methodparam>
   <methodparam choice="opt"><type>int</type><parameter>offset</parameter><initializer>-1</initializer></methodparam>
   <methodparam choice="opt"><type>int</type><parameter>maxlen</parameter><initializer>-1</initializer></methodparam>
  </methodsynopsis>
  <para>
   Identique à la fonction <function>file</function>, hormis le fait que
   <function>file_get_contents</function> retourne le fichier
   <parameter>filename</parameter> dans une chaîne, à partir
   de la position <parameter>offset</parameter>, et jusqu'à
   <parameter>maxlen</parameter> octets.
   En cas d'erreur, <function>file_get_contents</function> retourne
   &false;.
  </para>
  <para>
   <function>file_get_contents</function> est la façon préférée pour lire
   le contenu d'un fichier dans un fichier. Elle utilisera un mappage de
   mémoire si ce mécanisme est supporté par votre système, afin d'améliorer
   les performances.
  </para>
  <note>
   <para>
    Si vous ouvrez une URI avec des caractères spéciaux, comme des espaces, vous
    devez encoder cette URI avec la fonction <function>urlencode</function>.
   </para>
  </note>
 </refsect1>

 <refsect1 role="parameters">
  &reftitle.parameters;
  <para>
   <variablelist>
    <varlistentry>
     <term><parameter>filename</parameter></term>
     <listitem>
      <para>
       Nom du fichier à lire.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><parameter>flags</parameter></term>
     <listitem>
      <warning>
       <para>
        Pour toutes les versions antérieures à PHP 6, ce paramètre
        est appelé <parameter>use_include_path</parameter> et est du type <type>bool</type>.
        Le paramètre <parameter>flags</parameter> n'est disponible que depuis
        PHP 6. Si vous utilisez une ancienne version et que vous voulez
        rechercher le fichier <parameter>filename</parameter> dans le
        <link linkend="ini.include-path">chemin d'inclusion</link>, ce paramètre
        doit être défini à &true;. Depuis PHP 6, vous devez utiliser
        le drapeau <constant>FILE_USE_INCLUDE_PATH</constant> à la place.
       </para>
      </warning>
      <para>
       La valeur de <parameter>flags</parameter> peut être n'importe quelle combinaison
       des drapeaux suivants (avec quelques restrictions), joints avec l'opérateur
       <link linkend="language.operators.bitwise">OR binaire (|)</link>.
      </para>
      <para>
       <table>
        <title>Drapeaux disponibles</title>
        <tgroup cols="2">
         <thead>
          <row>
           <entry>Drapeau</entry>
           <entry>Description</entry>
          </row>
         </thead>
         <tbody>
          <row>
           <entry>
            <constant>FILE_USE_INCLUDE_PATH</constant>
           </entry>
           <entry>
            Recherche le fichier <parameter>filename</parameter> dans le dossier
            d'inclusion. Voir <link linkend="ini.include-path">include_path</link>
            pour plus d'informations.
           </entry>
          </row>
          <row>
           <entry>
            <constant>FILE_TEXT</constant>
           </entry>
           <entry>
            Depuis PHP 6, l'encodage par défaut pour la
            lecture des données est UTF-8. Vous pouvez spécifier un encodage
            différent en créant un contexte personnalisé ou en modifiant celui
            par défaut en utilisant la fonction <function>stream_default_encoding</function>.
            Ce drapeau ne peut être utilisé avec <constant>FILE_BINARY</constant>.
           </entry>
          </row>
          <row>
           <entry>
            <constant>FILE_BINARY</constant>
           </entry>
           <entry>
            Avec ce drapeau, le fichier est lu en mode binaire. C'est la
            configuration par défaut et ne peut être utilisé avec
            <constant>FILE_TEXT</constant>.
           </entry>
          </row>
         </tbody>
        </tgroup>
       </table>
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><parameter>context</parameter></term>
     <listitem>
      <para>
       Une ressource de contexte valide, créée avec la fonction
       <function>stream_context_create</function>. Si vous n'avez
       pas besoin d'utiliser un contexte particulier, vous pouvez
       ignorer ce paramètre en affectant la valeur &null;.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><parameter>offset</parameter></term>
     <listitem>
      <para>
       La position à partir de laquelle on commence à lire.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><parameter>maxlen</parameter></term>
     <listitem>
      <para>
       La taille maximal de données à lire.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </para>
 </refsect1>

 <refsect1 role="returnvalues">
  &reftitle.returnvalues;
  <para>
   Retourne les données lues, ou &false; si une erreur survient.
  </para>
 </refsect1>

 <refsect1 role="examples">
  &reftitle.examples;
  <para>
   <example>
    <title>Lit et affiche le code HTML d'un site Web</title>
    <programlisting role="php">
<![CDATA[
<?php
$homepage = file_get_contents('http://www.example.com/');
echo $homepage;
?>
]]>
    </programlisting>
   </example>
   <example>
    <title>Recherche un fichier dans le include_path</title>
    <programlisting role="php">
<![CDATA[
<?php
// avant PHP 5
$file = file_get_contents('./people.txt', true);
// depuis PHP 5
$file = file_get_contents('./people.txt', FILE_USE_INCLUDE_PATH);
?>
]]>
    </programlisting>
   </example>
   <example>
    <title>Lit une section d'un fichier</title>
    <programlisting role="php">
<![CDATA[
<?php
// Lit 14 caractères à partir du 20ème
$section = file_get_contents('./people.txt', NULL, NULL, 20, 14);
var_dump($section);
?>
]]>
    </programlisting>
    &example.outputs.similar;
    <screen>
<![CDATA[
string(14) "lle Bjori Ro" 
]]>
    </screen>
   </example>
   <example>
    <title>Utilisation des contextes de flux</title>
    <programlisting role="php">
<![CDATA[
<?php
// Création d'un flux
$opts = array(
  'http'=>array(
    'method'=>"GET",
    'header'=>"Accept-language: en\r\n" .
              "Cookie: foo=bar\r\n"
  )
);

$context = stream_context_create($opts);

// Accès à un fichier HTTP avec les entêtes HTTP indiqués ci-dessus
$file = file_get_contents('http://www.example.com/', false, $context);
?>
]]>
    </programlisting>
   </example>
  </para>
 </refsect1>
 

 <refsect1 role="changelog">
  &reftitle.changelog;
  <para>
   <informaltable>
    <tgroup cols="2">
     <thead>
      <row>
       <entry>&Version;</entry>
       <entry>&Description;</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>5.0.0</entry>
       <entry>
        Ajout du support du contexte.
       </entry>
      </row>
      <row>
       <entry>5.1.0</entry>
       <entry>
        Ajout des paramètres <parameter>offset</parameter> et
        <parameter>maxlen</parameter>.
       </entry>
      </row>
      <row>
       <entry>6.0.0</entry>
       <entry>
        Le paramètre <parameter>use_include_path</parameter> a été remplacé par
        le paramètre <parameter>flags</parameter>.
       </entry>
      </row>
     </tbody>
    </tgroup>
   </informaltable>
  </para>
 </refsect1>

 <refsect1 role="notes">
  &reftitle.notes;
  &note.bin-safe;
  &tip.fopen-wrapper;
  &warn.ssl-non-standard;
 </refsect1>

 <refsect1 role="seealso">
  &reftitle.seealso;
  <para>
   <simplelist>
    <member><function>file</function></member>
    <member><function>fgets</function></member>
    <member><function>fread</function></member>
    <member><function>readfile</function></member>
    <member><function>file_put_contents</function></member>
    <member><function>stream_get_contents</function></member>
    <member><function>stream_context_create</function></member>
   </simplelist>
  </para>
 </refsect1>

</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->