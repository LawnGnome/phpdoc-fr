<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.19 $ -->
<!-- EN-Revision: 1.16 Maintainer: dams Status: ready -->
<!-- Reviewed: no -->

  <refentry id="function.fgets">
   <refnamediv>
    <refname>fgets</refname>
    <refpurpose>
     Renvoie la ligne courante sur laquelle se trouve le pointeur du fichier
    </refpurpose>
   </refnamediv>
   <refsect1>
    &reftitle.description;
     <methodsynopsis>
      <type>string</type><methodname>fgets</methodname>
      <methodparam><type>resource</type><parameter>handle</parameter></methodparam>
      <methodparam choice="opt"><type>int</type><parameter>length</parameter></methodparam>
     </methodsynopsis>
    <para>
     <function>fgets</function> retourne la chaîne lue jusqu'à
     la longueur <parameter>length</parameter> - 1 octet depuis le pointeur de fichier
     <parameter>handle</parameter>, ou bien la fin du
     fichier, ou une nouvelle ligne (qui inclut la valeur retournée), ou encore un EOF (celui
     qui arrive en premier). Si aucune longueur n'est fournie, la fonction lira le flux jusqu'à la fin
     de la ligne.
    </para>
    <para>
     Si une erreur survient, <function>fgets</function> retourne &false;.
    </para>
    <para>
     Erreur courante :
    </para>
    <simpara>
     Les programmeurs habitués à la programmation 'C' noteront que
     <function>fgets</function> ne se comporte pas comme son équivalent C
     lors de la rencontre de la fin du fichier.
    </simpara>

    &fs.validfp.all;

    <para>
     Un exemple simple :
     <example>
      <title>Lecture d'un fichier ligne par ligne</title>
      <programlisting role="php">
<![CDATA[
<?php
$handle = @fopen("/tmp/inputfile.txt", "r");
if ($handle) {
   while (!feof($handle)) {
      $buffer = fgets($handle, 4096);
      echo $buffer;
   }
   fclose($handle);
}
?>
]]>
      </programlisting>
     </example>
    </para>
    <note>
     <simpara>
      Le paramètre <parameter>length</parameter> est devenu optionnel depuis
      &php; 4.2.0. Depuis &php; 4.3.0, le fait d'ommettre ce paramètre fait que
      la fonction lira 1024 octets de la ligne.
      Si la majorité des lignes du fichier dépassent les 8 ko,
      il est plus efficace pour votre script de spécifier ce paramètre.
     </simpara>
    </note>
    <note>
     <simpara>
      <function>fgets</function> est compatible avec les données binaires depuis
      &php; 4.3. Les versions plus anciennes ne le sont pas.
     </simpara>
    </note>
    &note.line-endings;
    <para>
     Voir aussi
     <function>fgetss</function>
     <function>fread</function>,
     <function>fgetc</function>,
     <function>stream_get_line</function>,
     <function>fopen</function>,
     <function>popen</function>,
     <function>fsockopen</function> et
     <function>stream_set_timeout</function>.
    </para>
   </refsect1>
  </refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
