<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.23 $ -->
<!-- EN-Revision: 1.15 Maintainer: yannick Status: ready -->
<!-- Reviewed: no -->

<refentry xmlns="http://docbook.org/ns/docbook" xml:id="function.tempnam">
 <refnamediv>
  <refname>tempnam</refname>
  <refpurpose>Crée un fichier avec un nom unique</refpurpose>
 </refnamediv>

 <refsect1 role="description">
  &reftitle.description;
  <methodsynopsis>
   <type>string</type><methodname>tempnam</methodname>
   <methodparam><type>string</type><parameter>dir</parameter></methodparam>
   <methodparam><type>string</type><parameter>prefix</parameter></methodparam>
  </methodsynopsis>
  <para>
   Crée un fichier dont le nom est unique, ayant comme permissions d'accès 0600,
   dans le dossier spécifié. Si le dossier n'existe pas,
   <function>tempnam</function> tentera de créer un fichier dans le dossier
   temporaire système, et retournera son nom.
  </para>
 </refsect1>

 <refsect1 role="parameters">
  &reftitle.parameters;
  <para>
   <variablelist>
    <varlistentry>
     <term><parameter>dir</parameter></term>
     <listitem>
      <para>
       Le dossier dans lequel le fichier temporaire sera créé.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><parameter>prefix</parameter></term>
     <listitem>
      <para>
       Le préfixe du fichier temporaire généré.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </para>
 </refsect1>

 <refsect1 role="returnvalues">
  &reftitle.returnvalues;
  <para>
   Retourne un nouveau fichier temporaire, ou &false;
   si une erreur survient.
  </para>
 </refsect1>

 <refsect1 role="changelog">
  &reftitle.changelog;
  <para>
   <informaltable>
    <tgroup cols="2">
     <thead>
      <row>
       <entry>&Version;</entry>
       <entry>&Description;</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>4.0.6</entry>
       <entry>
        Avant PHP 4.0.6, le comportement de <function>tempnam</function> dépendait
        du système sous-jacent. Sous Windows, la variable d'environnement
        <varname>TMP</varname> remplace le paramètre <parameter>dir</parameter> ;
        sous Linux, la variable d'environnement <varname>TMPDIR</varname> a la priorité,
        tandis que pour les OS en système SVR4, le paramètre <parameter>dir</parameter>
        sera toujours utilisé, si le dossier qu'il représente existe. Consultez votre
        documentation sur tempnam(3) pour plus de détails.
       </entry>
      </row>
      <row>
       <entry>4.0.3</entry>
       <entry>
        Le comportement de cette fonction a été modifié en PHP 4.0.3.
        Le fichier temporaire est aussi créé pour éviter des conflits
        si le fichier apparaît dans le système de fichiers entre le moment
        où la chaîne est générée et avant que le script n'ait terminé la
        création du fichier. Notez que vous devez effacer le fichier si
        vous n'en avez plus besoin, car cela n'est pas fait automatiquement.
       </entry>
      </row>
     </tbody>
    </tgroup>
   </informaltable>
  </para>
 </refsect1>

 <refsect1 role="examples">
  &reftitle.examples;
  <para>
   <example>
    <title>Exemple avec <function>tempnam</function></title>
    <programlisting role="php">
<![CDATA[
<?php
$tmpfname = tempnam("/tmp", "FOO");

$handle = fopen($tmpfname, "w");
fwrite($handle, "Écriture dans le fichier temporaire");
fclose($handle);

// traitement

unlink($tmpfname);
?>
]]>
    </programlisting>
   </example>
  </para>
 </refsect1>

 <refsect1 role="notes">
  &reftitle.notes;
  <note>
   <simpara>
    Si PHP ne peut pas créer un fichier dans le dossier spécifié par le paramètre
    <parameter>dir</parameter>, il tentera dans le dossier par défaut du système.
   </simpara>
  </note>
 </refsect1>

 <refsect1 role="seealso">
  &reftitle.seealso;
  <para>
   <simplelist>
    <member><function>tmpfile</function></member>
    <member><function>sys_get_temp_dir</function></member>
    <member><function>unlink</function></member>
   </simplelist>
  </para>
 </refsect1>

</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->