<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.15 $ -->
<!-- EN-Revision: 1.15 Maintainer: yannick Status: ready -->
<!-- Reviewed: no -->

<refentry id="function.fwrite">
 <refnamediv>
  <refname>fwrite</refname>
  <refpurpose>Ecrit un fichier en mode binaire</refpurpose>
 </refnamediv>
 <refsect1>
  &reftitle.description;
  <methodsynopsis>
   <type>int</type><methodname>fwrite</methodname>
   <methodparam><type>resource</type><parameter>handle</parameter></methodparam>
   <methodparam><type>string</type><parameter>string</parameter></methodparam>
   <methodparam choice="opt"><type>int</type><parameter>length</parameter></methodparam>
  </methodsynopsis>
  <simpara>
   <function>fwrite</function> écrit le contenu de la chaîne
   <parameter>string</parameter> dans le fichier pointé par
   <parameter>handle</parameter>. Si la longueur <parameter>length</parameter>
   est fournie, l'écriture s'arrêtera après
   <parameter>length</parameter> octets, ou à la fin de la
   chaîne (le premier des deux).
  </simpara>
  <simpara>
   <function>fwrite</function> retourne le nombre d'octets écrits ou 
   &false; en cas d'erreur.
  </simpara>
  <simpara>
   Notez que si <parameter>length</parameter> est fourni, alors l'option de
   configuration 
   <link linkend="ini.magic-quotes-runtime"><option>magic_quotes_runtime</option></link>
   sera ignorée, et les slash seront conservés.
  </simpara>
  <note>
   <para>
    Sur les systèmes qui font la différence entre les fichiers binaires
    et les fichiers textes (par exemple, Windows), le fichier doit être ouvert
    avec l'option 'b' inclus dans le paramètre de mode de 
    <function>fopen</function>.
   </para>
  </note>
  <note>
   <para>
    Si <parameter>handle</parameter> est ouvert en mode append,
    <function>fwrite</function> sera atomique (sauf si la taille de
    <parameter>string</parameter> excède la taille du bloc du système de fichiers,
    sur quelques plateformes, et tant que le fichier se trouve sur le système de fichiers
    local). Ainsi, il n'est pas nécessaire d'utiliser la fonction <function>flock</function>
    sur une ressource avant d'appeler la fonction <function>fwrite</function> ;
    toutes les données seront écrites sans interruption.
   </para>
  </note>
  <para>
   <example>
    <title>Exemple simple avec <function>fwrite</function></title>
    <programlisting role="php">
<![CDATA[
<?php
$filename = 'test.txt';
$somecontent = "Ajout de chaîne dans le fichier \n";

// Assurons nous que le fichier est accessible en écriture
if (is_writable($filename)) {

    // Dans notre exemple, nous ouvrons le fichier $filename en mode d'ajout
    // Le pointeur de fichier est placé à la fin du fichier
    // c'est là que $somecontent sera placé
    if (!$handle = fopen($filename, 'a')) {
        echo "Impossible d'ouvrir le fichier ($filename)";
        exit;
    }

    // Ecrivons quelque chose dans notre fichier.
    if (fwrite($handle, $somecontent) === FALSE) {
        echo "Impossible d'écrire dans le fichier ($filename)";
        exit;
    }

    echo "L'écriture de ($somecontent) dans le fichier ($filename) a réussi";

    fclose($handle);

} else {
echo "Le fichier $filename n'est pas accessible en écriture.";
}
?>
]]>
    </programlisting>
   </example>
  </para>
  <simpara>
   Voir aussi
   <function>fread</function>,
   <function>fopen</function>,
   <function>fsockopen</function>,
   <function>popen</function>&listendand;
   <function>file_put_contents</function>.
  </simpara>
 </refsect1>
</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->