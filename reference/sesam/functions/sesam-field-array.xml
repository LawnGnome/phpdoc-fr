<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.9 $ -->
<!-- EN-Revision: 1.6 Maintainer: yannick Status: ready -->
  <refentry id="function.sesam-field-array">
   <refnamediv>
    <refname>sesam_field_array</refname>
    <refpurpose>
     Retourne des informations sur une colonne de résultat
    </refpurpose>
   </refnamediv>
   <refsect1>
    &reftitle.description;
     <methodsynopsis>
      <type>array</type><methodname>sesam_field_array</methodname>
      <methodparam><type>string</type><parameter>result_id</parameter></methodparam>
     </methodsynopsis>
    <para>
     <parameter>result_id</parameter> est un identifiant de résultat valide
     retourné par la fonction <function>sesam_query</function>.
    </para>
    <para>
     <function>sesam_field_array</function> retourne un tableau contenant
     les informations (nom de colonne, type, précision...) sur une colonne
     dans le résultat associé à <parameter>result_id</parameter>.
    </para>
    <para>
     <table>
      <title>
       Informations retournées par <function>sesam_field_array</function>
      </title>
      <tgroup cols="2">
       <thead>
        <row>
         <entry>Index</entry>
         <entry>Contenu</entry>
        </row>
       </thead>
       <tbody>
        <row>
         <entry>int $arr["count"]</entry>
         <entry>
          Nombre total de colonnes dans le résultat (ou zéro si
          la requête était immédiate). Les champs multiples de
          SESAM sont linéarisés, et traités comme autant de colonnes.
         </entry>
        </row>
        <row>
         <entry>string $arr[col]["name"]</entry>
         <entry>
          Le nom de la colonne <literal>col</literal>,
          avec <literal>col</literal> qui vaut entre 0 et
          <literal>$arr["count"]-1</literal>. La valeur retournée
          peut être une chaîne vide (pour les colonnes dynamiquement
          générées). Les champs multiples SESAM sont linéarisés, et
          traités comme autant de colonnes, avec le même nom.
         </entry>
        </row>
        <row>
         <entry>string $arr[col]["count"]</entry>
         <entry>
          L'attribut "count" décrit le facteur de répétition
          quand la colonne a été déclarée comme un champ multiple.
          Généralement, cet attribut est à 1. La première colonne
          d'un champ multiple contient le nombre de répétitions,
          tandis que les colonnes suivantes ont un facteur
          de répétition mis à 1. Ceci peut être utilisé pour
          detecter les champs multiples. Reportez vous à l'exemple
          de la fonction <function>sesam_query</function> pour avoir
          un exemple d'utilisation.
         </entry>
        </row>
        <row>
         <entry>string $arr[col]["type"]</entry>
         <entry>
          Type de variable &php; pour les données de la colonne
          <literal>col</literal>, où <literal>col</literal> vaut de
          0 à <literal>$arr["count"]-1</literal>. La valeur retournée
          peut être l'une de celles-ci :
          <itemizedlist>
           <listitem>
            <simpara>"integer"</simpara>
           </listitem>
           <listitem>
            <simpara>"double"</simpara>
          </listitem>
          <listitem>
           <simpara>"string"</simpara>
          </listitem>
         </itemizedlist>
         , suivant le type de données SQL. Les champs multiples
         SESAM sont linéarisés et traités comme autant de colonnes
         ayant le même type &php;.
        </entry>
        </row>
        <row>
         <entry>string $arr[col]["sqltype"]</entry>
         <entry>
          Type de données SQL de la colonne <literal>col</literal>, où
          <literal>col</literal> vaut de 0 à <literal>$arr["count"]-1</literal>.
          La valeur retournée peut être l'une de celle-ci :
          <itemizedlist>
           <listitem>
            <simpara>"CHARACTER"</simpara>
           </listitem>
           <listitem>
            <simpara>"VARCHAR"</simpara>
           </listitem>
           <listitem>
            <simpara>"NUMERIC"</simpara>
           </listitem>
           <listitem>
            <simpara>"DECIMAL"</simpara>
           </listitem>
           <listitem>
            <simpara>"INTEGER"</simpara>
           </listitem>
           <listitem>
            <simpara>"SMALLINT"</simpara>
           </listitem>
           <listitem>
            <simpara>"FLOAT"</simpara>
           </listitem>
           <listitem>
            <simpara>"REAL"</simpara>
           </listitem>
           <listitem>
            <simpara>"DOUBLE"</simpara>
           </listitem>
           <listitem>
            <simpara>"DATE"</simpara>
           </listitem>
           <listitem>
            <simpara>"TIME"</simpara>
           </listitem>
           <listitem>
            <simpara>"TIMESTAMP"</simpara>
           </listitem>
          </itemizedlist>
          , décrivant le type de données SQL. Les champs multiples SESAM
          sont linéarisés et traités comme autant de colonnes du même type.
        </entry>
        </row>
        <row>
         <entry>string $arr[col]["length"]</entry>
         <entry>
          La taille de l'attribut, au sens SQL, de la colonne
          <literal>col</literal>, où <literal>col</literal> vaut de 0 à
          <literal>$arr["count"]-1</literal>. La longueur est
          utilisée avec les champs "CHARACTER" et "VARCHAR", pour
          spécifier la taille maximale de la colonne. Les champs multiples
          SESAM sont linéarisés et traités comme autant de colonnes
          ayant la même taille SQL.
         </entry>
        </row>
        <row>
         <entry>string $arr[col]["precision"]</entry>
         <entry>
          La précision de la colonne <literal>col</literal>, au sens SQL,
          où <literal>col</literal> vaut de 0 à
          <literal>$arr["count"]-1</literal>. La précision est
          utilisée avec les champs numériques et de date.
          Les champs multiples SESAM sont linéarisés et traités
          comme autant de colonnes ayant la même précision SQL.
         </entry>
        </row>
        <row>
         <entry>string $arr[col]["scale"]</entry>
         <entry>
          L'échelle de la colonne <literal>col</literal>, au sens SQL,
          où <literal>col</literal> vaut de 0 à
          <literal>$arr["count"]-1</literal>. L'échelle est
          utilisée avec les champs numériques.
          Les champs multiples SESAM sont linéarisés et traités
          comme autant de colonnes ayant la même échelle SQL.
         </entry>
        </row>
       </tbody>
      </tgroup>
     </table>
    </para>
    <para>
     Voir aussi 
     <function>sesam_query</function>, pour un exemple
     d'utilisation de <function>sesam_field_array</function>.
    </para>
   </refsect1>
  </refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
