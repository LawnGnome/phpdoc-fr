<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.13 $ -->
<!-- EN-Revision: 1.6 Maintainer: yannick Status: ready -->
<!-- Reviewed: yes -->

<refentry xml:id="function.sesam-execimm" xmlns="http://docbook.org/ns/docbook">
 <refnamediv>
  <refname>sesam_execimm</refname>
  <refpurpose>Exécute immédiatement une requête SQL</refpurpose>
 </refnamediv>

 <refsect1 role="description">
  &reftitle.description;
  <methodsynopsis>
   <type>string</type><methodname>sesam_execimm</methodname>
   <methodparam><type>string</type><parameter>query</parameter></methodparam>
  </methodsynopsis>
  <para>
   Exécute immédiatement la requête <parameter>query</parameter>.
  </para>
  <para>
   <function>sesam_execimm</function> modifie la valeur
   <parameter>affected_rows</parameter>, pour une lecture ultérieure
   avec <function>sesam_affected_rows</function>.
  </para>
  <para>
   Notez que <function>sesam_query</function> peut gérer les requêtes
   immédiates et les requêtes de selection. Utilisez
   <function>sesam_execimm</function> uniquement si vous
   connaissez le type de requête auparavant. Une tentative de
   requête de selection avec <function>sesam_execimm</function> retournera
   <literal>$err["sqlstate"] == "42SBW"</literal>.
  </para>
 </refsect1>

 <refsect1 role="parameters">
  &reftitle.parameters;
  <para>
   <variablelist>
    <varlistentry>
     <term><parameter>query</parameter></term>
     <listitem>
      <para>
       Une requête immédiate (i.e., une requête de type
       UPDATE, INSERT ou DELETE qui ne retourne aucun résultat, et
       n'a aucune variable d'entrées ou de sorties). Les requêtes
       de types "SELECT" ne peuvent pas être utilisées avec la
       fonction <function>sesam_execimm</function>.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </para>
 </refsect1>

 <refsect1 role="returnvalues">
  &reftitle.returnvalues;
  <para>
   Retourne un identifiant de résultat SESAM en cas de succès, et &false; sinon.
  </para>
  <para>
   L'identifiant de résultat retourné ne peut pas être utilisé
   pour lire quoi que ce soit, mais il peut être passé à
   <function>sesam_affected_rows</function> ; il n'est retourné que
   pour symétrie avec la fonction <function>sesam_query</function>.
  </para>
 </refsect1>

 <refsect1 role="examples">
  &reftitle.examples;
  <para>
   <example>
    <title>Exemple avec <function>sesam_execimm</function></title>
    <programlisting role="php">
<![CDATA[
<?php
$stmt = "INSERT INTO mytable VALUES ('one', 'two')";
$result = sesam_execimm($stmt);
$err = sesam_diagnostic();
echo "sqlstate = " . $err["sqlstate"] . "\n".
       "Nombre de lignes affectées = " . $err["rowcount"] . " == " .
       sesam_affected_rows($result) . "\n";
?>
]]>
    </programlisting>
   </example>
  </para>
 </refsect1>

 <refsect1 role="seealso">
  &reftitle.seealso;
  <para>
   <simplelist>
    <member><function>sesam_query</function></member>
    <member><function>sesam_affected_rows</function></member>
   </simplelist>
  </para>
 </refsect1>

</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->