<?xml version="1.0" encoding="iso-8859-1"?>
<!-- splitted from ./fr/functions/sesam.xml, last change in rev 1.1 -->
<!-- last change to 'sesam-fetch-array' in en/ tree in rev 1.1 -->
  <refentry id="function.sesam-fetch-array">
   <refnamediv>
    <refname>sesam_fetch_array</refname>
    <refpurpose>Lit une ligne dans un tableau associatif</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Description</title>
     <methodsynopsis>
      <type>array</type><methodname>sesam_fetch_array</methodname>
      <methodparam><type>string</type><parameter>result_id</parameter></methodparam>
      <methodparam choice="opt"><type>int</type><parameter>whence</parameter></methodparam>
      <methodparam choice="opt"><type>int</type><parameter>offset</parameter></methodparam>
     </methodsynopsis>
    <para>
     <function>sesam_fetch_array</function> retourne un tableau qui
     correspond &agrave; la ligne lue dans le r&eacute;sultat <parameter>result_id</parameter>,
     ou &false; si il n'y a pas d'autres lignes.
    </para>
    <para>
     <function>sesam_fetch_array</function> est une version alternative de
     <function>sesam_fetch_row</function>.  Au lieu de stocker les
     donn&eacute;es dans un tableau &agrave; indice num&eacute;rique, il enregistre les
     donn&eacute;es dans un tableau associatif, en utilisant les noms
     des champs comme cl&eacute;s.
    </para>
    <para>
     <parameter>result_id</parameter> est un identifiant de r&eacute;sultat valide
     retourn&eacute; par <function>sesam_query</function> (avec une requ&ecirc;te de
     selection seulement!).
    </para>
    <para>
     Pour conna&icirc;tre les valeurs valides des options
     <parameter>whence</parameter> et
     <parameter>offset</parameter>,
     reportez vous &agrave; <function>sesam_fetch_row</function>.
    </para>
    <para>
     <function>sesam_fetch_array</function> lit une ligne de donn&eacute;es dans
     le r&eacute;sultat <parameter>result_id</parameter>. La ligne est
     retourn&eacute;e sous forme d'un tableau associatif. Chaque colonne est
     enregistr&eacute;e avec leur nom comme index. Les noms des colonnes
     sont convertis en minuscules.
    </para>
    <para>
     Les colonnes sans noms (par exemple, les r&eacute;sultats d'op&eacute;rations
     arithm&eacute;tiques) et les champs vides ne sont pas stock&eacute;s dans
     ce tableau. De plus, si deux colonnes ont le m&ecirc;me noms, la derni&egrave;re
     colonne &eacute;crasera la pr&eacute;c&eacute;dente. Dans cette situation, utilisez
     de pr&eacute;f&eacute;rence <function>sesam_fetch_row</function> ou bien, fa&icirc;tes un
     alias de la colonne.
     <informalexample>
      <programlisting role="sesam">
SELECT TBL1.COL AS FOO, TBL2.COL AS BAR FROM TBL1, TBL2</programlisting>
     </informalexample>
    </para>
    <para>
     Une gestion sp&eacute;ciale permet de lire les champs multiples, qui
     sinon, auraient toutes le m&ecirc;me nom. Pour chaque colonne d'un
     champs multiple, le nom d'index est cr&eacute;&eacute; en ajoutant le
     num&eacute;ro de sous-index &agrave; la suite du nom de la colonne. Ces sous
     indices sont num&eacute;rot&eacute;s &agrave; partir de 1.
     <informalexample>
      <programlisting role="sesam">
CREATE TABLE ... ( ... MULTI(3) INT )
      </programlisting>
     </informalexample>
     Les index associatifs utilis&eacute; pour les valeurs individuelles
     du champs multiple sont : <literal>"multi(1)"</literal>,
     <literal>"multi(2)"</literal>, et <literal>"multi(3)"</literal>,
     respectivement.
    </para>
    <para>
     Les prochains appels &agrave; <function>sesam_fetch_array</function> liront la
     prochaine ligne (ou la pr&eacute;c&eacute;dente, ou la n-i&egrave;me, suivant les
     attributs de d&eacute;filement), jusqu'&agrave; ce qu'il n'y ait plus de lignes.
    </para>
    <example>
     <title>Exemple avec <function>sesam_fetch_array</function></title>
     <programlisting role="php">
&lt;?php
$result = sesam_query (&quot;SELECT * FROM phone\n&quot;.
                       &quot;  WHERE LASTNAME='&quot;.strtoupper($name).&quot;'\n&quot;.
                       &quot;  ORDER BY FIRSTNAME&quot;, 1);
if (! $result) {
    ... error ...
}
// Affiche la table
print &quot;&lt;TABLE BORDER&gt;\n&quot;;
while (($row = sesam_fetch_array ($result)) &amp;&amp; count($row) &gt; 0) {
    print &quot; &lt;TR&gt;\n&quot;;
    print &quot;  &lt;TD&gt;&quot;.htmlspecialchars($row[&quot;firstname&quot;]).&quot;&lt;/TD&gt;\n&quot;;
    print &quot;  &lt;TD&gt;&quot;.htmlspecialchars($row[&quot;lastname&quot;]).&quot;&lt;/TD&gt;\n&quot;;
    print &quot;  &lt;TD&gt;&quot;.htmlspecialchars($row[&quot;phoneno&quot;]).&quot;&lt;/TD&gt;\n&quot;;
    print &quot; &lt;/TR&gt;\n&quot;;
}
print &quot;&lt;/TABLE&gt;\n&quot;;
sesam_free_result ($result);
?&gt;
     </programlisting>
    </example>
    <para>
     Voir aussi : <function>sesam_fetch_row</function> qui retourne
     un tableau num&eacute;rique.
    </para>
   </refsect1>
  </refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
