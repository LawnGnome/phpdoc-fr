<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.2 $ -->
<!-- EN-Revision: 1.3 Maintainer: yannick Status: ready -->
<section id="apc.configuration">
 &reftitle.runtime;
 &extension.runtime;
 <para>
  Bien que la configuration par défaut d'APC est suffisante pour la plupart des installations,
  les utilisateurs avancés devraient affiner les paramètres suivants.
 </para>
 <para>
  <table>
   <title>Options de configuration APC</title>
   <tgroup cols="4">
    <thead>
     <row>
      <entry>Nom</entry>
      <entry>Défaut</entry>
      <entry>Modifiable</entry>
      <entry>Changelog</entry>
     </row>
    </thead>
    <tbody>
     <row>
      <entry>apc.enabled</entry>
      <entry>"1"</entry>
      <entry>PHP_INI_ALL</entry>
      <entry></entry>
     </row>
     <row>
      <entry>apc.shm_segments</entry>
      <entry>"1"</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry></entry>
     </row>
     <row>
      <entry>apc.shm_size</entry>
      <entry>"30"</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry></entry>
     </row>
     <row>
      <entry>apc.optimization</entry>
      <entry>"0"</entry>
      <entry>PHP_INI_ALL</entry>
      <entry></entry>
     </row>
     <row>
      <entry>apc.num_files_hint</entry>
      <entry>"1000"</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry></entry>
     </row>
     <row>
      <entry>apc.ttl</entry>
      <entry>"0"</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry></entry>
     </row>
     <row>
      <entry>apc.gc_ttl</entry>
      <entry>"3600"</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry></entry>
     </row>
     <row>
      <entry>apc.cache_by_default</entry>
      <entry>"1"</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry></entry>
     </row>
     <row>
      <entry>apc.filters</entry>
      <entry>NULL</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry></entry>
     </row>
     <row>
      <entry>apc.mmap_file_mask</entry>
      <entry>NULL</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry></entry>
     </row>
     <row>
      <entry>apc.slam_defense</entry>
      <entry>"0"</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry></entry>
     </row>
     <row>
      <entry>apc.file_update_protection</entry>
      <entry>"2"</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry></entry>
     </row>
     <row>
      <entry>apc.enable_cli</entry>
      <entry>"0"</entry>
      <entry>PHP_INI_SYSTEM</entry>
      <entry>&gt; APC 3.0.6</entry>
     </row>
    </tbody>
   </tgroup>
  </table>
  &ini.php.constants;
 </para>

 &ini.descriptions.title;

 <para>
  <variablelist>
   <varlistentry id="ini.apc.enabled">
    <term>
     <parameter>apc.enabled</parameter>
     <type>boolean</type>
    </term>
    <listitem>
     <para>
      <literal>apc.enabled</literal> peut être défini à 0 pour
      désactiver APC. Ceci est utile lorsque APC est compilé statiquement
      dans &php;, et qu'il n'y a donc aucun autre moyen de le
      désactiver (lorsque compilé en tant que DSO, la ligne
      <literal>extension</literal> dans le <literal>php.ini</literal>
      peut juste être commentée).
     </para>
    </listitem>
   </varlistentry>
   <varlistentry id="ini.apc.shm-segments">
    <term>
     <parameter>apc.shm_segments</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
      Le nombre de segments mémoires à allouer pour le cache compilé.
      Si APC fonctionne en dehors de la mémoire partagée mais
      que vous avez déjà défini <literal>apc.shm_size</literal>
      aussi élevé que votre système le permet, vous pouvez tenter
      de relever cette valeur.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry id="ini.apc.shm-size">
    <term>
     <parameter>apc.shm_size</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
      La taille de chaque segment de mémoire partagé en MB.
      Par défaut, quelques systèmes (incluant la plupart des BSD)
      ont une limite basse de la taille d'un segment mémoire partagé.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry id="ini.apc.optimization">
    <term>
     <parameter>apc.optimization</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
      Le degré d'optimisation. Zéro désactive l'optimisateur,
      et de hautes valeurs utilisent des optimisations
      agressives. Attendez-vous à des améliorations très modestes
      de vitesse. Ceci est expérimental.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry id="ini.apc.num-files-hint">
    <term>
     <parameter>apc.num_files_hint</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
      Un "conseil" au sujet du nombre de fichiers sources distincts
      qui seront inclus ou demandés sur votre serveur web.
      Placez à zéro ou omettez-le si vous n'êtes pas sûr ;
      cet arrangement est principalement utile pour les sites
      qui ont des milliers de fichiers sources.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry id="ini.apc.ttl">
    <term>
     <parameter>apc.ttl</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
      Le nombre de secondes qu'une entrée de cache est autorisée
      à stagner dans un slot dans le cas où ce slot d'entrée de cache
      est nécessaire pour une autre entrée. Laisser à zéro signifie
      que votre cache pourrait potentiellement remplir d'autres entrées
      tant que d'autres entrées ne seront pas mises en cache.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry id="ini.apc.gc-ttl">
    <term>
     <parameter>apc.gc_ttl</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
      Le nombre de secondes qu'une entrée de cache peut
      rester dans la liste de la collection. Cette valeur fournit
      une sécurité dans le cas où le processus du serveur
      meurt lors de l'exécution d'un fichier source mis en cache ;
      si cette source est modifié, la mémoire allouée pour l'ancienne
      version ne sera pas demandée tant que ce TTL ne sera atteint.
      Définissez-le à zéro pour désactiver cette fonctionnalité.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry id="ini.apc.cache-by-default">
    <term>
     <parameter>apc.cache_by_default</parameter>
     <type>boolean</type>
    </term>
    <listitem>
     <para>
      Actif par défaut, mais peut être désactivé et utilisé
      en conjonction avec un <literal>apc.filters</literal>
      positif donc ces fichiers seront uniquement mis en cache s'ils correspondent
      à un filtre positif.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry id="ini.apc.filters">
    <term>
     <parameter>apc.filters</parameter>
     <type>string</type>
    </term>
    <listitem>
     <para>
      Une liste séparée par des virgules d'expressions rationnelles POSIX.
      Si un seul masque correspond à un nom de fichier source,
      le fichier ne sera pas mis en cache. Notez que le nom du fichier utilisé
      pour le masque est celui passé aux instructions include/require, et non
      un chemin absolu. Si le premier caractère de l'expression est un
      <literal>+</literal> alors l'expression sera additive dans le sens
      que chaque fichier correspondant à l'expression sera mis en cache, et
      si le premier caractère est un <literal>-</literal> alors tout ce qui
      correspond ne sera pas mis en cache. Le cas du <literal>-</literal>
      est celui par défaut, donc, il peut être omis.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry id="ini.apc.mmap-file-mask">
    <term>
     <parameter>apc.mmap_file_mask</parameter>
     <type>string</type>
    </term>
    <listitem>
     <para>
      Si compilé avec le support MMAP en utilisant <literal>--enable-mmap</literal>,
      ce sera le style mktemp de masque de fichier à passer au module
      MMAP pour déterminer si votre région de mémoire MMAP va être
      mise dans un fichier ou en mémoire partagée. Dans le cas de la mise
      en cache dans un fichier MMAP, définissez ce paramètre comme
      <literal>/tmp/apc.XXXXXX</literal> (exactement 6 <literal>X</literal>).
      Pour utiliser le style POSIX shm_open/mmap, placez un <literal>.shm</literal>
      quelque part dans votre masque, e.g. <literal>/apc.shm.XXXXXX</literal>.
      Vous pouvez également définir ce paramètre à <literal>/dev/zero</literal>
      pour utiliser votre interface kernel <literal>/dev/zero</literal> pour
      la mémoire anonyme MMAP. Laissez-le indéfini forcera un MMAP anonyme.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry id="ini.apc.slam-defense">
    <term>
     <parameter>apc.slam_defense</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
      Sur les serveurs très surchargés lorsque vous démarrez le serveur
      ou modifiez des fichiers, vous pouvez créer une race contenant
      plusieurs processus pour mettre en cache le même fichier en même
      temps. Cette option définit le pourcentage de processus
      qui évitera de tenter de mettre en cache un fichier non mise en cache.
      Ou pensez à lui comme probabilité d'un processus simple pour éviter
      la mise en cache. Par exemple, définir <literal>apc.slam_defense</literal>
      à <literal>75</literal> signifie qu'il y a 75% de chance que le processus
      ne mettra pas en cache un fichier non déjà mis en cache.
      Définir à &zero; pour désactiver cette fonctionnalité.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry id="ini.apc.file-update-protection">
    <term>
     <parameter>apc.file_update_protection</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
      Lorsque vous modifiez un fichier sur un serveur web, vous
      devriez le faire d'une façon atomique. Écrivez-le dans un
      fichier temporaire et renommez-le (<literal>mv</literal>)
      vers sa position permanente lorsqu'il est prêt. La plupart des éditeurs
      de texte, cp, tar et les autres programmes de ce genre ne font
      pas celà. Cela signifie qu'il y a une chance pour que le fichier
      soit accédé (et donc, mis en cache) alors qu'il est encore en cours
      d'écriture. Ce paramètre <literal>apc.file_update_protection</literal>
      fait intervenir un délai pour la mise en cache des nouveaux fichiers.
      Par défaut, il vaut 2 secondes, ce qui signifie que si le timestamp
      de modification (<literal>mtime</literal>) d'un fichier montre
      qu'il vaut moins de 2 secondes, ce fichier ne sera pas mis en cache.
      La personne malheureuse qui a accédé à ce dossier moitié-écrit immobile
      verra une ébauche, mais au moins lui ne persistera pas.
      Si vous êtes certain de mettre toujours et automatiquement à jour
      vos fichiers en utilisant quelque chose comme rsync qui fait cela correctement,
      vous pouvez désactiver cette protection en le définissant à 0.
      Si vous avez un système qui flood avec io causant des procédures de mise
      à jour mettant plus de temps que 2 secondes, vous pourriez vouloir
      augmenter cette valeur.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry id="ini.apc.enable-cli">
    <term>
     <parameter>apc.enable_cli</parameter>
     <type>integer</type>
    </term>
    <listitem>
     <para>
      Pour tester et déboguer. Définir ceci active APC pour la
      version CLI de &php;. Normalement, vous ne devriez pas vouloir
      créer, peupler et démonter le cache APC à chaque requête CLI,
      mais pour divers scénarios de test, elle est maniable pour pouvoir
      activer APC pour la version CLI d'APC facilement.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </para>
</section>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
