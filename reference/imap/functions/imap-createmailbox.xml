<?xml version="1.0" encoding="iso-8859-1"?>
<!-- splitted from ./fr/functions/imap.xml, last change in rev 1.15 -->
<!-- last change to 'imap-createmailbox' in en/ tree in rev 1.2 -->
 <refentry id="function.imap-createmailbox">
  <refnamediv>
   <refname>imap_createmailbox</refname>
   <refpurpose>Cr&eacute;e une nouvelle bo&icirc;te aux lettres</refpurpose>
  </refnamediv>
  <refsect1>
   <title>Description</title>
     <methodsynopsis>
      <type>bool</type><methodname>imap_createmailbox</methodname>
      <methodparam><type>resource</type><parameter>imap_stream</parameter></methodparam>
      <methodparam><type>string</type><parameter>mbox</parameter></methodparam>
     </methodsynopsis>
   <para>
    <function>imap_createmailbox</function> cr&eacute;e une nouvelle bo&icirc;te
    aux lettres nomm&eacute;e <parameter>mbox</parameter>. Les noms
    contenant des caract&egrave;res sp&eacute;ciaux doivent &ecirc;tre
    encod&eacute;s.
   </para>
   <para>
    <function>imap_createmailbox</function> retourne &true;
    en cas de succ&egrave;s, et &false; en cas d'erreur.
   </para>
   <para>
    <example>
     <title>Exemple avec <function>imap_createmailbox</function></title>
     <programlisting role="php">
<![CDATA[
<?php
$mbox = imap_open("{your.imap.host}","utilisateur","mot_de_passe",OP_HALFOPEN)
    or die("connexion impossible: ".imap_last_error());
$name1 = "nouvellephpbox";
$name2 = imap_utf7_encode("nouvellephpbox&eacute;x");
$newname = $name1;
echo "Le nouveau nom sera '$name1'<BR>\n";
// Nous allons cr&eacute;er maintenant une nouvelle bo&icirc;te aux lettres "phptestbox"
// dans votre dossier inbox, v&eacute;rifier son &eacute;tat et finalement, la supprimer
// pour remettre votre inbox dans son &eacute;tat initial.
if(@imap_createmailbox($mbox,imap_utf7_encode("{your.imap.host}INBOX.$newname"))){
 $status = @imap_status($mbox,"{your.imap.host}INBOX.$newname",SA_ALL);
 if($status) {
   print("Votre nouvelle bo&icirc;te '$name1' est dans l'&eacute;tat suivant :<BR>\n");
   print("Messages:   ". $status->messages   )."<BR>\n";
   print("R&eacute;cent:     ". $status->recent     )."<BR>\n";
   print("Non lus:     ". $status->unseen     )."<BR>\n";
   print("UID suivant:    ". $status->uidnext    )."<BR>\n";
   print("UID validit&eacute;:". $status->uidvalidity)."<BR>\n";
   if(imap_renamemailbox($mbox,"{your.imap.host}INBOX.$newname","{your.imap.host}INBOX.$name2")) {
     echo "renommage de la bo&icirc;te aux lettres '$name1' en '$name2'<BR>\n";
     $newname=$name2;
   } else {
     print "imap_renamemailbox sur la nouvelle bo&icirc;te aux lettres a &eacute;chou&eacute; : ".imap_last_error()."<BR>\n";
   }
 } else {
   print  "imap_status sur la nouvelle bo&icirc;te aux lettres a &eacute;chou&eacute; : ".imap_last_error()."<BR>\n";
 }
 if(@imap_deletemailbox($mbox,"{your.imap.host}INBOX.$newname")) {
   print "new mailbox supprim&eacute;e pour remettre tout en &eacute;tat<BR>\n";
 } else {
   print  "imap_deletemailbox ur la nouvelle bo&icirc;te aux lettres a &eacute;chou&eacute; : ".implode("<BR>\n",imap_errors())."<BR>\n";
 }
} else {
 print  "Impossible de cr&eacute;er une nouvelle bo&icirc;te aux lettres : ".implode("<BR>\n",imap_errors())."<BR>\n";
}
imap_close($mbox);
?>
]]>
     </programlisting>
    </example>
   </para>
   <para>
    Voir aussi
    <function>imap_renamemailbox</function>,
    <function>imap_deletemailbox</function> et
    <function>imap_open</function> pour conna&icirc;tre le format des noms de
    <parameter>mbox</parameter>.
   </para>
  </refsect1>
 </refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
