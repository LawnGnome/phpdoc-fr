<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.15 $ -->
<!-- EN-Revision: 1.4 Maintainer: yannick Status: ready -->
<!-- Reviewed: yes -->
  <refentry xml:id="function.session-destroy" xmlns="http://docbook.org/ns/docbook">
   <refnamediv>
    <refname>session_destroy</refname>
    <refpurpose>Détruit une session</refpurpose>
   </refnamediv>
   <refsect1>
    &reftitle.description;
     <methodsynopsis>
      <type>bool</type><methodname>session_destroy</methodname>
      <void/>
     </methodsynopsis>
    <simpara>
     <function>session_destroy</function> détruit toutes les données
     associées à la session courante. Cette fonction ne détruit pas
     les variables globales associées à la session, de même, elle ne
     détruit pas le cookie de session.
    </simpara>
    <para>
     Pour détruire complètement une session, comme faire sortir l'utilisateur,
     l'identifiant de la session doit également être effacé. Si un cookie est utilisé
     pour propager l'identifiant de session (comportement par défaut), alors le cookie
     de session doit être effacé. La fonction <function>setcookie</function>
     peut être utilisée pour cela.
    </para>
    <simpara>
     &return.success;
    </simpara>
    <para>
     <example>
      <title>Destruction d'une session avec <function>session_destroy</function></title>
      <programlisting role="php">
<![CDATA[
<?php

// Initialisation de la session.
// Si vous utilisez un autre nom
// session_name("autrenom")
session_start();

// Détruit toutes les variables de session
$_SESSION = array();

// Si vous voulez détruire complètement la session, effacez également
// le cookie de session.
// Note : cela détruira la session et pas seulement les données de session !
if (isset($_COOKIE[session_name()])) {
    setcookie(session_name(), '', time()-42000, '/');
}

// Finalement, on détruit la session.
session_destroy();

?>
]]>
      </programlisting>
     </example>
    </para>
    <note>
     <para>
      Utilisez uniquement la fonction <function>session_unset</function>
      pour l'ancien code obsolète qui n'utilise pas les variables
      <varname>$_SESSION</varname>.
     </para>
    </note>
    <para>
     Voir aussi
     <function>unset</function> et
     <function>setcookie</function>.
    </para>
   </refsect1>
  </refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->