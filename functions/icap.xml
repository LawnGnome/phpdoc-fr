 <reference id="ref.icap">
  <title>Fonctions ICAP</title>
  <titleabbrev>ICAP</titleabbrev>

  <partintro>
   <simpara>
      Pour faire fonctionner ces fonctions, vous devez compiler PHP avec l'option
      <option role="configure">--with-icap</option>. Il vous faudra aussi la librairie 
      icap. R&eacute;cup&eacute;rez la derni&egrave;re version &agrave; 
      <ulink url="http://icap.chek.com/">http://icap.chek.com/</ulink> et d&eacute;compilez-la, 
      puis installez la.
   </simpara>
  </partintro>

  <refentry id="function.icap-open">
   <refnamediv>
    <refname>icap_open</refname>
    <refpurpose>Ouvre une connexion ICAP.</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Description</title>
    <funcsynopsis>
     <funcdef>stream <function>icap_open</function></funcdef>
     <paramdef>string<parameter>calendar</parameter></paramdef>
     <paramdef>string<parameter>username</parameter></paramdef>
     <paramdef>string<parameter>password</parameter></paramdef>
     <paramdef>string<parameter>options</parameter></paramdef>
    </funcsynopsis>
    <para>
     Retourn un flot ICAP en cas de succ&egrave;s, FALSE en cas d'erreur.</para>  
    <para>
     <function>icap_open</function> ouvre une connexion ICAP au serveur de calendrier
     <parameter>calendar</parameter>. Si le param&egrave;tre <parameter>options</parameter> 
     est sp&eacute;cifi&eacute;, passe <parameter>options</parameter> &agrave; la bo&icirc;te aux lettres(????).
     </para>
   </refsect1>
  </refentry>

  <refentry id="function.icap-close">
   <refnamediv>
    <refname>icap_close</refname>
    <refpurpose>Ferme le flot ICAP.</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Description</title>
    <funcsynopsis>
     <funcdef>int <function>icap_close</function></funcdef>
     <paramdef>int <parameter>icap_stream</parameter></paramdef>
     <paramdef>int <parameter>flags</parameter></paramdef>
    </funcsynopsis>
    <para> 
      Ferme le flot ICAP <parameter>icap_stream</parameter>.
    </para> 
   </refsect1>
  </refentry>

  <refentry id="function.icap-fetch-event">
   <refnamediv>
    <refname>icap_fetch_event</refname>
    <refpurpose>Recherche un &eacute;v&eacute;nement dans le calendrier.</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Description</title>
    <funcsynopsis>
     <funcdef>object<function>icap_fetch_event</function></funcdef>
     <paramdef>stream<parameter>icap_stream</parameter></paramdef>
     <paramdef>id<parameter>event id</parameter></paramdef>
     <paramdef>options<parameter>options</parameter></paramdef>
    </funcsynopsis>
    <para>  
     <function>icap_fetch_event</function> recherche un &eacute;venement dans le calendrier
     sp&eacute;cifi&eacute; par <parameter>id</parameter>.
    </para>
    <para>
     Retourne un objet &eacute;v&eacute;nement dont les attributs sont : 

     <itemizedlist>
      <listitem><simpara>
	int id - ID de l'&eacute;v&eacute;nement.</simpara></listitem>
      <listitem><simpara>
	int public - TRUE si l'&eacute;v&eacute;nement est public, FALSE si il est priv&eacute;.</simpara></listitem>
      <listitem><simpara>
	string category - Cat&eacute;gorie de l'&eacute;v&eacute;nement.</simpara></listitem> 
      <listitem><simpara>
	string title - Titre de l'&eacute;v&eacute;nement.</simpara></listitem>
      <listitem><simpara>
	string description - Description de l'&eacute;v&eacute;nement.</simpara></listitem>
      <listitem><simpara>
	int alarm - Nombre de minutes avant d'envoyer une alerte pour cet &eacute;v&eacute;nement.</simpara></listitem>
      <listitem><simpara>
	object start - Objet contenant une date et une heure.</simpara></listitem>
      <listitem><simpara>
	object end - Objet contenant une date et une heure.</simpara></listitem>
     </itemizedlist>

     Tous les objets de date et heure sont construits comme suit : 

     <itemizedlist>
      <listitem><simpara>
	int year - ann&eacute;e</simpara></listitem>
      <listitem><simpara>
	int month - mois</simpara></listitem>
      <listitem><simpara>
	int mday  - jour du mois</simpara></listitem>
      <listitem><simpara>
	int hour  - heure</simpara></listitem>
      <listitem><simpara>
	int min   - minutes</simpara></listitem>
      <listitem><simpara>
	int sec   - secondes</simpara></listitem>         
     </itemizedlist></para>
     
   </refsect1>
  </refentry>
  

  <refentry id="function.icap-list-events">
   <refnamediv>
    <refname>icap_list_events</refname>

    <refpurpose>
      Retourne une liste d'&eacute;v&eacute;nement entre deux dates.
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>Description</title>
    <funcsynopsis>
     <funcdef>array <function>icap_list_events</function></funcdef>
     <paramdef>stream <parameter>icap_stream</parameter></paramdef>
     <paramdef>datetime <parameter>begin_date</parameter></paramdef>
     <paramdef>datetime <parameter>end_date</parameter></paramdef>
    </funcsynopsis>
    <para>
       Retourne un tableau d'identificants d'&eacute;v&eacute;n&eacute;ments, compris entre deux dates.
    </para>
    <para> 
      <function>icap_list_events</function> prend une date de d&eacute;but et une date
      de fin. Un tableau d'identifiants est retourn&eacute;.
    </para>
    <para>
      Tous les objets de date et heure sont construits comme suit : 
     <itemizedlist>
      <listitem><simpara>
	int year - ann&eacute;e</simpara></listitem>
      <listitem><simpara>
	int month - mois</simpara></listitem>
      <listitem><simpara>
	int mday  - jour du mois</simpara></listitem>
      <listitem><simpara>
	int hour  - heure</simpara></listitem>
      <listitem><simpara>
	int min   - minutes</simpara></listitem>
      <listitem><simpara>
	int sec   - secondes</simpara></listitem>         
     </itemizedlist></para>
   </refsect1>
  </refentry>

  <refentry id="function.icap-store-event">
   <refnamediv>
    <refname>icap_store_event</refname>
    <refpurpose>Enregistre un &eacute;v&eacute;nement dans un agenda ICAP.</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Description</title>
    <funcsynopsis>
     <funcdef>int <function>icap_store_event</function></funcdef>
     <paramdef>int <parameter>icap_stream</parameter></paramdef>
     <paramdef>object <parameter>event</parameter></paramdef>
    </funcsynopsis>
    <para> 
       <function>icap_store_event</function> enregistre un &eacute;v&eacute;nement dans un calendrier
       ICAP. 
    </para>
    <para>
     Un &eacute;v&eacute;nement est un objet avec les attributs suivants : 
     <itemizedlist>
      <listitem><simpara>
	int id - ID de l'&eacute;v&eacute;nement.</simpara></listitem>
      <listitem><simpara>
	int public - TRUE si l'&eacute;v&eacute;nement est public, FALSE si il est priv&eacute;.</simpara></listitem>
      <listitem><simpara>
	string category - Cat&eacute;gorie de l'&eacute;v&eacute;nement.</simpara></listitem> 
      <listitem><simpara>
	string title - Titre de l'&eacute;v&eacute;nement.</simpara></listitem>
      <listitem><simpara>
	string description - Description de l'&eacute;v&eacute;nement.</simpara></listitem>
      <listitem><simpara>
	int alarm - Nombre de minutes avant d'envoyer une alerte pour cet &eacute;v&eacute;nement.</simpara></listitem>
      <listitem><simpara>
	object start - Objet contenant une date et une heure.</simpara></listitem>
      <listitem><simpara>
	object end - Objet contenant une date et une heure.</simpara></listitem>
     </itemizedlist></para>
    
     <para>
     Tous les objets de date et heure sont construits comme suit : 
     <itemizedlist>
      <listitem><simpara>
	int year - ann&eacute;e</simpara></listitem>
      <listitem><simpara>
	int month - mois</simpara></listitem>
      <listitem><simpara>
	int mday  - jour du mois</simpara></listitem>
      <listitem><simpara>
	int hour  - heure</simpara></listitem>
      <listitem><simpara>
	int min   - minutes</simpara></listitem>
      <listitem><simpara>
	int sec   - secondes</simpara></listitem>         
     </itemizedlist>
    </para>

    <para>
      Retourne TRUE en cas de succ&egrave;s, et FALSE en cas d'erreur.
    </para>
   </refsect1>
  </refentry>

  
  <refentry id="function.icap-delete-event">
   <refnamediv>
    <refname>icap_delete_event</refname>
    <refpurpose>Efface un &eacute;v&eacute;nement dans un agenda ICAP.</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Description</title>
    <funcsynopsis>
     <funcdef>int <function>icap_delete_event</function></funcdef>
     <paramdef>int <parameter>uid</parameter></paramdef>
    </funcsynopsis>
    <para> 
      <function>icap_delete_event</function> efface l'&eacute;v&eacute;nement d'identifiant <parameter>uid</parameter>.
    </para>
    <para>
      Retourne TRUE.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.icap-snooze">
   <refnamediv>
    <refname>icap_snooze</refname>
    <refpurpose>Eteind l'alarme d'un &eacute;v&eacute;nement.</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Description</title>
    <funcsynopsis>
     <funcdef>int <function>icap_snooze</function></funcdef>
     <paramdef>int <parameter>uid</parameter></paramdef>
    </funcsynopsis>
    <para>  
      <function>icap_snooze</function> &eacute;teind l'alarme de l'&eacute;v&eacute;nement identifi&eacute; par
      l'UID <parameter>uid</parameter>.</para>
    <para>
      Retourne TRUE.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.icap-list-alarms">
   <refnamediv>
    <refname>icap_list_alarms</refname>
    <refpurpose>
      Retourne une liste d'&eacute;v&eacute;nements qui ont une alarme pr&eacute;vue &agrave; une date.
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>Description</title>
    <funcsynopsis>
     <funcdef>array <function>icap_list_alarms</function></funcdef>
     <paramdef>stream <parameter>icap_stream</parameter></paramdef>
     <paramdef>datetime <parameter>alarm_date</parameter></paramdef>
    </funcsynopsis>
    <para>
      Retourne un tableau d'identifiants, qui ont une alarme de pr&eacute;vue &agrave; la date 
      <parameter>alarm_date</parameter>.
    </para>  
    <para> 
      <function>icap_list_alarms</function> prend une date, et retourne un tableau 
      d'identifiants.
    </para>
    <para>
     Tous les objets de date et heure sont construits comme suit : 
     <itemizedlist>
      <listitem><simpara>
	int year - ann&eacute;e</simpara></listitem>
      <listitem><simpara>
	int month - mois</simpara></listitem>
      <listitem><simpara>
	int mday  - jour du mois</simpara></listitem>
      <listitem><simpara>
	int hour  - heure</simpara></listitem>
      <listitem><simpara>
	int min   - minutes</simpara></listitem>
      <listitem><simpara>
	int sec   - secondes</simpara></listitem>         
     </itemizedlist></para>
   </refsect1>
  </refentry>

 </reference>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
