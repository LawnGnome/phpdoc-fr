<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.10 $ -->
<reference id="ref.ftp">
 <title>FTP</title>
 <titleabbrev>FTP</titleabbrev>
 <partintro>
  <para>
   FTP : File Transfer Protocol (Protocole de transfert de fichiers).
   Ces fonctions impl&eacute;mentent un client pour acc&eacute;der aux serveurs
   FTP, comme d&eacute;fini dans &spec.ftp;.
  </para>
  <para>
   Les constantes suivantes sont d&eacute;finies dans le module FTP :
   <constant>FTP_ASCII</constant> et <constant>FTP_BINARY</constant>.
  </para>
  <para>
   Pour activer le module FTP de votre configuration PHP, il
   faut utiliser l'option <link linkend="install.configure.enable-ftp">
   <option>--enable-ftp</option></link> en PHP 4, et l'option
   <link linkend="install.configure.with-ftp">
   <option>--with-ftp</option></link> en PHP 3 avec le script
   de configuration.
  </para>
  <para>
   <example>
    <title>Exemple de connexion FTP</title>
    <programlisting role="php">
&lt;?php
// cr&eacute;ation de la connexion
$conn_id = ftp_connect("$ftp_server");
// authentification avec nom de compte et mot de passe
$login_result = ftp_login($conn_id, "$ftp_user_name", "$ftp_user_pass");
// v&eacute;rification de la connexion
if ((!$conn_id) || (!$login_result)) {
        echo "La connexion FTP a &eacute;chou&eacute;!";
        echo "Tentative de connexion &agrave; $ftp_server avec $ftp_user_name";
        die;
    } else {
        echo "Connect&eacute; &agrave; $ftp_server, avec $ftp_user_name";
    }
// t&eacute;l&eacute;chargement d'un fichier
$upload = ftp_put($conn_id, "$destination_file", "$source_file", FTP_BINARY);
// V&eacute;rification de t&eacute;l&eacute;chargement
if (!$upload) {
        echo "Le t&eacute;l&eacute;chargement Ftp a &eacute;chou&eacute;!";
    } else {
        echo "T&eacute;l&eacute;chargement de $source_file sur $ftp_server en $destination_file";
    }
// fermeture de la connexion FTP.
ftp_quit($conn_id);
?&gt;
    </programlisting>
   </example>
  </para>
 </partintro>
 <refentry id="function.ftp-connect">
  <refnamediv>
   <refname>ftp_connect</refname>
   <refpurpose>Ouvre une connexion FTP</refpurpose>
  </refnamediv>
  <refsect1>
   <title>Description</title>
   <funcsynopsis>
    <funcprototype>
     <funcdef>resource <function>ftp_connect</function></funcdef>
     <paramdef>string <parameter>host</parameter></paramdef>
     <paramdef>int <parameter><optional>port</optional>
     </parameter></paramdef>
    </funcprototype>
   </funcsynopsis>
   <para>
    <function>ftp_connect</function> retourne un flot <acronym>FTP</acronym>
    en cas de succ&egrave;s, et &false; sinon.
   </para>
   <para>
    <function>ftp_connect</function> ouvre une connexion FTP avec l'h&ocirc;te
    <parameter>host</parameter>.  Le param&egrave;tre <parameter>port</parameter>
    sp&eacute;cifie le port de connexion. S'il est omis, le port 21 sera
    utilis&eacute;.
   </para>
  </refsect1>
 </refentry>
 <refentry id="function.ftp-login">
  <refnamediv>
   <refname>ftp_login</refname>
   <refpurpose>Authentification d'une connexion FTP</refpurpose>
  </refnamediv>
  <refsect1>
   <title>Description</title>
   <funcsynopsis>
    <funcprototype>
     <funcdef>bool <function>ftp_login</function></funcdef>
     <paramdef>resource <parameter>ftp_stream</parameter></paramdef>
     <paramdef>string <parameter>username</parameter></paramdef>
     <paramdef>string <parameter>password</parameter></paramdef>
    </funcprototype>
   </funcsynopsis>
   <para>
    <function>ftp_login</function> retourne &true;
    en cas de succ&egrave;s, et &false; sinon.
   </para>
   <para>
    <function>ftp_login</function> authentifie le flot FTP.
   </para>
  </refsect1>
 </refentry>
 <refentry id="function.ftp-pwd">
  <refnamediv>
   <refname>ftp_pwd</refname>
   <refpurpose>Retourne le nom du dossier courant.</refpurpose>
  </refnamediv>
  <refsect1>
   <title>Description</title>
   <funcsynopsis>
    <funcprototype>
     <funcdef>string <function>ftp_pwd</function></funcdef>
     <paramdef>resource <parameter>ftp_stream</parameter></paramdef>
    </funcprototype>
   </funcsynopsis>
   <para>
    <function>ftp_pwd</function> retourne le nom du dossier courant,
    ou &false; en cas d'erreur.
   </para>
  </refsect1>
 </refentry>
 <refentry id="function.ftp-cdup">
  <refnamediv>
   <refname>ftp_cdup</refname>
   <refpurpose>Change de dossier, et passe au dossier parent.</refpurpose>
  </refnamediv>
  <refsect1>
   <title>Description</title>
   <funcsynopsis>
    <funcprototype>
     <funcdef>bool <function>ftp_cdup</function></funcdef>
     <paramdef>resource <parameter>ftp_stream</parameter></paramdef>
    </funcprototype>
   </funcsynopsis>
   <para>
    <function>ftp_cdup</function> retourne &true;
    en cas de succ&egrave;s, et &false; sinon.
   </para>
   <para>
    <function>ftp_cdup</function> change de dossier, et passe au dossier parent.
   </para>
  </refsect1>
 </refentry>
 <refentry id="function.ftp-chdir">
  <refnamediv>
   <refname>ftp_chdir</refname>
   <refpurpose>Change le dossier courant.</refpurpose>
  </refnamediv>
  <refsect1>
   <title>Description</title>
   <funcsynopsis>
    <funcprototype>
     <funcdef>bool <function>ftp_chdir</function></funcdef>
     <paramdef>resource <parameter>ftp_stream</parameter></paramdef>
     <paramdef>string <parameter>directory</parameter></paramdef>
    </funcprototype>
   </funcsynopsis>
   <para>
    <function>ftp_chdir</function> retourne &true;
    en cas de succ&egrave;s, et &false; sinon.
   </para>
   <para>
    <function>ftp_chdir</function> change le dossier courant en
    <parameter>directory</parameter>.
   </para>
  </refsect1>
 </refentry>
 <refentry id="function.ftp-mkdir">
  <refnamediv>
   <refname>ftp_mkdir</refname>
   <refpurpose>Cr&eacute;e un dossier.</refpurpose>
  </refnamediv>
  <refsect1>
   <title>Description</title>
   <funcsynopsis>
    <funcprototype>
     <funcdef>string <function>ftp_mkdir</function></funcdef>
     <paramdef>resource <parameter>ftp_stream</parameter></paramdef>
     <paramdef>string <parameter>directory</parameter></paramdef>
    </funcprototype>
   </funcsynopsis>
   <para>
    <function>ftp_mkdir</function> retourne le nom du dossier ainsi
    cr&eacute;&eacute; en cas de succ&egrave;s, et &false; sinon.
   </para>
   <para>
    <function>ftp_mkdir</function> cr&eacute;e le dossier nomm&eacute;
    <parameter>directory</parameter>.
   </para>
  </refsect1>
 </refentry>
 <refentry id="function.ftp-rmdir">
  <refnamediv>
   <refname>ftp_rmdir</refname>
   <refpurpose>Efface un dossier.</refpurpose>
  </refnamediv>
  <refsect1>
   <title>Description</title>
   <funcsynopsis>
    <funcprototype>
     <funcdef>bool <function>ftp_rmdir</function></funcdef>
     <paramdef>resource <parameter>ftp_stream</parameter></paramdef>
     <paramdef>string <parameter>directory</parameter></paramdef>
    </funcprototype>
   </funcsynopsis>
   <para>
    <function>ftp_rmdir</function> retourne &true;
    en cas de succ&egrave;s, et &false; sinon.
   </para>
   <para>
    <function>ftp_rmdir</function> efface le dossier
    <parameter>directory</parameter>.
   </para>
  </refsect1>
 </refentry>
 <refentry id="function.ftp-nlist">
  <refnamediv>
   <refname>ftp_nlist</refname>
   <refpurpose>Retourne la liste des fichiers dans un dossier.</refpurpose>
  </refnamediv>
  <refsect1>
   <title>Description</title>
   <funcsynopsis>
    <funcprototype>
     <funcdef>array <function>ftp_nlist</function></funcdef>
     <paramdef>resource <parameter>ftp_stream</parameter></paramdef>
     <paramdef>string <parameter>directory</parameter></paramdef>
    </funcprototype>
   </funcsynopsis>
   <para>
    <function>ftp_nlist</function> retourne un tableau de nom de fichiers en cas
    de succ&egrave;s, et &false; sinon.
   </para>
  </refsect1>
 </refentry>
 <refentry id="function.ftp-rawlist">
  <refnamediv>
   <refname>ftp_rawlist</refname>
   <refpurpose>
    Fait une liste d&eacute;taill&eacute;e de fichiers dans un dossier.
   </refpurpose>
  </refnamediv>
  <refsect1>
   <title>Description</title>
   <funcsynopsis>
    <funcprototype>
     <funcdef>array <function>ftp_rawlist</function></funcdef>
     <paramdef>resource <parameter>ftp_stream</parameter></paramdef>
     <paramdef>string <parameter>directory</parameter></paramdef>
    </funcprototype>
   </funcsynopsis>
   <para>
    <function>ftp_rawlist</function> ex&eacute;cute la commande FTP LIST, et
    retourne le r&eacute;sultat dans un tableau. Chaque &eacute;l&eacute;ment
    du tableau correspond &agrave; une ligne du r&eacute;sultat de la commande.
    Le r&eacute;sultat n'est pas analys&eacute;, et est retourn&eacute; brut.
    L'identifiant de syst&egrave;me retourn&eacute; par
    <function>ftp_systype</function> sera utile pour d&eacute;terminer
    la fa&ccedil;on d'interpr&eacute;ter le r&eacute;sultat.
   </para>
  </refsect1>
 </refentry>
 <refentry id="function.ftp-systype">
  <refnamediv>
   <refname>ftp_systype</refname>
   <refpurpose>
    Retourne un identifiant de type de serveur FTP.
   </refpurpose>
  </refnamediv>
  <refsect1>
   <title>Description</title>
   <funcsynopsis>
    <funcprototype>
     <funcdef>string <function>ftp_systype</function></funcdef>
     <paramdef>resource <parameter>ftp_stream</parameter></paramdef>
    </funcprototype>
   </funcsynopsis>
   <para>
    <function>ftp_systype</function> retourne le type de serveur,
    ou &false; en cas d'erreur.
   </para>
  </refsect1>
 </refentry>
 <refentry id="function.ftp-pasv">
  <refnamediv>
   <refname>ftp_pasv</refname>
   <refpurpose>Active ou d&eacute;sactive le mode passif.</refpurpose>
  </refnamediv>
  <refsect1>
   <title>Description</title>
   <funcsynopsis>
    <funcprototype>
     <funcdef>bool <function>ftp_pasv</function></funcdef>
     <paramdef>resource <parameter>ftp_stream</parameter></paramdef>
     <paramdef>int <parameter>pasv</parameter></paramdef>
    </funcprototype>
   </funcsynopsis>
   <para>
    <function>ftp_pasv</function> retourne &true;
    en cas de succ&egrave;s, et &false; sinon.
   </para>
   <para>
    <function>ftp_pasv</function> active le mode passif si
    <parameter>pasv</parameter> est &agrave; &true;
    (et le d&eacute;sactive si <parameter>pasv</parameter> est &agrave;
    &false;). En mode passif, les donn&eacute;es de connexion
    sont initi&eacute;es par le client, plut&ocirc;t que par le serveur.
   </para>
  </refsect1>
 </refentry>
 <refentry id="function.ftp-get">
  <refnamediv>
   <refname>ftp_get</refname>
   <refpurpose>
    T&eacute;l&eacute;charge un fichier depuis un serveur FTP.
   </refpurpose>
  </refnamediv>
  <refsect1>
   <title>Description</title>
   <funcsynopsis>
    <funcprototype>
     <funcdef>bool <function>ftp_get</function></funcdef>
     <paramdef>resource <parameter>ftp_stream</parameter></paramdef>
     <paramdef>string <parameter>local_file</parameter></paramdef>
     <paramdef>string <parameter>remote_file</parameter></paramdef>
     <paramdef>int <parameter>mode</parameter></paramdef>
    </funcprototype>
   </funcsynopsis>
   <para>
    <function>ftp_get</function> retourne &true; en cas
    de succ&egrave;s, et &false; sinon.
   </para>
   <para>
    <function>ftp_get</function> t&eacute;l&eacute;charge le fichier
    <parameter>remote_file</parameter> depuis le serveur FTP, et le sauve dans
    le fichier local <parameter>local_file</parameter>. Le mode de transfert
    <parameter>mode</parameter> sp&eacute;cifi&eacute; doit &ecirc;tre soit 
    FTP_ASCII ou FTP_BINARY.
   </para>
  </refsect1>
 </refentry>
 <refentry id="function.ftp-fget">
  <refnamediv>
   <refname>ftp_fget</refname>
   <refpurpose>
    T&eacute;l&eacute;charge un fichier depuis un serveur FTP et le sauve
    dans un fichier d&eacute;j&agrave; ouvert.
   </refpurpose>
  </refnamediv>
  <refsect1>
   <title>Description</title>
   <funcsynopsis>
    <funcprototype>
     <funcdef>bool <function>ftp_fget</function></funcdef>
     <paramdef>resource <parameter>ftp_stream</parameter></paramdef>
     <paramdef>int <parameter>fp</parameter></paramdef>
     <paramdef>string <parameter>remote_file</parameter></paramdef>
     <paramdef>int <parameter>mode</parameter></paramdef>
    </funcprototype>
   </funcsynopsis>
   <para>
    <function>ftp_fget</function> retourne &true;
    en cas de succ&egrave;s, et &false; sinon.
   </para>
   <para>
    <function>ftp_fget</function> t&eacute;l&eacute;charge le fichier
    <parameter>remote_file</parameter> depuis le serveur FTP, et l'&eacute;crit
    dans le fichier identifi&eacute; par <parameter>fp</parameter>.  Le mode de
    transfert <parameter>mode</parameter> sp&eacute;cifi&eacute; doit &ecirc;tre
    FTP_ASCII ou FTP_BINARY.
   </para>
  </refsect1>
 </refentry>
 <refentry id="function.ftp-put">
  <refnamediv>
   <refname>ftp_put</refname>
   <refpurpose>Charge un fichier sur un serveur FTP.</refpurpose>
  </refnamediv>
  <refsect1>
   <title>Description</title>
   <funcsynopsis>
    <funcprototype>
     <funcdef>bool <function>ftp_put</function></funcdef>
     <paramdef>resource <parameter>ftp_stream</parameter></paramdef>
     <paramdef>string <parameter>remote_file</parameter></paramdef>
     <paramdef>string <parameter>local_file</parameter></paramdef>
     <paramdef>int <parameter>mode</parameter></paramdef>
    </funcprototype>
   </funcsynopsis>
   <para>
    <function>ftp_put</function> retourne &true;
    en cas de succ&egrave;s, et &false; sinon.
   </para>
   <para>
    <function>ftp_put</function> enregistre le fichier
    <parameter>local_file</parameter> sur le serveur FTP, sous le nom de
    <parameter>remote_file</parameter>.  Le mode de transfert
    <parameter>mode</parameter> sp&eacute;cifi&eacute; doit &ecirc;tre
    <literal>FTP_ASCII</literal> ou <literal>FTP_BINARY</literal>.
   </para>
  </refsect1>
 </refentry>
 <refentry id="function.ftp-fput">
  <refnamediv>
   <refname>ftp_fput</refname>
   <refpurpose>Charge un fichier ouvert sur un serveur FTP.</refpurpose>
  </refnamediv>
  <refsect1>
   <title>Description</title>
   <funcsynopsis>
    <funcprototype>
     <funcdef>bool <function>ftp_fput</function></funcdef>
     <paramdef>resource <parameter>ftp_stream</parameter></paramdef>
     <paramdef>string <parameter>remote_file</parameter></paramdef>
     <paramdef>int <parameter>fp</parameter></paramdef>
     <paramdef>int <parameter>mode</parameter></paramdef>
    </funcprototype>
   </funcsynopsis>
   <para>
    <function>ftp_fput</function> retourne &true;
    en cas de succ&egrave;s, et &false; sinon.
   </para>
   <para>
    <function>ftp_fput</function> charge les donn&eacute;es issues du fichier
    identifi&eacute; par <parameter>fp</parameter> jusqu'&agrave; la fin du fichier.
    Le r&eacute;sultat est stock&eacute; dans le fichier
    <parameter>remote_file</parameter> sur le serveur FTP. Le mode de transfert
    <parameter>mode</parameter> sp&eacute;cifi&eacute; doit &ecirc;tre
    FTP_ASCII ou FTP_BINARY.
   </para>
  </refsect1>
 </refentry>
 <refentry id="function.ftp-size">
  <refnamediv>
   <refname>ftp_size</refname>
   <refpurpose>
    Retourne la taille d'un fichier.
   </refpurpose>
  </refnamediv>
  <refsect1>
   <title>Description</title>
   <funcsynopsis>
    <funcprototype>
     <funcdef>int <function>ftp_size</function></funcdef>
     <paramdef>resource <parameter>ftp_stream</parameter></paramdef>
     <paramdef>string <parameter>remote_file</parameter></paramdef>
    </funcprototype>
   </funcsynopsis>
   <para>
    <function>ftp_size</function> retourne la taille du fichier en
    cas de succ&egrave;s, et &false; sinon.
   </para>
   <para>
    <function>ftp_size</function> retourne la taille d'un fichier sur un serveur FTP.
    Si une erreur survient, ou que le fichier n'existe pas, la valeur -1 est
    retourn&eacute;e. Certains serveurs FTP ne supportent pas cette fonction.
   </para>
  </refsect1>
 </refentry>
 <refentry id="function.ftp-mdtm">
  <refnamediv>
   <refname>ftp_mdtm</refname>
   <refpurpose>
    Retourne la date de derni&egrave;re modification d'un fichier sur
    un serveur FTP.
   </refpurpose>
  </refnamediv>
  <refsect1>
   <title>Description</title>
   <funcsynopsis>
    <funcprototype>
     <funcdef>int <function>ftp_mdtm</function></funcdef>
     <paramdef>resource <parameter>ftp_stream</parameter></paramdef>
     <paramdef>string <parameter>remote_file</parameter></paramdef>
    </funcprototype>
   </funcsynopsis>
   <para>
    <function>ftp_mdtm</function> retourne un UNIX timestamp en cas de
    succ&egrave;s, et &false; sinon.
   </para>
   <para>
    <function>ftp_mdtm</function> lit la date de derni&egrave;re modification
    d'un fichier et retourne le UNIX timestamp.  Si une erreur survient, ou si
    le fichier n'existe pas,la valeur -1 est retourn&eacute;e. Certains serveurs
    FTP ne supportent pas cette fonction.
   </para>
  </refsect1>
 </refentry>
 <refentry id="function.ftp-rename">
  <refnamediv>
   <refname>ftp_rename</refname>
   <refpurpose>Renomme un fichier sur un serveur FTP.</refpurpose>
  </refnamediv>
  <refsect1>
   <title>Description</title>
   <funcsynopsis>
    <funcprototype>
     <funcdef>bool <function>ftp_rename</function></funcdef>
     <paramdef>resource <parameter>ftp_stream</parameter></paramdef>
     <paramdef>string <parameter>from</parameter></paramdef>
     <paramdef>string <parameter>to</parameter></paramdef>
    </funcprototype>
   </funcsynopsis>
   <para>
    <function>ftp_rename</function> retourne &true;
    en cas de succ&egrave;s, et &false; sinon.
   </para>
   <para>
    <function>ftp_rename</function> renomme le fichier ou dossier
    <parameter>from</parameter> en <parameter>to</parameter>,
    sur le serveur <parameter>ftp_stream</parameter>.
   </para>
  </refsect1>
 </refentry>
 <refentry id="function.ftp-delete">
  <refnamediv>
   <refname>ftp_delete</refname>
   <refpurpose>Efface un fichier sur un serveur FTP.</refpurpose>
  </refnamediv>
  <refsect1>
   <title>Description</title>
   <funcsynopsis>
    <funcprototype>
     <funcdef>bool <function>ftp_delete</function></funcdef>
     <paramdef>resource <parameter>ftp_stream</parameter></paramdef>
     <paramdef>string <parameter>path</parameter></paramdef>
    </funcprototype>
   </funcsynopsis>
   <para>
    <function>ftp_delete</function> retourne &true;
    en cas de succ&egrave;s, et &false; sinon.
   </para>
   <para>
    <function>ftp_delete</function> efface le fichier <parameter>path</parameter>
    sur un serveur FTP.
   </para>
  </refsect1>
 </refentry>
 <refentry id="function.ftp-site">
  <refnamediv>
   <refname>ftp_site</refname>
   <refpurpose>Envoie la commande SITE au serveur.</refpurpose>
  </refnamediv>
  <refsect1>
   <title>Description</title>
   <funcsynopsis>
    <funcprototype>
     <funcdef>bool <function>ftp_site</function></funcdef>
     <paramdef>resource <parameter>ftp_stream</parameter></paramdef>
     <paramdef>string <parameter>cmd</parameter></paramdef>
    </funcprototype>
   </funcsynopsis>
   <para>
    <function>ftp_site</function> retourne &true;
    en cas de succ&egrave;s, et &false; sinon.
   </para>
   <para>
    <function>ftp_site</function> envoie la commande <parameter>cmd</parameter> au
    serveur FTP.  Les commandes SITE ne sont pas normalis&eacute;es, et peuvent
    varier d'un serveur &agrave; l'autre. Elles permettent de g&eacute;rer
    notamment les permissions de fichier, et les groupes.
   </para>
  </refsect1>
 </refentry>
 <refentry id="function.ftp-quit">
  <refnamediv>
   <refname>ftp_quit</refname>
   <refpurpose>Ferme une connexion FTP.</refpurpose>
  </refnamediv>
  <refsect1>
   <title>Description</title>
   <funcsynopsis>
    <funcprototype>
     <funcdef>bool <function>ftp_quit</function></funcdef>
     <paramdef>resource <parameter>ftp_stream</parameter></paramdef>
    </funcprototype>
   </funcsynopsis>
   <para>
    <function>ftp_quit</function> ferme la connexion
    <parameter>ftp_stream</parameter>.
   </para>
  </refsect1>
 </refentry>
</reference>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
