<reference id="ref.exec">
 <title>Ex&eacute;cution de programmes externes</title>
 <titleabbrev>Ex&eacute;cution de programmes</titleabbrev>
  <partintro>
   <simpara>
    Ces fonctions fournissent la possibilit&eacute; de passer directement des commandes
    au syst&egrave;me, mais aussi de prot&eacute;ger le syst&egrave;me des commandes pass&eacute;es.
    Ces fonctions sont compl&eacute;t&eacute;es par l'op&eacute;rateur
    <link linkend="language.operators.execution">guillemets obliques</link>.
   </simpara>
  </partintro>
   <refentry id="function.escapeshellarg">
  <refnamediv>
   <refname>escapeshellarg</refname>
   <refpurpose>
    Echappe une cha&icirc;ne de caract&egrave;res pour qu'elle soit
    utilis&eacute;e en ligne de commande.
   </refpurpose>
  </refnamediv>
  <refsect1>
   <title>Description</title>
   <funcsynopsis>
    <funcprototype>
     <funcdef>string <function>escapeshellarg</function></funcdef>
     <paramdef>string <parameter>arg</parameter></paramdef>
    </funcprototype>
   </funcsynopsis>
   <para>
    <function>escapeshellarg</function> ajoute des guillemets simples
    autour des cha&icirc;nes de caract&egrave;res, et ajoute des
    guillemets puis &eacute;chappe les guillemets simples de la
    cha&icirc;ne. Cela permet de faire passer directement une
    cha&icirc;ne comme argument shell, tout en assurant un
    maximum de s&eacute;curit&eacute;. <function>escapeshellarg</function>
    doit &ecirc;tre utilis&eacute;e pour traiter individuellement chacun des arguments
    &agrave; passer au shell. Les fonctions shell sont
    <function>exec</function>, <function>system</function> et
    les op&eacute;rateurs
    <link linkend="language.operators.execution">guillemets obliques</link>.
    Une utilisation typique est :
   </para>
   <para>
    <informalexample>
     <programlisting role="php">
&lt;?php
  system("ls ".escapeshellarg($dir));
?&gt;
     </programlisting>
    </informalexample>
   </para>
   <para>
    Voir aussi
    <function>exec</function>,
    <function>popen</function>,
    <function>system</function> et
    les op&eacute;rateurs
    <link linkend="language.operators.execution">guillemets obliques</link>.
   </para>
  </refsect1>
 </refentry>
 <refentry id="function.escapeshellcmd">
  <refnamediv>
   <refname>escapeshellcmd</refname>
   <refpurpose>Echappe les m&eacute;ta-caract&egrave;res Shell.</refpurpose>
  </refnamediv>
  <refsect1>
   <title>Description</title>
   <funcsynopsis>
    <funcprototype>
     <funcdef>string <function>escapeshellcmd</function></funcdef>
     <paramdef>string <parameter>command</parameter></paramdef>
    </funcprototype>
   </funcsynopsis>
   <para>
    <function>escapeshellcmd</function> &eacute;chappe tous les
    caract&egrave;res de la cha&icirc;ne <parameter>command</parameter>
    qui pourraient avoir une signification sp&eacute;ciale dans une
    commande shell. Cette fonction permet de s'assurer que la commande sera
    correctement pass&eacute;e &agrave; l'ex&eacute;cuteur de commande shell
    <function>exec</function> et <function>system</function>, ou encore
    &agrave;
    <link linkend="language.operators.execution">guillemets obliques</link>.
    G&eacute;n&eacute;ralement, cette fonction est utilis&eacute;e comme ceci :
   </para>
   <para>
    <informalexample>
     <programlisting role="php">
&lt;?php
  system(escapeshellcmd($cmd));
?&gt;
     </programlisting>
    </informalexample>
   </para>
   <para>
    Voir aussi
    <function>exec</function>,
    <function>popen</function>,
    <function>system</function>, et
    les op&eacute;rateurs 
    <link linkend="language.operators.execution">guillemets obliques</link>.
   </para>
  </refsect1>
 </refentry>
 <refentry id="function.exec">
  <refnamediv>
   <refname>exec</refname>
   <refpurpose>Ex&eacute;cute un programme externe.</refpurpose>
  </refnamediv>
  <refsect1>
   <title>Description</title>
   <funcsynopsis>
    <funcprototype>
     <funcdef>string <function>exec</function></funcdef>
     <paramdef>string <parameter>command</parameter></paramdef>
     <paramdef>string
      <parameter><optional>array</optional>
      </parameter>
     </paramdef>
     <paramdef>int
      <parameter><optional>return_var</optional></parameter>
     </paramdef>
    </funcprototype>
   </funcsynopsis>
   <para>
    <function>exec</function> &eacute;xecute la commande
    <parameter>command</parameter>, mais ne renvoie rien comme retour,
    hormis la derni&egrave;re ligne du r&eacute;sultat de la
    commande. Pour ex&eacute;cuter une commande et obtenir le
    r&eacute;sultat sans aucun traitement, il faut utiliser la
    fonction <function>passthru</function>.
   </para>
   <para>
    Si l'argument <parameter>array</parameter> est pr&eacute;sent,
    alors ce tableau sera rempli par les lignes retourn&eacute;es par
    la commande. Il faut noter que si ce tableau contient des
    &eacute;l&eacute;ments, <function>exec</function> ajoutera
    les nouvelles lignes &agrave; la fin du tableau. Si vous ne
    voulez pars que les nouveaux &eacute;l&eacute;ments soient
    concat&eacute;n&eacute;s, utilisez la fonction
    <function>unset</function> avec ce tableau avant
    de le passer &agrave; <function>exec</function>.
   </para>
   <para>
    Si l'argument <parameter>return_var</parameter> est pr&eacute;sent
    en plus du tableau <parameter>array</parameter>, alors de statut
    de retour d'ex&eacute;cution sera inscrit dans cette variable.
   </para>
   <para>
    Notez que si vous allez fournir des commandes qui proviennent
    d'un utilisateur, il est avis&eacute; d'utiliser la fonction
    <function>escapeshellcmd</function>  pour s'assurer que
    l'utilisateur n'essaie pas de profiter des caract&egrave;res
    sp&eacute;ciaux pour tromper le syst&egrave;me.
   </para>
   <para>
    Voir aussi <function>system</function>,
    <function>passthru</function>, <function>popen</function>,
    <function>escapeshellcmd</function>, et les op&eacute;rateurs 
    <link linkend="language.operators.execution">guillemets obliques</link>.
   </para>
  </refsect1>
 </refentry>
 <refentry id="function.passthru">
  <refnamediv>
   <refname>passthru</refname>
   <refpurpose>
    Ex&eacute;cute un programme externe et affiche le r&eacute;sultat brut.
   </refpurpose>
  </refnamediv>
  <refsect1>
   <title>Description</title>
   <funcsynopsis>
    <funcprototype>
     <funcdef>void <function>passthru</function></funcdef>
     <paramdef>string <parameter>command</parameter></paramdef>
     <paramdef>int
      <parameter><optional>return_var</optional></parameter>
     </paramdef>
    </funcprototype>
   </funcsynopsis>
   <para>
    La fonction <function>passthru</function> est similaire
    &agrave; la fonction <function>exec</function> car les
    deux ex&eacute;cutent la commande <parameter>command</parameter>.
    Si l'argument <parameter>return_var</parameter> est pr&eacute;sent,
    le code de statut de r&eacute;ponse UNIX y sera plac&eacute;.
    Cette fonction doit &ecirc;tre utilis&eacute;e de pr&eacute;f&eacute;rence
    aux commandes <function>exec</function> ou <function>system</function>
    lorsque le r&eacute;sultat attendu est de type binaire, et
    doit &ecirc;tre pass&eacute; tel quel &agrave; un navigateur.
    Une utilisation classique de cette fonction est l'ex&eacute;cution
    de l'utilitaire pbmplus qui peut retourner une image. En fixant
    le r&eacute;sultat du contenu (Content-Type) &agrave;
    &quot;image/gif&quot; puis en appelant pbmplus pour obtenir
    une image gif, vous pouvez cr&eacute;er des scripts PHP qui
    retourne des images.
   </para>
   <para>
    Voir aussi
    <function>exec</function>,
    <function>system</function>,
    <function>popen</function>,
    <function>escapeshellcmd</function>,
    et les op&eacute;rateurs 
    <link linkend="language.operators.execution">guillemets obliques</link>.
   </para>
  </refsect1>
 </refentry>
 <refentry id="function.system">
  <refnamediv>
   <refname>system</refname>
   <refpurpose>
    Ex&eacute;cute un programme externe et affiche le r&eacute;sultat.
   </refpurpose>
  </refnamediv>
  <refsect1>
   <title>Description</title>
   <funcsynopsis>
    <funcprototype>
     <funcdef>string <function>system</function></funcdef>
     <paramdef>string <parameter>command</parameter></paramdef>
     <paramdef>int
      <parameter><optional>return_var</optional></parameter>
     </paramdef>
    </funcprototype>
   </funcsynopsis>
   <para>
    <function>system</function> est la version PHP de la fonction C
    qui ex&eacute;cute la commande <parameter>command</parameter> et
    retourne le r&eacute;sultat. Si une variable est fournie comme
    second argument, alors le code de statut de la commande y sera
    affect&eacute;.
   </para>
   <para>
    Notez que si vous allez fournir des commandes qui proviennent
    d'un utilisateur, il est avis&eacute; d'utiliser la fonction
    <function>escapeshellcmd</function> pour s'assurer que
    l'utilisateur n'essaie pas de profiter des caract&egrave;res
    sp&eacute;ciaux pour tromper le syst&egrave;me.
   </para>
   <para>
    <function>system</function> essaie automatiquement de vider
    les tampons du serveur web apr&egrave;s chaque ligne de
    r&eacute;sultat PHP, lorsque ce dernier fonctionne comme un module.
   </para>
   <para>
    <function>system</function> retourne la derni&egrave;re ligne du
    retour, en cas de succ&egrave;s, et <literal>FALSE</literal> en
    cas d'&eacute;chec.
   </para>
   <para>
    Si vous devez ex&eacute;cuter une commande et
    r&eacute;cup&eacute;rer tout le r&eacute;sultat sans aucune
    intervention, utilisez la fonction <function>passthru</function>.
   </para>
   <para>
    Voir aussi
    <function>exec</function>,
    <function>passthru</function>,
    <function>popen</function>,
    <function>escapeshellcmd</function> et
    les op&eacute;rateurs 
    <link linkend="language.operators.execution">guillemets obliques</link>.
   </para>
  </refsect1>
 </refentry>
</reference>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
