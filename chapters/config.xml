<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision: 1.17 $ -->
 <chapter id="configuration">
  <title>Configuration</title>
  <sect1 id="configuration.file">
   <title>Le fichier de configuration</title>
   <simpara>
     Le fichier de configuration (appel&eacute; <filename>php3.ini</filename>
     dans la version 3.0 du PHP, et simplement <filename>php.ini</filename>
     dans la version 4.0) est lu par le PHP au d&eacute;marrage. Si vous
     avez compil&eacute; PHP en module, le fichier n'est lu qu'une seule
     fois, au lancement du d&eacute;mon <acronym>HTTP</acronym>. Pour la version
     <acronym>CGI</acronym> le fichier est lu &agrave; chaque invocation.
   </simpara>
   <para>
    <example>
     <title>Extrait du php.ini</title>
     <programlisting role="ini">
; tout texte sur une ligne, situ&eacute; apr&egrave;s un point-virgule  ";" est ignor&eacute;
[php] ; les marqueur de section (texte entre crochets) sont aussi ignor&eacute;s
; Les valeurs bool&eacute;enne peuvent &ecirc;tre sp&eacute;cifi&eacute;es comme ceci :
;    true, on, yes
; ou false, off, no, none
register_globals = off
magic_quotes_gpc = yes
; vous pouvez placer les cha&icirc;nes de caract&egrave;res entre guillemets
include_path = ".:/usr/local/lib/php"
; Les anti-slash sont trait&eacute;s comme n'importe quel caract&egrave;re
include_path = ".;c:\php\lib"
</programlisting>
<!-- TODO: add more details about values and expressions -->
    </example>
   </para>
   <simpara>
     Lorsque vous utilisez le module Apache, vous pouvez aussi changer
     les param&egrave;tres de configurations en utilisant les directives
     dans les fichiers de configuration d'Apache et dans les fichiers
     <filename>.htaccess</filename>.
   </simpara>
   <simpara>
     Dans la version 3.0, &agrave; chaque directive de configuration
     pr&eacute;sente dans le fichier de configuration d'Apache correspond
     une directive de configuration dans le fichier
     <filename>php3.ini</filename>, &agrave; l'exception des directives
     pr&eacute;fix&eacute;es par "php3_".
   </simpara>
   <simpara>
     Dans la version 4.0, il n'y a que quelques directives
     dans le fichier de configuration d'Apache qui vous permettent de
     modifier la configuration de PHP.
   </simpara>
   <variablelist>
    <varlistentry>
     <term>
       <systemitem role="directive">php_value</systemitem>
       <parameter>name</parameter>
       <parameter>value</parameter>
      </term>
      <listitem>
       <para>
        Cette directive affecte une valeur &agrave; la variable
        sp&eacute;cifi&eacute;e.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
       <systemitem role="directive">php_flag</systemitem>
       <parameter>name</parameter>
       <parameter>on|off</parameter>
      </term>
      <listitem>
       <para>
        Cette directive est utilis&eacute;e pour activer ou
        d&eacute;sactiver une option.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
       <systemitem role="directive">php_admin_value</systemitem>
       <parameter>name</parameter>
       <parameter>value</parameter>
      </term>
      <listitem>
       <para>
         Cette directive affecte une valeur &agrave; la variable
         sp&eacute;cifi&eacute;e. La directive "Admin" ne peut &ecirc;tre
         utilis&eacute;e que dans le fichier de configuration d'Apache, et
         non dans un fichier <filename>.htaccess</filename>.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
       <systemitem role="directive">php_admin_flag</systemitem>
       <parameter>name</parameter>
       <parameter>on|off</parameter>
      </term>
      <listitem>
       <para>
        Cette directive est utilis&eacute;e pour activer ou d&eacute;sactiver l'option
        pr&eacute;c&eacute;dente.
    </para>
      </listitem>
     </varlistentry>
    </variablelist>
   <para>
    <example>
     <title>Exemple de configuration Apache</title>
     <programlisting role="ini">
&lt;IfModule mod_php4.c&gt;
  php_value include_path ".:/usr/local/lib/php"
  php_flag safe_mode on
&lt;/IfModule&gt;
&lt;IfModule mod_php3.c&gt;
  php3_include_path ".:/usr/local/lib/php"
  php3_safe_mode on
&lt;/IfModule&gt;
</programlisting>
    </example>
   </para>
   <simpara>
     Vous pouvez voir l'&eacute;tat de votre configuration en utilisant
     la fonction <function>phpinfo</function>. Vous pouvez aussi
     acc&eacute;der aux valeurs de votre configuration de mani&egrave;re
      individuelle en utilisant la fonction <function>get_cfg_var</function>.
   </simpara>
   <sect2 id="ini.sect.general">
    <title>Directives de configuration g&eacute;n&eacute;rale</title>
     <variablelist>
      <varlistentry id="ini.asp-tags">
       <term>
        <parameter>asp_tags</parameter>
        <type>bool&eacute;en</type>
       </term>
       <listitem>
        <para>
         Active l'utilisation des balises de type ASP &lt;% %&gt;, en plus des
         traditionnelles balises &lt;?php ?&gt; . Cela inclut l'utilisation du raccourcid
         &lt;%= $value %&gt;. Pour plus d'informations, reportez-vous &agrave;
         <link linkend="language.basic-syntax.phpmode">inclusion dans le HTML</link>.
        </para>
        <note>
         <para>
          Le support des balises ASP a &eacute;t&eacute; ajout&eacute; dans la version 3.0.4.
        </para>
        </note>
       </listitem>
      </varlistentry>
      <varlistentry id="ini.auto-append-file">
       <term>
        <parameter>auto_append_file</parameter>
        <type>cha&icirc;ne de caract&egrave;res</type>
       </term>
       <listitem>
        <para>
         Sp&eacute;cifie le nom d'un fichier qui sera automatiquement ajout&eacute;
         apr&egrave;s le fichier principal. Le fichier est inclus comme s'il avait
         &eacute;t&eacute; appel&eacute; avec la fonction <function>include</function>,
         donc <link linkend="ini.include-path">include_path</link> est utilis&eacute;.
        </para>
        <para>
         Le mot r&eacute;serv&eacute; <systemitem class="constant">NONE</systemitem>
         d&eacute;sactive l'auto-appending.
        </para>
        <note>
         <para>
          Si le script s'arr&ecirc;te par la fonction <function>exit</function>,
          auto-append <emphasis>ne fonctionnera pas</emphasis>.
         </para>
        </note>
       </listitem>
      </varlistentry>
      <varlistentry id="ini.auto-prepend-file">
       <term>
        <parameter>auto_prepend_file</parameter>
        <type>cha&icirc;ne de caract&egrave;res</type>
       </term>
       <listitem>
        <para>
         Sp&eacute;cifie le nom d'un fichier qui sera automatiquement ajout&eacute;
         avant le fichier principal. Le fichier est inclus comme s'il avait
         &eacute;t&eacute; appel&eacute; avec la fonction <function>include</function>,
         donc <link linkend="ini.include-path">include_path</link> est utilis&eacute;.
        </para>
        <para>
           Le mot r&eacute;serv&eacute; <systemitem class="constant">NONE</systemitem>
           d&eacute;sactive l'auto-appending.
         </para>
       </listitem>
      </varlistentry>
      <varlistentry id="ini.cgi-ext">
       <term>
        <parameter>cgi_ext</parameter>
        <type>cha&icirc;ne de caract&egrave;res</type>
       </term>
       <listitem>
    <para>
    (NDT : aucune documentation n'est fournie).
    </para>
       </listitem>
      </varlistentry>
      <varlistentry id="ini.doc-root">
       <term>
        <parameter>doc_root</parameter>
        <type>string</type>
       </term>
       <listitem>
        <para>
         Le dossier racine de PHP. Cette directive n'est utilis&eacute;e que
         si elle est d&eacute;finie. Si PHP est configur&eacute; en
         &safemode;, aucun fichier en dehors de ce dossier ne sera accessible.
        </para>
       </listitem>
      </varlistentry>
      <varlistentry id="ini.open-basedir">
       <term>
    <parameter>open_basedir</parameter>
    <type>string</type>
       </term>
       <listitem>
    <para>
    Limite l'espace o&ugrave; PHP peut ouvrir des fichiers.
    </para>
    <para>
     Lorsqu'un script essaie d'ouvrir un fichier avec les fonctions
     fopen ou gzopen (par exemple), la localisation du fichier est v&eacute;rifi&eacute;e.
     Si ce fichier est hors du dossier cit&eacute; dans cette directive, PHP refusera
     de l'ouvrir. Tous les liens symboliques sont r&eacute;solus, et subissent aussi
     la restriction.
    </para>
    <para>
     La valeur sp&eacute;ciale <systemitem class="constant">.</systemitem>
     indique que le dossier courant du script est utilis&eacute; comme open_basedir.
    </para>
    <para>
     Sous Windows, s&eacute;parez les noms de dossiers par un point virgule (;).
    Sur les autres syst&egrave;mes, s&eacute;parez les noms de dossiers par des deux points (:).
    Lorsque PHP est un module Apache, la valeur de la directive <literal>open_basedir</literal>
    des dossiers parents est automatiquement h&eacute;rit&eacute;e par les fils.
    </para>
        <note>
         <para>
          Le support pour les dossiers multiples a &eacute;t&eacute; ajout&eacute; dans 3.0.7.
          </para>
     </note>
    <para>
     La valeur par d&eacute;faut est : libre acc&egrave;s &agrave; tous les fichiers.
    </para>
       </listitem>
      </varlistentry>
      <varlistentry id="ini.register-argc-argv">
       <term>
        <parameter>register_argc_argv</parameter>
        <type>boolean</type>
       </term>
       <listitem>
        <simpara>
         Indique &agrave; &php; si il doit d&eacute;clarer les variables argv et
         argc (qui contiendront alors les m&ecirc;mes informations pass&eacute;es par m&eacute;thode GET).
        </simpara>
        <simpara>
         Voir aussi <link linkend="features.commandline">command line</link>.
         De plus, cette directive a &eacute;t&eacute; introduite en PHP 4.0.0 et
         a toujours &eacute;t&eacute; &agrave; "on" jusque la.
        </simpara>
       </listitem>
      </varlistentry>

      <varlistentry id="ini.post-max-size">
       <term>
        <parameter>post_max_size</parameter>
        <type>integer</type>
       </term>
       <listitem>
        <simpara>
         Configure la taille maximale de donn&eacute;es par m&eacute;thode POST.
         Cette configuration affecte aussi le t&eacute;l&eacute;chargement de fichier.
         Pour autoriser l'upload de grands fichiers, il faut que cette
         configuration soit plus grande encore, et plus grande que
         <link linkend="ini.upload-max-filesize">upload_max_filesize</link>.
        </simpara>
        <simpara>
         Si la limitation de m&eacute;moire est activ&eacute; dans votre script de configuration
         <link linkend="ini.memory-limit">memory_limit</link> va aussi affecter
         le t&eacute;l&eacute;chargement de fichier. En g&eacute;n&eacute;ral, 
         <link linkend="ini.memory-limit">memory_limit</link> doit &ecirc;tre plus
         grand que <parameter>post_max_size</parameter>.
        </simpara>
       </listitem>
      </varlistentry>
       <varlistentry id="ini.gpc-order">
       <term>
    <parameter>gpc_order</parameter>
    <type>cha&icirc;ne de caract&egrave;res</type>
       </term>
       <listitem>
    <para>
    Etablit l'ordre de pr&eacute;s&eacute;ance des m&eacute;thodes GET/POST/COOKIE.
    Par d&eacute;faut, cette directive est &eacute;tablie &agrave; "GPC". En affectant "GP" &agrave;
    cette directive, PHP ignorera les cookies, et &eacute;crasera toute m&eacute;thode
    GET utilis&eacute;e par une m&eacute;thode POST avec des variables du m&ecirc;me nom.
    </para>
       </listitem>
      </varlistentry>
      <varlistentry id="ini.include-path">
       <term>
    <parameter>include_path</parameter>
    <type>string</type>
       </term>
       <listitem>
    <para>
     Sp&eacute;cifie une liste de dossiers, o&ugrave; les fonctions <function>require</function>,
     <function>include</function> et fopen_with_path() (NDtraducteur : cette fonction
     semble avoir disparu) iront chercher les fichiers. Le format est le m&ecirc;me
     que celui de la variable d'environnement <envar>PATH</envar> : une liste de dossiers,
     s&eacute;par&eacute;s par des deux points (:) sous UNIX, et par des points virgules (;)
     sous Windows.
     <example>
      <title>UNIX include_path</title>
      <programlisting role="php3.ini">
include_path=.:/home/httpd/php-lib
      </programlisting>
     </example>
     <example>
      <title>Windows include_path</title>
      <programlisting role="php3.ini">
include_path=".;c:\www\phplib"
      </programlisting>
     </example>
     La valeur par d&eacute;faut pour cette directive est <literal>.</literal>,
     c'est-&agrave;-dire le dossier courant.</para>
       </listitem>
      </varlistentry>
      <varlistentry id="ini.isapi-ext">
    <term>
    <parameter>isapi_ext</parameter>
    <type>string</type>
       </term>
       <listitem>
         <para>
         (Aucune documentation n'est fournie)
        </para>
       </listitem>
      </varlistentry>
      <varlistentry id="ini.memory-limit">
       <term>
        <parameter>memory_limit</parameter>
        <type>entier</type>
       </term>
       <listitem>
        <para>
         Gr&acirc;ce &agrave; cette option, vous pouvez donner la quantit&eacute;
         maximale de m&eacute;moire qu'un script peut allouer. Ceci permet
         de se prevenir contre des scripts mal cod&eacute;s pouvant consommer toute 
         la m&eacute;moire disponible d'un serveur
        </para>
       </listitem>
      </varlistentry>
      <varlistentry id="ini.nsapi-ext">
       <term>
        <parameter>nsapi_ext</parameter>
        <type>cha&icirc;ne de caract&egrave;res</type>
       </term>
       <listitem>
        <para>
         Aucune documentation n'est fournie.
        </para>
       </listitem>
      </varlistentry>
      <varlistentry id="ini.register-globals">
       <term>
        <parameter>register_globals</parameter>
        <type>boolean</type>
       </term>
       <listitem>
        <para>
         Cette option active l'enregistrement des variables EGPCS
         (Environnement, GET, POST, Cookie, Serveur), en tant que
         variables globales. Vous pouvez d&eacute;sactiver cette fonction
         si vous ne voulez pas truffer vos scripts avec des
         valeurs utilisateurs. Cette option est surtout utile lorsqu'elle
         est utilis&eacute;e conjointement avec <link
         linkend="ini.track-vars">track_vars</link> - dans ce cas,
         vous pouvez acc&eacute;der &agrave; toutes les variables EGPCS gr&acirc;ce aux tableaux
         <varname>$HTTP_ENV_VARS</varname>,
         <varname>$HTTP_GET_VARS</varname>,
         <varname>$HTTP_POST_VARS</varname>,
         <varname>$HTTP_COOKIE_VARS</varname>, et
         <varname>$HTTP_SERVER_VARS</varname>.
        </para>
       </listitem>
      </varlistentry>
      <varlistentry id="ini.short-open-tag">
       <term>
        <parameter>short_open_tag</parameter>
        <type>bool&eacute;en</type>
       </term>
       <listitem>
        <para>
         Active ou d&eacute;sactive l'utilisation des balises courtes,
         (<userinput>&lt;? ?&gt;</userinput>). Si vous voulez utiliser PHP et XML en m&ecirc;me
         temps, vous devez d&eacute;sactiver cette option. Si cette option est
         d&eacute;sactiv&eacute;e, vous devez utiliser la forme longue des tags,
         (<userinput>&lt;?php ?&gt;</userinput>).</para>
       </listitem>
      </varlistentry>
      <varlistentry id="ini.sql.safe-mode">
       <term>
        <parameter>sql.safe_mode</parameter>
        <type>bool&eacute;en</type>
       </term>
       <listitem>
        <para>
          Aucune documentation n'est fournie.
        </para>
       </listitem>
      </varlistentry>
      <varlistentry id="ini.track-vars">
       <term>
        <parameter>track_vars</parameter>
        <type>bool&eacute;en</type>
       </term>
       <listitem>
        <para>
         Si cette option est activ&eacute;e, lors de l'appel des m&eacute;thodes GET, POST et
         l'utilisation des cookies, les variables sont disponibles dans des tableaux
         associatifs globaux appel&eacute;s respectivement <symbol>$HTTP_GET_VARS</symbol>,
         <symbol>$HTTP_POST_VARS</symbol> et <symbol>$HTTP_COOKIE_VARS</symbol>.
        </para>
       </listitem>
      </varlistentry>
      <varlistentry id="ini.upload-tmp-dir">
       <term>
        <parameter>upload_tmp_dir</parameter>
        <type>cha&icirc;ne de caract&egrave;res</type>
       </term>
       <listitem>
        <para>
         Indique le r&eacute;pertoire utilis&eacute; lors du chargement d'un fichier sur un
         serveur. Ce r&eacute;pertoire doit &ecirc;tre accessible en lecture pour
         l'utilisateur qui lance le script PHP.
        </para>
       </listitem>
      </varlistentry>
      <varlistentry id="ini.upload-max-filesize">
       <term>
        <parameter>upload_max_filesize</parameter>
        <type>entier</type>
       </term>
       <listitem>
        <para>
         La taille maximale d'un fichier t&eacute;l&eacute;charg&eacute; sur le serveur. La valeur
         doit &ecirc;tre en octets. Par d&eacute;faut, elle est de 2 m&eacute;ga-octets.
         in bytes.
        </para>
        </listitem>
       </varlistentry>
      <varlistentry id="ini.user-dir">
       <term>
        <parameter>user_dir</parameter>
        <type>cha&icirc;ne de caract&egrave;res</type>
       </term>
       <listitem>
        <para>
         R&eacute;pertoire o&ugrave; sont stock&eacute;s les fichiers PHP dans le
         r&eacute;pertoire d'un utilisateur. Par exemple, <literal>public_html</literal>.
        </para>
       </listitem>
      </varlistentry>
    </variablelist>
   </sect2>
   <sect2 id="ini.sect.safe-mode">
    <title>Directives de configuration du "Safe Mode"</title>
    <variablelist>
     <varlistentry id="ini.safe-mode">
      <term>
       <parameter>safe_mode</parameter>
       <type>bool&eacute;en</type>
      </term>
      <listitem>
       <para>
        Cette directive active ou d&eacute;sactive l'option &safemode;, un
        mode de s&eacute;curisation de PHP lors du partage avec plusieurs utilisateurs.
        </para>
      </listitem>
     </varlistentry>
     <varlistentry id="ini.safe-mode-exec-dir">
      <term>
       <parameter>safe_mode_exec_dir</parameter>
       <type>cha&icirc;ne de caract&egrave;res</type>
      </term>
      <listitem>
       <para>
        Si l'option "SAFE MODE" est activ&eacute;e, <function>system</function> et les
        autres fonctions ex&eacute;cutant des programmes syst&egrave;mes refusent de se lancer
        si ces programmes ne sont pas plac&eacute;s dans ce r&eacute;pertoire.
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
   </sect2>
   <sect2 id="ini.sect.debugger">
    <title>Directives de configuration de d&eacute;bugage.</title>
    <variablelist>
     <varlistentry id="ini.debugger.host">
      <term>
       <parameter>debugger.host</parameter>
       <type>cha&icirc;ne de caract&egrave;res</type>
      </term>
      <listitem>
       <para>
        Adresse IP ou nom de l'h&ocirc;te utilis&eacute; pour le d&eacute;bugage.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry id="ini.debugger.port">
      <term>
       <parameter>debugger.port</parameter>
       <type>cha&icirc;ne de caract&egrave;res</type>
      </term>
      <listitem>
       <para>
        Num&eacute;ro du port utilis&eacute; pour le d&eacute;bugage.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry id="ini.debugger.enabled">
      <term>
       <parameter>debugger.enabled</parameter>
       <type>bool&eacute;en</type>
      </term>
      <listitem>
       <para>
        Activation ou d&eacute;sactivation du  d&eacute;bugueur.</para>
      </listitem>
     </varlistentry>
    </variablelist>
   </sect2>
   <sect2 id="ini.sect.extension">
    <title>Directives de chargement des extensions</title>
    <variablelist>
     <varlistentry id="ini.extension-dir">
      <term>
       <parameter>extension_dir</parameter>
       <type>cha&icirc;ne de caract&egrave;res</type>
      </term>
      <listitem>
       <para>
        D&eacute;finit le r&eacute;pertoire dans lequel le PHP doit chercher les extensions lors
        du chargement dynamique.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry id="ini.extension">
      <term>
       <parameter>extension</parameter>
       <type>cha&icirc;ne de caract&egrave;res</type>
      </term>
      <listitem>
       <para>
        D&eacute;finit les extensions qui doivent &ecirc;tre charg&eacute;es lors du
        d&eacute;marrage du PHP.
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
   </sect2>
  </sect1>
 </chapter>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->

